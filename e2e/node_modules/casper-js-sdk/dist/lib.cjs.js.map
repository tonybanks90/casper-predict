{"version":3,"file":"lib.cjs.js","mappings":"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","sources":["webpack://casper-js-sdk/./src/@types/common.ts","webpack://casper-js-sdk/./src/@types/error.ts","webpack://casper-js-sdk/./src/@types/index.ts","webpack://casper-js-sdk/./src/index.ts","webpack://casper-js-sdk/./src/rpc/error.ts","webpack://casper-js-sdk/./src/rpc/http_handler.ts","webpack://casper-js-sdk/./src/rpc/id_value.ts","webpack://casper-js-sdk/./src/rpc/index.ts","webpack://casper-js-sdk/./src/rpc/request.ts","webpack://casper-js-sdk/./src/rpc/response.ts","webpack://casper-js-sdk/./src/rpc/rpc_client.ts","webpack://casper-js-sdk/./src/rpc/speculative_client.ts","webpack://casper-js-sdk/./src/sse/client.ts","webpack://casper-js-sdk/./src/sse/event.ts","webpack://casper-js-sdk/./src/sse/event_parser.ts","webpack://casper-js-sdk/./src/sse/index.ts","webpack://casper-js-sdk/./src/types/Account.ts","webpack://casper-js-sdk/./src/types/AddressableEntity.ts","webpack://casper-js-sdk/./src/types/Args.ts","webpack://casper-js-sdk/./src/types/AuctionState.ts","webpack://casper-js-sdk/./src/types/Bid.ts","webpack://casper-js-sdk/./src/types/BidKind.ts","webpack://casper-js-sdk/./src/types/Block.ts","webpack://casper-js-sdk/./src/types/BlockProposer.ts","webpack://casper-js-sdk/./src/types/ByteCode.ts","webpack://casper-js-sdk/./src/types/ByteConverters.ts","webpack://casper-js-sdk/./src/types/CalltableSerialization.ts","webpack://casper-js-sdk/./src/types/Contract.ts","webpack://casper-js-sdk/./src/types/ContractPackage.ts","webpack://casper-js-sdk/./src/types/ContractWasm.ts","webpack://casper-js-sdk/./src/types/Conversions.ts","webpack://casper-js-sdk/./src/types/Deploy.ts","webpack://casper-js-sdk/./src/types/DeployInfo.ts","webpack://casper-js-sdk/./src/types/EntryPoint.ts","webpack://casper-js-sdk/./src/types/EraEnd.ts","webpack://casper-js-sdk/./src/types/EraInfo.ts","webpack://casper-js-sdk/./src/types/EraSummary.ts","webpack://casper-js-sdk/./src/types/ExecutableDeployItem.ts","webpack://casper-js-sdk/./src/types/ExecutionResult.ts","webpack://casper-js-sdk/./src/types/HexBytes.ts","webpack://casper-js-sdk/./src/types/InitiatorAddr.ts","webpack://casper-js-sdk/./src/types/MessageTopic.ts","webpack://casper-js-sdk/./src/types/MinimalBlockInfo.ts","webpack://casper-js-sdk/./src/types/NamedKey.ts","webpack://casper-js-sdk/./src/types/Package.ts","webpack://casper-js-sdk/./src/types/Prepayment.ts","webpack://casper-js-sdk/./src/types/PricingMode.ts","webpack://casper-js-sdk/./src/types/SerializationUtils.ts","webpack://casper-js-sdk/./src/types/StoredValue.ts","webpack://casper-js-sdk/./src/types/Time.ts","webpack://casper-js-sdk/./src/types/Transaction.ts","webpack://casper-js-sdk/./src/types/TransactionBuilder.ts","webpack://casper-js-sdk/./src/types/TransactionEntryPoint.ts","webpack://casper-js-sdk/./src/types/TransactionScheduling.ts","webpack://casper-js-sdk/./src/types/TransactionTarget.ts","webpack://casper-js-sdk/./src/types/TransactionV1Payload.ts","webpack://casper-js-sdk/./src/types/Transfer.ts","webpack://casper-js-sdk/./src/types/Transform.ts","webpack://casper-js-sdk/./src/types/TransformRaw.ts","webpack://casper-js-sdk/./src/types/UnbondingPurse.ts","webpack://casper-js-sdk/./src/types/ValidatorWeight.ts","webpack://casper-js-sdk/./src/types/clvalue/Any.ts","webpack://casper-js-sdk/./src/types/clvalue/Bool.ts","webpack://casper-js-sdk/./src/types/clvalue/ByteArray.ts","webpack://casper-js-sdk/./src/types/clvalue/CLValue.ts","webpack://casper-js-sdk/./src/types/clvalue/List.ts","webpack://casper-js-sdk/./src/types/clvalue/Map.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/Abstract.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/Int32.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/Int64.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/Uint128.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/Uint256.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/Uint32.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/Uint512.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/Uint64.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/Uint8.ts","webpack://casper-js-sdk/./src/types/clvalue/Numeric/index.ts","webpack://casper-js-sdk/./src/types/clvalue/Option.ts","webpack://casper-js-sdk/./src/types/clvalue/Parser.ts","webpack://casper-js-sdk/./src/types/clvalue/Result.ts","webpack://casper-js-sdk/./src/types/clvalue/String.ts","webpack://casper-js-sdk/./src/types/clvalue/Tuple1.ts","webpack://casper-js-sdk/./src/types/clvalue/Tuple2.ts","webpack://casper-js-sdk/./src/types/clvalue/Tuple3.ts","webpack://casper-js-sdk/./src/types/clvalue/UintBig.ts","webpack://casper-js-sdk/./src/types/clvalue/Unit.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/ByteArray.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/CLType.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/CLTypeRaw.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/Dynamic.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/List.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/Map.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/Option.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/Parser.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/Result.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/Tuple1.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/Tuple2.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/Tuple3.ts","webpack://casper-js-sdk/./src/types/clvalue/cltype/index.ts","webpack://casper-js-sdk/./src/types/clvalue/index.ts","webpack://casper-js-sdk/./src/types/index.ts","webpack://casper-js-sdk/./src/types/key/Account.ts","webpack://casper-js-sdk/./src/types/key/AddressableEntity.ts","webpack://casper-js-sdk/./src/types/key/BalanceHoldAddr.ts","webpack://casper-js-sdk/./src/types/key/BidAddr.ts","webpack://casper-js-sdk/./src/types/key/BlockGlobalAddr.ts","webpack://casper-js-sdk/./src/types/key/ByteCode.ts","webpack://casper-js-sdk/./src/types/key/Contract.ts","webpack://casper-js-sdk/./src/types/key/ContractPackage.ts","webpack://casper-js-sdk/./src/types/key/EntityAddr.ts","webpack://casper-js-sdk/./src/types/key/EntryPointAddr.ts","webpack://casper-js-sdk/./src/types/key/Era.ts","webpack://casper-js-sdk/./src/types/key/Hash.ts","webpack://casper-js-sdk/./src/types/key/Key.ts","webpack://casper-js-sdk/./src/types/key/MessageAddr.ts","webpack://casper-js-sdk/./src/types/key/NewNamedKeyAddr.ts","webpack://casper-js-sdk/./src/types/key/Transfer.ts","webpack://casper-js-sdk/./src/types/key/URef.ts","webpack://casper-js-sdk/./src/types/key/index.ts","webpack://casper-js-sdk/./src/types/keypair/Algorithm.ts","webpack://casper-js-sdk/./src/types/keypair/PrivateKey.ts","webpack://casper-js-sdk/./src/types/keypair/PublicKey.ts","webpack://casper-js-sdk/./src/types/keypair/ed25519/PrivateKey.ts","webpack://casper-js-sdk/./src/types/keypair/ed25519/PublicKey.ts","webpack://casper-js-sdk/./src/types/keypair/index.ts","webpack://casper-js-sdk/./src/types/keypair/secp256k1/PrivateKey.ts","webpack://casper-js-sdk/./src/types/keypair/secp256k1/PublicKey.ts","webpack://casper-js-sdk/./src/types/keypair/secp256k1/encoders.ts","webpack://casper-js-sdk/./src/types/keypair/utils.ts","webpack://casper-js-sdk/./src/utils/auction-manager.ts","webpack://casper-js-sdk/./src/utils/casper-network.ts","webpack://casper-js-sdk/./src/utils/cep-18-transfer.ts","webpack://casper-js-sdk/./src/utils/cep-nft-transfer.ts","webpack://casper-js-sdk/./src/utils/common.ts","webpack://casper-js-sdk/./src/utils/constants.ts","webpack://casper-js-sdk/./src/utils/cspr-transfer.ts","webpack://casper-js-sdk/./src/utils/index.ts","webpack://casper-js-sdk/external commonjs \"@ethersproject/bignumber\"","webpack://casper-js-sdk/external commonjs \"@ethersproject/bytes\"","webpack://casper-js-sdk/external commonjs \"@ethersproject/constants\"","webpack://casper-js-sdk/external commonjs \"@noble/ed25519\"","webpack://casper-js-sdk/external commonjs \"@noble/hashes/blake2b\"","webpack://casper-js-sdk/external commonjs \"@noble/hashes/hmac\"","webpack://casper-js-sdk/external commonjs \"@noble/hashes/sha256\"","webpack://casper-js-sdk/external commonjs \"@noble/hashes/sha512\"","webpack://casper-js-sdk/external commonjs \"@noble/secp256k1\"","webpack://casper-js-sdk/external commonjs \"asn1.js\"","webpack://casper-js-sdk/external commonjs \"axios\"","webpack://casper-js-sdk/external commonjs \"bn.js\"","webpack://casper-js-sdk/external commonjs \"elliptic\"","webpack://casper-js-sdk/external commonjs \"eventsource\"","webpack://casper-js-sdk/external commonjs \"humanize-duration\"","webpack://casper-js-sdk/external commonjs \"lodash/isNull\"","webpack://casper-js-sdk/external commonjs \"ts-results\"","webpack://casper-js-sdk/external commonjs \"typedjson\"","webpack://casper-js-sdk/webpack/bootstrap","webpack://casper-js-sdk/webpack/startup"],"sourcesContent":["export enum CasperNetworkName {\n  Mainnet = 'casper',\n  Testnet = 'casper-test',\n  Integration = 'integration-test',\n  DevNet = 'dev-net'\n}\n\nexport enum AuctionManagerEntryPoint {\n  delegate = 'delegate',\n  undelegate = 'undelegate',\n  redelegate = 'redelegate',\n  addBid = 'add_bid',\n  withdrawBid = 'withdraw_bid',\n  activateBid = 'activate_bid'\n}\n\nexport enum NFTTokenStandard {\n  CEP47 = 'CEP47',\n  CEP78 = 'CEP78',\n  CEP95 = 'CEP95'\n}\n","export enum ErrorCode {\n  /// The requested Deploy was not found.\n  NoSuchDeploy = -32000,\n  /// The requested Block was not found.\n  NoSuchBlock = -32001,\n  /// Parsing the Key for a query failed.\n  FailedToParseQueryKey = -32002,\n  /// The query failed to find a result.\n  QueryFailed = -32003,\n  /// Executing the query failed.\n  QueryFailedToExecute = -32004,\n  /// Parsing the URef while getting a balance failed.\n  FailedToParseGetBalanceURef = -32005,\n  /// Failed to get the requested balance.\n  FailedToGetBalance = -32006,\n  /// Executing the query to retrieve the balance failed.\n  GetBalanceFailedToExecute = -32007,\n  /// The given Deploy cannot be executed as it is invalid.\n  InvalidDeploy = -32008,\n  /// The given account was not found.\n  NoSuchAccount = -32009,\n  /// Failed to get the requested dictionary URef.\n  FailedToGetDictionaryURef = -32010,\n  /// Failed to get the requested dictionary trie.\n  FailedToGetTrie = -32011,\n  /// The requested state root hash was not found.\n  NoSuchStateRoot = -32012,\n  /// The main purse for a given account hash does not exist.\n  NoMainPurse = -32013,\n  /// The requested Transaction was not found.\n  NoSuchTransaction = -32014,\n  /// Variant mismatch.\n  VariantMismatch = -32015,\n  /// The given Transaction cannot be executed as it is invalid.\n  InvalidTransaction = -32016,\n  /// The given Block could not be verified.\n  InvalidBlock = -32017,\n  /// Failed during a node request.\n  NodeRequestFailed = -32018,\n  /// The request could not be satisfied because an underlying function is disabled.\n  FunctionIsDisabled = -32019,\n  /// The requested addressable entity was not found.\n  NoSuchAddressableEntity = -32020,\n  /// The requested account has been migrated to an addressable entity.\n  AccountMigratedToEntity = -32021,\n  /// The requested reward was not found.\n  NoRewardsFound = -32022,\n  /// The switch block for the requested era was not found.\n  SwitchBlockNotFound = -32023,\n  /// The parent of the switch block for the requested era was not found.\n  SwitchBlockParentNotFound = -32024,\n  /// Cannot serve rewards stored in V1 format\n  UnsupportedRewardsV1Request = -32025,\n  /// Purse was not found for given identifier.\n  PurseNotFound = -32026\n}\n","export * from './common';\nexport * from './error';\n","export * from './types';\nexport * from './rpc';\nexport * from './sse';\nexport * from './utils';\nexport * from './@types';\n","import { jsonObject, jsonMember, AnyT } from 'typedjson';\n\n@jsonObject\nexport class RpcError extends Error {\n  @jsonMember({ constructor: Number })\n  code: number;\n\n  @jsonMember({ isRequired: false, constructor: AnyT })\n  data?: any;\n\n  constructor(code = 0, message = '', data?: any) {\n    super(message);\n    this.code = code;\n    this.data = data;\n  }\n\n  toString(): string {\n    return `key: ${this.message}, data: ${JSON.stringify(this.data)}`;\n  }\n}\n\n@jsonObject\nexport class HttpError<T extends Error = Error> extends Error {\n  @jsonMember({ constructor: Error })\n  sourceErr: T;\n\n  @jsonMember({ constructor: Number })\n  statusCode: number;\n\n  constructor(statusCode = 0, sourceErr: T) {\n    super(`Code: ${statusCode}, err: ${sourceErr.message}`);\n    this.sourceErr = sourceErr;\n    this.statusCode = statusCode;\n  }\n\n  unwrap(): T {\n    return this.sourceErr;\n  }\n\n  isNotFound(): boolean {\n    return this.statusCode === 404;\n  }\n\n  static isHttpError<E extends Error = Error>(\n    err: any | HttpError<E>\n  ): err is HttpError<E> {\n    return Boolean(err?.statusCode && err?.sourceErr);\n  }\n}\n","import { TypedJSON } from 'typedjson';\nimport axios, { AxiosInstance, AxiosRequestConfig } from 'axios';\n\nimport { HttpError } from './error';\nimport { RpcRequest } from './request';\nimport { RpcResponse } from './response';\nimport { IHandler } from './client';\n\nexport const ErrParamsJsonStringifyHandler = new Error(\n  \"failed to stringify json rpc request's params\"\n);\nexport const ErrProcessHttpRequest = new Error('failed to send http request');\nexport const ErrReadHttpResponseBody = new Error(\n  'failed to read http response body'\n);\nexport const ErrRpcResponseUnmarshal = new Error(\n  'failed to unmarshal rpc response'\n);\n\nexport class HttpHandler implements IHandler {\n  private endpoint: string;\n  private client: 'axios' | 'fetch';\n  private httpClient?: AxiosInstance;\n  private referrer?: string;\n  private customHeaders: Record<string, string> = {};\n\n  constructor(endpoint: string, client: 'axios' | 'fetch' = 'axios') {\n    this.endpoint = endpoint;\n    this.client = client;\n    if (client === 'axios') {\n      this.httpClient = axios.create();\n    }\n  }\n\n  setCustomHeaders(headers: Record<string, string>) {\n    this.customHeaders = headers;\n  }\n\n  setReferrer(url: string) {\n    this.referrer = url;\n  }\n\n  /** @throws {HttpError, Error} */\n  async processCall(params: RpcRequest): Promise<RpcResponse> {\n    const serializer = new TypedJSON(RpcRequest);\n    let body: string;\n\n    try {\n      body = serializer.stringify(params);\n    } catch (err) {\n      throw new Error(\n        `${ErrParamsJsonStringifyHandler.message}, details: ${err.message}`\n      );\n    }\n\n    if (this.client === 'axios') {\n      return this.processAxiosRequest(body);\n    } else {\n      return this.processFetchRequest(body);\n    }\n  }\n\n  private async processAxiosRequest(body: string): Promise<RpcResponse> {\n    const config: AxiosRequestConfig = {\n      method: 'POST',\n      url: this.endpoint,\n      headers: {\n        'Content-Type': 'application/json',\n        ...this.customHeaders\n      },\n      data: body\n    };\n\n    try {\n      const response = await this.httpClient!.request<RpcResponse>(config);\n      if (response.status < 200 || response.status >= 300) {\n        throw new HttpError(response.status, new Error(response.statusText));\n      }\n      return response.data;\n    } catch (err) {\n      if (axios.isAxiosError(err) && err.response) {\n        throw new HttpError(\n          err.response.status,\n          new Error(err.response.statusText)\n        );\n      }\n      throw new Error(\n        `${ErrProcessHttpRequest.message}, details: ${err.message}`\n      );\n    }\n  }\n\n  private async processFetchRequest(body: string): Promise<RpcResponse> {\n    try {\n      const response = await fetch(this.endpoint, {\n        method: 'POST',\n        ...(this.referrer ? { referrer: this.referrer } : {}),\n        headers: {\n          'Content-Type': 'application/json',\n          ...this.customHeaders\n        },\n        body\n      });\n\n      if (response.status < 200 || response.status >= 300) {\n        throw new HttpError(response.status, new Error(response.statusText));\n      }\n\n      return response.json();\n    } catch (err) {\n      throw new Error(\n        `${ErrProcessHttpRequest.message}, details: ${err.message}`\n      );\n    }\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\n\n@jsonObject\nexport class IDValue {\n  @jsonMember({ constructor: Number, isRequired: false, preserveNull: true })\n  intValue: number | null = null;\n\n  @jsonMember({ constructor: String, isRequired: false, preserveNull: true })\n  strValue: string | null = null;\n\n  @jsonMember({ constructor: Boolean })\n  isIntValue: boolean;\n\n  constructor(value: string | number) {\n    if (typeof value === 'number') {\n      this.intValue = value;\n      this.isIntValue = true;\n    } else {\n      this.strValue = value;\n      this.isIntValue = false;\n    }\n  }\n\n  static fromString(value: string): IDValue {\n    return new IDValue(value);\n  }\n\n  static fromInt(value: number): IDValue {\n    return new IDValue(value);\n  }\n\n  toString(): string {\n    if (this.isIntValue && this.intValue !== null) {\n      return this.intValue.toString();\n    }\n    return this.strValue || '';\n  }\n\n  toInt(): number {\n    if (this.isIntValue && this.intValue !== null) {\n      return this.intValue;\n    }\n\n    const val = parseInt(this.strValue || '0', 10);\n    return isNaN(val) ? 0 : val;\n  }\n\n  toJSON(): string {\n    return this.toString();\n  }\n\n  static fromJSON(data: string | number): IDValue {\n    if (typeof data === 'number') {\n      return IDValue.fromInt(data);\n    } else if (typeof data === 'string') {\n      return IDValue.fromString(data);\n    }\n    throw new Error('IDValue should be an int or string');\n  }\n}\n","export * from './client'\nexport * from './error'\nexport * from './http_handler'\nexport * from './id_value'\nexport * from './request'\nexport * from './response'\nexport * from './rpc_client'\nexport * from './speculative_client'\n","import {\n  jsonObject,\n  jsonMember,\n  jsonArrayMember,\n  AnyT,\n  TypedJSON\n} from 'typedjson';\nimport { IDValue } from './id_value';\nimport {\n  TransactionHash,\n  TransactionWrapper,\n  Deploy,\n  URef,\n  EntityAddr,\n  AccountHash,\n  PublicKey\n} from '../types';\n\nexport const ApiVersion = '2.0';\n\nexport enum Method {\n  GetDeploy = 'info_get_deploy',\n  GetTransaction = 'info_get_transaction',\n  GetStateItem = 'state_get_item',\n  QueryGlobalState = 'query_global_state',\n  GetDictionaryItem = 'state_get_dictionary_item',\n  GetStateBalance = 'state_get_balance',\n  GetStateAccount = 'state_get_account_info',\n  GetStateEntity = 'state_get_entity',\n  GetEraInfo = 'chain_get_era_info_by_switch_block',\n  GetBlock = 'chain_get_block',\n  GetBlockTransfers = 'chain_get_block_transfers',\n  GetEraSummary = 'chain_get_era_summary',\n  GetAuctionInfo = 'state_get_auction_info',\n  GetAuctionInfoV2 = 'state_get_auction_info_v2',\n  GetValidatorChanges = 'info_get_validator_changes',\n  GetStateRootHash = 'chain_get_state_root_hash',\n  GetStatus = 'info_get_status',\n  GetReward = 'info_get_reward',\n  GetPeers = 'info_get_peers',\n  PutDeploy = 'account_put_deploy',\n  PutTransaction = 'account_put_transaction',\n  SpeculativeExec = 'speculative_exec',\n  QueryBalance = 'query_balance',\n  QueryBalanceDetails = 'query_balance_details',\n  InfoGetChainspec = 'info_get_chainspec'\n}\n\n@jsonObject\nexport class RpcRequest {\n  @jsonMember({ constructor: String, name: 'jsonrpc' })\n  version: string;\n\n  @jsonMember({\n    constructor: IDValue,\n    isRequired: false,\n    deserializer: (json: string) => {\n      return IDValue.fromJSON(json);\n    },\n    serializer: (value: IDValue) => {\n      if (!value) return undefined;\n      return value.toJSON();\n    }\n  })\n  id?: IDValue;\n\n  @jsonMember({ constructor: String })\n  method: Method;\n\n  @jsonMember({ constructor: AnyT })\n  params: any;\n\n  constructor(version: string, method: Method, params: any, id?: IDValue) {\n    this.version = version;\n    this.method = method;\n    this.params = params;\n    this.id = id;\n  }\n\n  static defaultRpcRequest(method: Method, params: any): RpcRequest {\n    return new RpcRequest(ApiVersion, method, params, IDValue.fromString('1'));\n  }\n}\n\n@jsonObject\nexport class ParamStateRootHash {\n  @jsonMember({ constructor: String, name: 'state_root_hash' })\n  stateRootHash: string;\n\n  @jsonMember({ constructor: String })\n  key: string;\n\n  @jsonArrayMember(String)\n  path?: string[];\n\n  constructor(stateRootHash: string, key: string, path?: string[]) {\n    this.stateRootHash = stateRootHash;\n    this.key = key;\n    this.path = path;\n  }\n}\n\n@jsonObject\nexport class BlockIdentifier {\n  @jsonMember({ isRequired: false, constructor: String, name: 'Hash' })\n  hash?: string;\n\n  @jsonMember({ isRequired: false, constructor: Number, name: 'Height' })\n  height?: number;\n\n  constructor(hash?: string, height?: number) {\n    this.hash = hash;\n    this.height = height;\n  }\n}\n\n@jsonObject\nexport class ParamQueryGlobalStateID {\n  @jsonMember({ isRequired: false, constructor: String, name: 'StateRootHash' })\n  stateRootHash?: string;\n\n  @jsonMember({ isRequired: false, constructor: String, name: 'BlockHash' })\n  blockHash?: string;\n\n  @jsonMember({ isRequired: false, constructor: Number, name: 'BlockHeight' })\n  blockHeight?: number;\n\n  constructor(\n    stateRootHash?: string,\n    blockHash?: string,\n    blockHeight?: number\n  ) {\n    this.stateRootHash = stateRootHash;\n    this.blockHash = blockHash;\n    this.blockHeight = blockHeight;\n  }\n}\n\n@jsonObject\nexport class ParamQueryGlobalState {\n  @jsonMember({\n    isRequired: false,\n    constructor: ParamQueryGlobalStateID,\n    name: 'state_identifier'\n  })\n  stateIdentifier?: ParamQueryGlobalStateID;\n\n  @jsonMember({ constructor: String })\n  key: string;\n\n  @jsonArrayMember(String)\n  path?: string[];\n\n  constructor(\n    stateIdentifier: ParamQueryGlobalStateID | undefined,\n    key: string,\n    path?: string[]\n  ) {\n    this.stateIdentifier = stateIdentifier;\n    this.key = key;\n    this.path = path;\n  }\n\n  static newQueryGlobalStateParam(\n    key: string,\n    path: string[],\n    id?: ParamQueryGlobalStateID\n  ): ParamQueryGlobalState {\n    return new ParamQueryGlobalState(id, key, path);\n  }\n}\n\n@jsonObject\nexport class ParamTransactionHash {\n  @jsonMember({\n    constructor: TransactionHash,\n    isRequired: false,\n    name: 'transaction_hash'\n  })\n  transactionHash?: TransactionHash;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: Boolean,\n    name: 'finalized_approvals'\n  })\n  finalizedApprovals?: boolean;\n\n  constructor(transactionHash?: TransactionHash, finalizedApprovals?: boolean) {\n    this.transactionHash = transactionHash;\n    this.finalizedApprovals = finalizedApprovals;\n  }\n}\n\n@jsonObject\nexport class ParamDeployHash {\n  @jsonMember({ name: 'deploy_hash', constructor: String })\n  deployHash?: string;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: Boolean,\n    name: 'finalized_approvals'\n  })\n  finalizedApprovals?: boolean;\n\n  constructor(deployHash?: string, finalizedApprovals?: boolean) {\n    this.deployHash = deployHash;\n    this.finalizedApprovals = finalizedApprovals;\n  }\n}\n\n@jsonObject\nexport class ParamBlockIdentifier {\n  @jsonMember({\n    isRequired: false,\n    constructor: BlockIdentifier,\n    name: 'block_identifier'\n  })\n  blockIdentifier?: BlockIdentifier;\n\n  constructor(blockIdentifier?: BlockIdentifier) {\n    this.blockIdentifier = blockIdentifier;\n  }\n\n  static byHeight(height: number): ParamBlockIdentifier {\n    return new ParamBlockIdentifier(new BlockIdentifier(undefined, height));\n  }\n\n  static byHash(hash: string): ParamBlockIdentifier {\n    return new ParamBlockIdentifier(new BlockIdentifier(hash));\n  }\n}\n\n@jsonObject\nexport class ParamGetAccountInfoBalance {\n  @jsonMember({ constructor: String, name: 'account_identifier' })\n  accountIdentifier: string;\n\n  @jsonMember({ constructor: ParamBlockIdentifier })\n  paramBlockIdentifier: ParamBlockIdentifier;\n\n  constructor(\n    accountIdentifier: string,\n    paramBlockIdentifier: ParamBlockIdentifier\n  ) {\n    this.accountIdentifier = accountIdentifier;\n    this.paramBlockIdentifier = paramBlockIdentifier;\n  }\n\n  toJSON(): any {\n    return Object.assign(\n      { account_identifier: this.accountIdentifier },\n      this.paramBlockIdentifier\n        ? new TypedJSON(ParamBlockIdentifier).toPlainJson(\n            this.paramBlockIdentifier\n          )\n        : {}\n    );\n  }\n}\n\n@jsonObject\nexport class EntityIdentifier {\n  @jsonMember({\n    constructor: AccountHash,\n    name: 'AccountHash',\n    isRequired: false,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return AccountHash.fromJSON(json);\n    },\n    serializer: (value: AccountHash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  accountHash?: AccountHash;\n\n  @jsonMember({\n    constructor: PublicKey,\n    name: 'PublicKey',\n    isRequired: false,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: (value: PublicKey) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  publicKey?: PublicKey;\n\n  @jsonMember({\n    constructor: EntityAddr,\n    name: 'EntityAddr',\n    isRequired: false,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return EntityAddr.fromJSON(json);\n    },\n    serializer: (value: EntityAddr) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  entityAddr?: EntityAddr;\n\n  constructor(\n    accountHash?: AccountHash,\n    publicKey?: PublicKey,\n    entityAddr?: EntityAddr\n  ) {\n    this.accountHash = accountHash;\n    this.publicKey = publicKey;\n    this.entityAddr = entityAddr;\n  }\n\n  static fromAccountHash(accountHash: AccountHash): EntityIdentifier {\n    return new EntityIdentifier(accountHash);\n  }\n\n  static fromPublicKey(pubKey: PublicKey): EntityIdentifier {\n    return new EntityIdentifier(undefined, pubKey);\n  }\n\n  static fromEntityAddr(entityAddr: EntityAddr): EntityIdentifier {\n    return new EntityIdentifier(undefined, undefined, entityAddr);\n  }\n}\n\n@jsonObject\nexport class ParamGetStateEntity {\n  @jsonMember({\n    constructor: EntityIdentifier,\n    name: 'entity_identifier'\n  })\n  entityIdentifier: EntityIdentifier;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: BlockIdentifier,\n    name: 'block_identifier'\n  })\n  blockIdentifier?: BlockIdentifier;\n\n  constructor(\n    entityIdentifier: EntityIdentifier,\n    blockIdentifier?: BlockIdentifier\n  ) {\n    this.entityIdentifier = entityIdentifier;\n    this.blockIdentifier = blockIdentifier;\n  }\n}\n\n@jsonObject\nexport class AccountIdentifier {\n  @jsonMember({\n    constructor: AccountHash,\n    isRequired: false,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return AccountHash.fromJSON(json);\n    },\n    serializer: (value: AccountHash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  accountHash?: AccountHash;\n\n  @jsonMember({\n    constructor: PublicKey,\n    isRequired: false,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: (value: PublicKey) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  publicKey?: PublicKey;\n\n  constructor(accountHash?: AccountHash, publicKey?: PublicKey) {\n    this.accountHash = accountHash;\n    this.publicKey = publicKey;\n  }\n}\n\n@jsonObject\nexport class PutDeployRequest {\n  @jsonMember({ constructor: Deploy })\n  deploy: Deploy;\n\n  constructor(deploy: Deploy) {\n    this.deploy = deploy;\n  }\n}\n\n@jsonObject\nexport class PutTransactionRequest {\n  @jsonMember({\n    constructor: TransactionWrapper,\n    serializer: val => TransactionWrapper.toJSON(val)\n  })\n  transaction: TransactionWrapper;\n\n  constructor(transaction: TransactionWrapper) {\n    this.transaction = transaction;\n  }\n}\n\n@jsonObject\nexport class GlobalStateIdentifier {\n  @jsonMember({ isRequired: false, constructor: String, name: 'BlockHash' })\n  blockHash?: string;\n\n  @jsonMember({ isRequired: false, constructor: Number, name: 'BlockHeight' })\n  blockHeight?: number;\n\n  @jsonMember({ isRequired: false, constructor: String, name: 'StateRootHash' })\n  stateRoot?: string;\n\n  constructor(blockHash?: string, blockHeight?: number, stateRoot?: string) {\n    this.blockHash = blockHash;\n    this.blockHeight = blockHeight;\n    this.stateRoot = stateRoot;\n  }\n}\n\n@jsonObject\nexport class EraIdentifier {\n  @jsonMember({\n    isRequired: false,\n    constructor: BlockIdentifier,\n    name: 'Block'\n  })\n  block?: BlockIdentifier;\n\n  @jsonMember({ isRequired: false, constructor: Number, name: 'Era' })\n  era?: number;\n\n  constructor(block?: BlockIdentifier, era?: number) {\n    this.block = block;\n    this.era = era;\n  }\n}\n\n@jsonObject\nexport class ParamDictionaryIdentifierURef {\n  @jsonMember({ constructor: String, name: 'dictionary_item_key' })\n  dictionaryItemKey: string;\n\n  @jsonMember({ constructor: String, name: 'seed_uref' })\n  seedUref: string;\n\n  constructor(dictionaryItemKey: string, seedUref: string) {\n    this.dictionaryItemKey = dictionaryItemKey;\n    this.seedUref = seedUref;\n  }\n}\n\n@jsonObject\nexport class AccountNamedKey {\n  @jsonMember({ constructor: String })\n  key: string;\n\n  @jsonMember({ constructor: String, name: 'dictionary_name' })\n  dictionaryName: string;\n\n  @jsonMember({ constructor: String, name: 'dictionary_item_key' })\n  dictionaryItemKey: string;\n\n  constructor(key: string, dictionaryName: string, dictionaryItemKey: string) {\n    this.key = key;\n    this.dictionaryName = dictionaryName;\n    this.dictionaryItemKey = dictionaryItemKey;\n  }\n}\n\n@jsonObject\nexport class ParamDictionaryIdentifierContractNamedKey {\n  @jsonMember({ constructor: String })\n  key: string;\n\n  @jsonMember({ constructor: String, name: 'dictionary_name' })\n  dictionaryName: string;\n\n  @jsonMember({ constructor: String, name: 'dictionary_item_key' })\n  dictionaryItemKey: string;\n\n  constructor(key: string, dictionaryName: string, dictionaryItemKey: string) {\n    this.key = key;\n    this.dictionaryName = dictionaryName;\n    this.dictionaryItemKey = dictionaryItemKey;\n  }\n}\n\n@jsonObject\nexport class ParamDictionaryIdentifier {\n  @jsonMember({\n    isRequired: false,\n    constructor: AccountNamedKey,\n    name: 'AccountNamedKey'\n  })\n  accountNamedKey?: AccountNamedKey;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: ParamDictionaryIdentifierContractNamedKey,\n    name: 'ContractNamedKey'\n  })\n  contractNamedKey?: ParamDictionaryIdentifierContractNamedKey;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: ParamDictionaryIdentifierURef,\n    name: 'URef'\n  })\n  uRef?: ParamDictionaryIdentifierURef;\n\n  @jsonMember({ isRequired: false, constructor: String, name: 'Dictionary' })\n  dictionary?: string;\n\n  constructor(\n    accountNamedKey?: AccountNamedKey,\n    contractNamedKey?: ParamDictionaryIdentifierContractNamedKey,\n    uRef?: ParamDictionaryIdentifierURef,\n    dictionary?: string\n  ) {\n    this.accountNamedKey = accountNamedKey;\n    this.contractNamedKey = contractNamedKey;\n    this.uRef = uRef;\n    this.dictionary = dictionary;\n  }\n}\n\n@jsonObject\nexport class SpeculativeExecParams {\n  @jsonMember({ constructor: Deploy })\n  deploy: Deploy;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: BlockIdentifier,\n    name: 'block_identifier'\n  })\n  blockIdentifier?: BlockIdentifier;\n\n  constructor(deploy: Deploy, blockIdentifier?: BlockIdentifier) {\n    this.deploy = deploy;\n    this.blockIdentifier = blockIdentifier;\n  }\n}\n\n@jsonObject\nexport class PurseIdentifier {\n  @jsonMember({\n    constructor: PublicKey,\n    name: 'main_purse_under_public_key',\n    isRequired: false,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: (value: PublicKey) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  mainPurseUnderPublicKey?: PublicKey;\n\n  @jsonMember({\n    constructor: AccountHash,\n    name: 'main_purse_under_account_hash',\n    isRequired: false,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return AccountHash.fromJSON(json);\n    },\n    serializer: (value: AccountHash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  mainPurseUnderAccountHash?: AccountHash;\n\n  @jsonMember({\n    constructor: EntityAddr,\n    name: 'main_purse_under_entity_addr',\n    isRequired: false,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return EntityAddr.fromJSON(json);\n    },\n    serializer: (value: EntityAddr) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  mainPurseUnderEntityAddr?: EntityAddr;\n\n  @jsonMember({\n    constructor: URef,\n    isRequired: false,\n    name: 'purse_uref',\n    deserializer: (json: string) => {\n      if (!json) return;\n      return URef.fromJSON(json);\n    },\n    serializer: (value: URef) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  purseUref?: URef;\n\n  constructor(\n    mainPurseUnderPublicKey?: PublicKey,\n    mainPurseUnderAccountHash?: AccountHash,\n    mainPurseUnderEntityAddr?: EntityAddr,\n    purseUref?: URef\n  ) {\n    this.mainPurseUnderPublicKey = mainPurseUnderPublicKey;\n    this.mainPurseUnderAccountHash = mainPurseUnderAccountHash;\n    this.mainPurseUnderEntityAddr = mainPurseUnderEntityAddr;\n    this.purseUref = purseUref;\n  }\n\n  static fromPublicKey(pubKey: PublicKey): PurseIdentifier {\n    return new PurseIdentifier(pubKey);\n  }\n\n  static fromAccountHash(accountHash: AccountHash): PurseIdentifier {\n    return new PurseIdentifier(undefined, accountHash);\n  }\n\n  static fromEntityAddr(entityAddr: EntityAddr): PurseIdentifier {\n    return new PurseIdentifier(undefined, undefined, entityAddr);\n  }\n\n  static fromUref(uref: URef): PurseIdentifier {\n    return new PurseIdentifier(undefined, undefined, undefined, uref);\n  }\n}\n\n@jsonObject\nexport class QueryBalanceRequest {\n  @jsonMember({ constructor: PurseIdentifier, name: 'purse_identifier' })\n  purseIdentifier: PurseIdentifier;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: GlobalStateIdentifier,\n    name: 'state_identifier'\n  })\n  stateIdentifier?: GlobalStateIdentifier;\n\n  constructor(\n    purseIdentifier: PurseIdentifier,\n    stateIdentifier?: GlobalStateIdentifier\n  ) {\n    this.purseIdentifier = purseIdentifier;\n    this.stateIdentifier = stateIdentifier;\n  }\n}\n\n@jsonObject\nexport class QueryBalanceDetailsRequest {\n  @jsonMember({ constructor: PurseIdentifier, name: 'purse_identifier' })\n  purseIdentifier: PurseIdentifier;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: GlobalStateIdentifier,\n    name: 'state_identifier'\n  })\n  stateIdentifier?: GlobalStateIdentifier;\n\n  constructor(\n    purseIdentifier: PurseIdentifier,\n    stateIdentifier?: GlobalStateIdentifier\n  ) {\n    this.purseIdentifier = purseIdentifier;\n    this.stateIdentifier = stateIdentifier;\n  }\n}\n\n@jsonObject\nexport class InfoGetRewardRequest {\n  @jsonMember({\n    constructor: PublicKey,\n    isRequired: false,\n    deserializer: (json: string) => PublicKey.fromJSON(json),\n    serializer: (value: PublicKey) => value.toJSON()\n  })\n  validator: PublicKey;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: PublicKey,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: (value: PublicKey) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  delegator?: PublicKey;\n\n  @jsonMember({\n    isRequired: false,\n    constructor: EraIdentifier,\n    name: 'era_identifier'\n  })\n  eraIdentifier?: EraIdentifier;\n\n  constructor(\n    validator: PublicKey,\n    delegator?: PublicKey,\n    eraIdentifier?: EraIdentifier\n  ) {\n    this.validator = validator;\n    this.delegator = delegator;\n    this.eraIdentifier = eraIdentifier;\n  }\n}\n\n@jsonObject\nexport class StateGetBalanceRequest {\n  @jsonMember({ name: 'state_root_hash', constructor: String })\n  stateRootHash: string;\n\n  @jsonMember({ name: 'purse_uref', constructor: String })\n  purseURef?: string;\n\n  constructor(stateRootHash: string, purseURef: string) {\n    this.stateRootHash = stateRootHash;\n    this.purseURef = purseURef;\n  }\n}\n\n@jsonObject\nexport class StateGetDictionaryRequest {\n  @jsonMember({ name: 'state_root_hash', constructor: String })\n  stateRootHash: string;\n\n  @jsonMember({\n    name: 'dictionary_identifier',\n    constructor: ParamDictionaryIdentifier\n  })\n  dictionaryIdentifier?: ParamDictionaryIdentifier;\n\n  constructor(\n    stateRootHash: string,\n    dictionaryIdentifier?: ParamDictionaryIdentifier\n  ) {\n    this.stateRootHash = stateRootHash;\n    this.dictionaryIdentifier = dictionaryIdentifier;\n  }\n}\n","import {\n  AnyT,\n  jsonArrayMember,\n  jsonMember,\n  jsonObject,\n  TypedJSON\n} from 'typedjson';\nimport { IDValue } from './id_value';\nimport { RpcError } from './error';\nimport {\n  Account,\n  AddressableEntity,\n  AuctionState,\n  AuctionStateV1,\n  AuctionStateV2,\n  Block,\n  BlockHeader,\n  BlockHeaderV1,\n  BlockV1,\n  BlockWithSignatures,\n  CLValueUInt512,\n  Deploy,\n  DeployExecutionInfo,\n  DeployExecutionResult,\n  EntryPointValue,\n  EraSummary,\n  ExecutionInfo,\n  ExecutionResultV1,\n  Hash,\n  InitiatorAddr,\n  MinimalBlockInfo,\n  NamedKey,\n  PublicKey,\n  SpeculativeExecutionResult,\n  StoredValue,\n  Timestamp,\n  Transaction,\n  TransactionHash,\n  TransactionWrapper,\n  Transfer\n} from '../types';\n\n@jsonObject\nexport class RpcResponse {\n  @jsonMember({ name: 'jsonrpc', constructor: String })\n  version: string;\n\n  @jsonMember({\n    constructor: IDValue,\n    name: 'id',\n    deserializer: json => {\n      if (!json) return;\n      return IDValue.fromJSON(json);\n    }\n  })\n  id?: IDValue;\n\n  @jsonMember({ name: 'result', constructor: AnyT })\n  result: any;\n\n  @jsonMember({ name: 'error', constructor: RpcError, preserveNull: true })\n  error?: RpcError;\n}\n\n@jsonObject\nexport class StateGetAuctionInfoResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  version: string;\n\n  @jsonMember({ name: 'auction_state', constructor: AuctionState })\n  auctionState: AuctionState;\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class StateGetAuctionInfoV1Result {\n  @jsonMember({ name: 'api_version', constructor: String })\n  version: string;\n\n  @jsonMember({ name: 'auction_state', constructor: AuctionStateV1 })\n  auctionState: AuctionStateV1;\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class StateGetAuctionInfoV2Result {\n  @jsonMember({ name: 'api_version', constructor: String })\n  version: string;\n\n  @jsonMember({ name: 'auction_state', constructor: AuctionStateV2 })\n  auctionState: AuctionStateV2;\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class StateGetBalanceResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({\n    name: 'balance_value',\n    constructor: CLValueUInt512,\n    deserializer: (json: string) => CLValueUInt512.fromJSON(json),\n    serializer: (value: CLValueUInt512) => value.toJSON()\n  })\n  balanceValue: CLValueUInt512;\n\n  public rawJSON: any;\n\n  public toQueryBalanceResult() {\n    const queryBalanceResult = new QueryBalanceResult();\n\n    queryBalanceResult.apiVersion = this.apiVersion;\n    queryBalanceResult.balance = this.balanceValue;\n\n    return queryBalanceResult;\n  }\n}\n\n@jsonObject\nexport class StateGetAccountInfo {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'account', constructor: Account })\n  account: Account;\n\n  public rawJSON: any;\n}\n\n@jsonObject\nexport class RpcAddressableEntity {\n  @jsonMember({ name: 'entity', constructor: AddressableEntity })\n  entity: AddressableEntity;\n\n  @jsonArrayMember(NamedKey, { name: 'named_keys' })\n  namedKeys: NamedKey[];\n\n  @jsonArrayMember(EntryPointValue, { name: 'entry_points' })\n  entryPoints?: EntryPointValue[];\n}\n\n@jsonObject\nexport class EntityOrAccount {\n  @jsonMember({\n    name: 'AddressableEntity',\n    constructor: RpcAddressableEntity\n  })\n  addressableEntity?: RpcAddressableEntity;\n\n  @jsonMember({\n    name: 'LegacyAccount',\n    constructor: Account\n  })\n  legacyAccount?: Account;\n}\n\n@jsonObject\nexport class StateGetEntityResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'entity', constructor: EntityOrAccount })\n  entity: EntityOrAccount;\n\n  @jsonMember({ name: 'merkle_proof', constructor: AnyT })\n  merkleProof: any;\n\n  public rawJSON: any;\n}\n\n@jsonObject\nexport class ChainGetBlockResultV1Compatible {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({\n    name: 'block_with_signatures',\n    constructor: BlockWithSignatures\n  })\n  blockWithSignatures?: BlockWithSignatures;\n\n  @jsonMember({ name: 'block', constructor: BlockV1 })\n  blockV1?: BlockV1;\n\n  public rawJSON?: any;\n}\n\n@jsonObject\nexport class ChainGetBlockResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  public apiVersion: string;\n\n  @jsonMember({ constructor: Block })\n  public block: Block;\n\n  public rawJSON?: any;\n\n  public static fromJSON(data: any): ChainGetBlockResult {\n    const serializer = new TypedJSON(ChainGetBlockResult);\n    const parsedResult = serializer.parse(data);\n\n    if (!parsedResult) throw new Error('Failed to parse ChainGetBlockResult');\n\n    parsedResult.rawJSON = data;\n\n    return parsedResult;\n  }\n\n  public static newChainGetBlockResultFromV1Compatible(\n    result: ChainGetBlockResultV1Compatible,\n    rawJSON: any\n  ): ChainGetBlockResult {\n    const chainGetBlockResult = new ChainGetBlockResult();\n    chainGetBlockResult.apiVersion = result.apiVersion;\n    chainGetBlockResult.rawJSON = rawJSON;\n\n    if (result.blockV1) {\n      chainGetBlockResult.block = Block.newBlockFromBlockV1(result.blockV1);\n    } else if (result.blockWithSignatures) {\n      chainGetBlockResult.block = Block.newBlockFromBlockWrapper(\n        result.blockWithSignatures.block,\n        result.blockWithSignatures.proofs\n      );\n    } else {\n      throw new Error('Incorrect RPC response structure');\n    }\n\n    return chainGetBlockResult;\n  }\n}\n\n@jsonObject\nexport class ChainGetBlockTransfersResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  public version: string;\n\n  @jsonMember({ name: 'block_hash', constructor: String })\n  public blockHash: string;\n\n  @jsonArrayMember(Transfer, {\n    name: 'transfers',\n    deserializer: (json: any) => json.map((it: string) => Transfer.fromJSON(it))\n  })\n  public transfers: Transfer[];\n\n  public rawJSON?: any;\n}\n\n@jsonObject\nexport class ChainGetEraSummaryResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  public version: string;\n\n  @jsonMember({ name: 'era_summary', constructor: EraSummary })\n  public eraSummary: EraSummary;\n\n  public rawJSON?: any;\n}\n\n@jsonObject\nexport class InfoGetDeployResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'deploy', constructor: Deploy })\n  deploy: Deploy;\n\n  @jsonMember({ name: 'execution_info', constructor: DeployExecutionInfo })\n  executionInfo?: DeployExecutionInfo;\n\n  // Legacy execution results V1\n  @jsonArrayMember(DeployExecutionResult, {\n    name: 'execution_results',\n    preserveNull: true\n  })\n  executionResultsV1?: DeployExecutionResult[];\n\n  rawJSON: any;\n\n  /**\n   * Converts the deployment result into a transaction result.\n   * It prefers the newer executionInfo format if available,\n   * otherwise falls back to legacy execution results.\n   */\n  toInfoGetTransactionResult(): InfoGetTransactionResult {\n    let executionInfo: ExecutionInfo | undefined = undefined;\n\n    if (this.executionInfo) {\n      executionInfo = new ExecutionInfo(\n        this.executionInfo.blockHash,\n        this.executionInfo.blockHeight,\n        this.executionInfo.executionResult\n      );\n    } else if (this?.executionResultsV1?.length) {\n      executionInfo = ExecutionInfo.fromV1(this.executionResultsV1);\n    }\n\n    return new InfoGetTransactionResult(\n      this.apiVersion,\n      Deploy.newTransactionFromDeploy(this.deploy),\n      executionInfo,\n      this.rawJSON\n    );\n  }\n}\n\n@jsonObject\nexport class InfoGetTransactionResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({\n    constructor: Transaction,\n    deserializer: json => {\n      if (!json) return;\n      return Transaction.fromJSON(json);\n    }\n  })\n  transaction: Transaction;\n\n  @jsonMember({\n    name: 'execution_info',\n    constructor: ExecutionInfo,\n    preserveNull: true\n  })\n  executionInfo?: ExecutionInfo;\n\n  public rawJSON: any;\n\n  constructor(\n    apiVersion: string,\n    transaction: Transaction,\n    executionInfo?: ExecutionInfo,\n    rawJSON = ''\n  ) {\n    this.apiVersion = apiVersion;\n    this.transaction = transaction;\n    this.executionInfo = executionInfo;\n    this.rawJSON = rawJSON;\n  }\n\n  static fromJSON(json: any): InfoGetTransactionResult | null {\n    const serializer = new TypedJSON(InfoGetTransactionResultV1Compatible);\n    const temp = serializer.parse(json);\n\n    if (temp) {\n      return InfoGetTransactionResultV1Compatible.newInfoGetTransactionResultFromV1Compatible(\n        temp,\n        json\n      );\n    }\n\n    const transactionResultSerializer = new TypedJSON(InfoGetTransactionResult);\n    return transactionResultSerializer.parse(json) ?? null;\n  }\n}\n\n@jsonObject\nexport class InfoGetDeployResultV1Compatible {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ constructor: Deploy })\n  deploy: Deploy;\n\n  @jsonArrayMember(DeployExecutionResult, { name: 'execution_results' })\n  executionResults: DeployExecutionResult[];\n\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  blockHash?: Hash;\n\n  @jsonMember({ name: 'block_height', constructor: Number })\n  blockHeight?: number;\n\n  public rawJSON: any;\n\n  public static fromJSON(\n    json: any\n  ): InfoGetDeployResultV1Compatible | undefined {\n    const serializer = new TypedJSON(InfoGetDeployResultV1Compatible);\n    return serializer.parse(json);\n  }\n}\n\n@jsonObject\nexport class InfoGetTransactionResultV1Compatible {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ constructor: TransactionWrapper })\n  transaction?: TransactionWrapper;\n\n  @jsonMember({ constructor: Deploy })\n  deploy?: Deploy;\n\n  @jsonMember({ constructor: ExecutionInfo, name: 'execution_info' })\n  executionInfo?: ExecutionInfo;\n\n  @jsonArrayMember(DeployExecutionResult, { name: 'execution_results' })\n  executionResults: DeployExecutionResult[] = [];\n\n  @jsonMember({\n    constructor: Hash,\n    name: 'block_hash',\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  blockHash?: Hash;\n\n  @jsonMember({ constructor: Number, name: 'block_height' })\n  blockHeight?: number;\n\n  rawJSON?: any;\n\n  public static newInfoGetTransactionResultFromV1Compatible(\n    parsedResult: InfoGetTransactionResultV1Compatible,\n    rawJSON: any\n  ): InfoGetTransactionResult {\n    if (parsedResult.transaction) {\n      if (parsedResult.transaction.transactionV1) {\n        return new InfoGetTransactionResult(\n          parsedResult.apiVersion,\n          Transaction.fromTransactionV1(parsedResult.transaction.transactionV1),\n          parsedResult.executionInfo,\n          rawJSON\n        );\n      }\n\n      if (parsedResult.transaction.deploy) {\n        const transaction = Deploy.newTransactionFromDeploy(\n          parsedResult.transaction.deploy\n        );\n        const info = new InfoGetTransactionResult(\n          parsedResult.apiVersion,\n          transaction,\n          parsedResult.executionInfo,\n          rawJSON\n        );\n\n        if (parsedResult.executionResults.length > 0) {\n          const executionInfo = ExecutionInfo.fromV1(\n            parsedResult.executionResults,\n            parsedResult.blockHeight\n          );\n          executionInfo.executionResult.initiator = new InitiatorAddr(\n            parsedResult.deploy!.header.account\n          );\n          info.executionInfo = executionInfo;\n        }\n        return info;\n      }\n    }\n\n    if (parsedResult.deploy) {\n      const transaction = Deploy.newTransactionFromDeploy(parsedResult.deploy);\n      const info = new InfoGetTransactionResult(\n        parsedResult.apiVersion,\n        transaction,\n        parsedResult.executionInfo,\n        rawJSON\n      );\n\n      if (parsedResult.executionResults.length > 0) {\n        const executionInfo = ExecutionInfo.fromV1(\n          parsedResult.executionResults,\n          parsedResult.blockHeight\n        );\n        executionInfo.executionResult.initiator = new InitiatorAddr(\n          parsedResult.deploy.header.account\n        );\n        info.executionInfo = executionInfo;\n      }\n      return info;\n    }\n    throw new Error('Incorrect RPC response structure');\n  }\n\n  public static fromJSON(\n    json: any\n  ): InfoGetTransactionResultV1Compatible | undefined {\n    const serializer = new TypedJSON(InfoGetTransactionResultV1Compatible);\n    return serializer.parse(json);\n  }\n}\n\n@jsonObject\nexport class ChainGetEraInfoResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  version: string;\n\n  @jsonMember({ name: 'era_summary', constructor: EraSummary })\n  eraSummary: EraSummary;\n\n  public rawJSON: any;\n}\n\n@jsonObject\nexport class StateGetItemResult {\n  @jsonMember({ name: 'stored_value', constructor: StoredValue })\n  storedValue: StoredValue;\n\n  @jsonMember({ name: 'merkle_proof', constructor: String })\n  merkleProof: string;\n\n  public rawJSON: any;\n}\n\n@jsonObject\nexport class StateGetDictionaryResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'dictionary_key', constructor: String })\n  dictionaryKey: string;\n\n  @jsonMember({ name: 'stored_value', constructor: StoredValue })\n  storedValue: StoredValue;\n\n  @jsonMember({ name: 'merkle_proof', constructor: String })\n  merkleProof: string;\n\n  public rawJSON: any;\n}\n\n@jsonObject\nexport class QueryGlobalStateResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'block_header', constructor: BlockHeader })\n  blockHeader?: BlockHeader;\n\n  @jsonMember({ name: 'stored_value', constructor: StoredValue })\n  storedValue: StoredValue;\n\n  @jsonMember({ name: 'merkle_proof', constructor: String })\n  merkleProof: string;\n\n  public rawJSON?: any;\n}\n\n@jsonObject\nexport class InfoGetPeerResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonArrayMember(() => NodePeer, { name: 'peers' })\n  peers: NodePeer[];\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class NodePeer {\n  @jsonMember({ name: 'node_id', constructor: String })\n  nodeId: string;\n\n  @jsonMember({ name: 'address', constructor: String })\n  address: string;\n}\n\n@jsonObject\nexport class ChainGetStateRootHashResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  version: string;\n\n  @jsonMember({\n    name: 'state_root_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  stateRootHash: Hash;\n\n  rawJSON?: any;\n}\n\nexport enum ValidatorState {\n  Added = 'Added',\n  Removed = 'Removed',\n  Banned = 'Banned',\n  CannotPropose = 'CannotPropose',\n  SeenAsFaulty = 'SeenAsFaulty'\n}\n\n@jsonObject\nexport class StatusChanges {\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  @jsonMember({ name: 'validator_change', constructor: String })\n  validatorState: ValidatorState;\n\n  rawJSON: any;\n}\n\n@jsonObject\nexport class ValidatorChanges {\n  @jsonMember({\n    name: 'public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  publicKey: PublicKey;\n\n  @jsonArrayMember(StatusChanges, { name: 'status_changes' })\n  statusChanges: StatusChanges[];\n\n  rawJSON: any;\n}\n\n@jsonObject\nexport class InfoGetValidatorChangesResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonArrayMember(ValidatorChanges, { name: 'changes' })\n  changes: ValidatorChanges[];\n\n  rawJSON: any;\n}\n\n@jsonObject\nexport class NodeNextUpgrade {\n  @jsonMember({ name: 'activation_point', constructor: Number })\n  activationPoint: number;\n\n  @jsonMember({ name: 'protocol_version', constructor: String })\n  protocolVersion: string;\n}\n\n@jsonObject\nexport class BlockSyncStatus {\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    },\n    preserveNull: true\n  })\n  blockHash?: Hash;\n\n  @jsonMember({ name: 'block_height', constructor: Number, preserveNull: true })\n  blockHeight?: number;\n\n  @jsonMember({ name: 'acquisition_state', constructor: String })\n  acquisitionState?: string;\n}\n\n@jsonObject\nexport class BlockSynchronizerStatus {\n  @jsonMember({ name: 'historical', constructor: BlockSyncStatus })\n  historical?: BlockSyncStatus;\n\n  @jsonMember({ name: 'forward', constructor: BlockSyncStatus })\n  forward?: BlockSyncStatus;\n}\n\n@jsonObject\nexport class InfoGetStatusResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'protocol_version', constructor: String })\n  protocolVersion: string;\n\n  @jsonMember({ name: 'build_version', constructor: String })\n  buildVersion: string;\n\n  @jsonMember({ name: 'chainspec_name', constructor: String })\n  chainSpecName: string;\n\n  @jsonMember({ name: 'last_added_block_info', constructor: MinimalBlockInfo })\n  lastAddedBlockInfo: MinimalBlockInfo;\n\n  @jsonMember({ name: 'next_upgrade', constructor: NodeNextUpgrade })\n  nextUpgrade?: NodeNextUpgrade;\n\n  @jsonMember({ name: 'our_public_signing_key', constructor: String })\n  ourPublicSigningKey: string;\n\n  @jsonArrayMember(NodePeer, { name: 'peers' })\n  peers: NodePeer[];\n\n  @jsonMember({ name: 'round_length', constructor: String })\n  roundLength: string;\n\n  @jsonMember({ name: 'starting_state_root_hash', constructor: String })\n  startingStateRootHash: string;\n\n  @jsonMember({ name: 'uptime', constructor: String })\n  uptime: string;\n\n  @jsonMember({ name: 'reactor_state', constructor: String })\n  reactorState: string;\n\n  @jsonMember({\n    name: 'last_progress',\n    constructor: Timestamp,\n    deserializer: json => {\n      if (!json) return;\n      return Timestamp.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  lastProgress: Timestamp;\n\n  @jsonMember({\n    name: 'latest_switch_block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  latestSwitchBlockHash: Hash;\n\n  @jsonMember({\n    name: 'available_block_range',\n    constructor: () => ({\n      low: jsonMember({ name: 'low', constructor: Number }),\n      high: jsonMember({ name: 'high', constructor: Number })\n    })\n  })\n  availableBlockRange: { low: number; high: number };\n\n  @jsonMember({\n    name: 'block_sync',\n    constructor: BlockSynchronizerStatus\n  })\n  blockSync: BlockSynchronizerStatus;\n\n  rawJSON: any;\n}\n\n@jsonObject\nexport class PutDeployResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({\n    name: 'deploy_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  deployHash: Hash;\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class PutTransactionResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'transaction_hash', constructor: TransactionHash })\n  transactionHash: TransactionHash;\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class SpeculativeExecResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  blockHash?: Hash;\n\n  /**\n   * Execution result for Casper v2.0 (speculative execution format).\n   */\n  executionResult?: SpeculativeExecutionResult;\n\n  /**\n   * Execution result for Casper v1.5.x (legacy execution format).\n   */\n  executionResultV1?: ExecutionResultV1;\n\n  /**\n   * Stores the raw json object if version could not be parsed.\n   */\n  rawJSON?: any;\n\n  /**\n   * True if the parsed execution result matches Casper v1.5.x format.\n   */\n  get isV1(): boolean {\n    return !!this.executionResultV1;\n  }\n\n  /**\n   * True if the parsed execution result matches Casper v2.0 format.\n   */\n  get isV2(): boolean {\n    return !!this.executionResult;\n  }\n\n  /**\n   * Parses and returns a version-aware SpeculativeExecResult from raw JSON.\n   * Supports both Casper v1.5.x and v2.0 formats.\n   */\n  static fromJSON(json: any): SpeculativeExecResult {\n    const result = new SpeculativeExecResult();\n\n    result.apiVersion = json?.version;\n    const execJson = json?.result?.execution_result;\n    result.rawJSON = json;\n\n    result.blockHash = execJson?.block_hash\n      ? Hash.fromHex(execJson.block_hash)\n      : undefined;\n\n    if (\n      execJson &&\n      (execJson.block_hash ||\n        execJson.limit !== undefined ||\n        execJson.consumed !== undefined)\n    ) {\n      // Casper v2.0\n      result.executionResult = new TypedJSON(SpeculativeExecutionResult).parse(\n        execJson\n      );\n    } else if (execJson && ('Success' in execJson || 'Failure' in execJson)) {\n      // Casper v1.5.x\n      result.executionResultV1 = new TypedJSON(ExecutionResultV1).parse(\n        execJson\n      );\n    } else {\n      console.warn('Unknown execution_result format:', execJson);\n    }\n\n    return result;\n  }\n}\n\n@jsonObject\nexport class QueryBalanceResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({\n    name: 'balance',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  balance: CLValueUInt512;\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class QueryBalanceDetailsResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({\n    name: 'total_balance',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  totalBalance: CLValueUInt512;\n\n  @jsonMember({\n    name: 'available_balance',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  availableBalance: CLValueUInt512;\n\n  @jsonMember({ name: 'total_balance_proof', constructor: String })\n  totalBalanceProof: string;\n\n  @jsonArrayMember(() => BalanceHoldWithProof, { name: 'holds' })\n  holds: BalanceHoldWithProof[];\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class InfoGetRewardResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'delegation_rate', constructor: Number })\n  delegationRate: number;\n\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  @jsonMember({\n    name: 'reward_amount',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  rewardAmount: CLValueUInt512;\n\n  @jsonMember({\n    name: 'switch_block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  switchBlockHash: Hash;\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class BalanceHoldWithProof {\n  @jsonMember({\n    name: 'amount',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  amount: CLValueUInt512;\n\n  @jsonMember({ name: 'proof', constructor: String })\n  proof: string;\n}\n\n@jsonObject\nclass ChainspecBytes {\n  @jsonMember({ name: 'chainspec_bytes', constructor: String })\n  chainspecBytes?: string;\n\n  @jsonMember({ name: 'maybe_genesis_accounts_bytes', constructor: String })\n  maybeGenesisAccountsBytes?: string;\n\n  @jsonMember({ name: 'maybe_global_state_bytes', constructor: String })\n  maybeGlobalStateBytes?: string;\n}\n\n@jsonObject\nexport class InfoGetChainspecResult {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'chainspec_bytes', constructor: ChainspecBytes })\n  chainspecBytes: ChainspecBytes;\n\n  rawJSON?: any;\n}\n\n@jsonObject\nexport class QueryGlobalStateResultV1Compatible {\n  @jsonMember({ name: 'api_version', constructor: String })\n  apiVersion: string;\n\n  @jsonMember({ name: 'block_header', constructor: BlockHeaderV1 })\n  blockHeader?: BlockHeaderV1;\n\n  @jsonMember({ name: 'stored_value', constructor: StoredValue })\n  storedValue: StoredValue;\n\n  @jsonMember({ name: 'merkle_proof', constructor: String })\n  merkleProof: string;\n}\n","import { TypedJSON } from 'typedjson';\n\nimport { IClient, IHandler } from './client';\nimport {\n  ChainGetBlockResult,\n  ChainGetBlockResultV1Compatible,\n  ChainGetBlockTransfersResult,\n  ChainGetEraInfoResult,\n  ChainGetEraSummaryResult,\n  ChainGetStateRootHashResult,\n  InfoGetChainspecResult,\n  InfoGetDeployResult,\n  InfoGetPeerResult,\n  InfoGetRewardResult,\n  InfoGetStatusResult,\n  InfoGetTransactionResult,\n  InfoGetTransactionResultV1Compatible,\n  InfoGetValidatorChangesResult,\n  PutDeployResult,\n  PutTransactionResult,\n  QueryBalanceDetailsResult,\n  QueryBalanceResult,\n  QueryGlobalStateResult,\n  RpcResponse,\n  StateGetAccountInfo,\n  StateGetAuctionInfoResult,\n  StateGetAuctionInfoV1Result,\n  StateGetAuctionInfoV2Result,\n  StateGetBalanceResult,\n  StateGetDictionaryResult,\n  StateGetEntityResult,\n  StateGetItemResult\n} from './response';\nimport {\n  AccountIdentifier,\n  BlockIdentifier,\n  EntityIdentifier,\n  EraIdentifier,\n  GlobalStateIdentifier,\n  InfoGetRewardRequest,\n  Method,\n  ParamBlockIdentifier,\n  ParamDeployHash,\n  ParamDictionaryIdentifier,\n  ParamDictionaryIdentifierURef,\n  ParamGetAccountInfoBalance,\n  ParamGetStateEntity,\n  ParamQueryGlobalState,\n  ParamStateRootHash,\n  ParamTransactionHash,\n  PurseIdentifier,\n  PutDeployRequest,\n  PutTransactionRequest,\n  QueryBalanceDetailsRequest,\n  QueryBalanceRequest,\n  RpcRequest,\n  StateGetBalanceRequest,\n  StateGetDictionaryRequest\n} from './request';\nimport { IDValue } from './id_value';\nimport {\n  TransactionHash,\n  Deploy,\n  PublicKey,\n  Hash,\n  Transaction,\n  AuctionState\n} from '../types';\nimport { HttpError } from './error';\nimport { sleep } from '../utils';\n\nexport class RpcClient implements IClient {\n  private handler: IHandler;\n\n  constructor(handler: IHandler) {\n    this.handler = handler;\n  }\n\n  async getDeploy(hash: string): Promise<InfoGetDeployResult> {\n    const serializer = new TypedJSON(ParamDeployHash);\n    const paramDeployHash = new ParamDeployHash(hash);\n\n    const resp = await this.processRequest(\n      Method.GetDeploy,\n      serializer.toPlainJson(paramDeployHash)\n    );\n\n    const result = this.parseResponse(InfoGetDeployResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getDeployFinalizedApproval(hash: string): Promise<InfoGetDeployResult> {\n    const serializer = new TypedJSON(ParamDeployHash);\n    const paramDeployHash = new ParamDeployHash(hash, true);\n\n    const resp = await this.processRequest(\n      Method.GetDeploy,\n      serializer.toPlainJson(paramDeployHash)\n    );\n\n    const result = this.parseResponse(InfoGetDeployResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getTransactionByTransactionHash(\n    transactionHash: string\n  ): Promise<InfoGetTransactionResult> {\n    const serializer = new TypedJSON(ParamTransactionHash);\n    const hash = Hash.fromHex(transactionHash);\n    const transactionHashParam = new ParamTransactionHash(\n      TransactionHash.fromTransactionHash(hash)\n    );\n\n    const resp = await this.processRequest<ParamTransactionHash>(\n      Method.GetTransaction,\n      serializer.toPlainJson(transactionHashParam) as ParamTransactionHash\n    );\n\n    const result = this.parseResponse(\n      InfoGetTransactionResultV1Compatible,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    const txResult =\n      InfoGetTransactionResultV1Compatible.newInfoGetTransactionResultFromV1Compatible(\n        result,\n        result.rawJSON\n      );\n    txResult.rawJSON = resp.result;\n\n    return txResult;\n  }\n\n  async getTransactionByDeployHash(\n    deployHash: string\n  ): Promise<InfoGetTransactionResult> {\n    const serializer = new TypedJSON(ParamTransactionHash);\n    const hash = Hash.fromHex(deployHash);\n    const transactionHashParam = new ParamTransactionHash(\n      TransactionHash.fromDeployHash(hash)\n    );\n\n    const resp = await this.processRequest<ParamTransactionHash>(\n      Method.GetTransaction,\n      serializer.toPlainJson(transactionHashParam) as ParamTransactionHash\n    );\n\n    const result = this.parseResponse(\n      InfoGetTransactionResultV1Compatible,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    const txResult =\n      InfoGetTransactionResultV1Compatible.newInfoGetTransactionResultFromV1Compatible(\n        result,\n        result.rawJSON\n      );\n    txResult.rawJSON = resp.result;\n\n    return txResult;\n  }\n\n  async getTransactionFinalizedApprovalByTransactionHash(\n    transactionHash: string\n  ): Promise<InfoGetTransactionResult> {\n    const serializer = new TypedJSON(ParamTransactionHash);\n    const hash = Hash.fromHex(transactionHash);\n    const transactionHashParam = new ParamTransactionHash(\n      TransactionHash.fromTransactionHash(hash),\n      true\n    );\n\n    const resp = await this.processRequest<ParamTransactionHash>(\n      Method.GetTransaction,\n      serializer.toPlainJson(transactionHashParam) as ParamTransactionHash\n    );\n\n    const result = this.parseResponse(\n      InfoGetTransactionResultV1Compatible,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    const txResult =\n      InfoGetTransactionResultV1Compatible.newInfoGetTransactionResultFromV1Compatible(\n        result,\n        result.rawJSON\n      );\n    txResult.rawJSON = resp.result;\n\n    return txResult;\n  }\n\n  async getTransactionFinalizedApprovalByDeployHash(\n    deployHash: string\n  ): Promise<InfoGetTransactionResult> {\n    const serializer = new TypedJSON(ParamTransactionHash);\n    const hash = Hash.fromHex(deployHash);\n    const transactionHashParam = new ParamTransactionHash(\n      TransactionHash.fromDeployHash(hash),\n      true\n    );\n\n    const resp = await this.processRequest<ParamTransactionHash>(\n      Method.GetTransaction,\n      serializer.toPlainJson(transactionHashParam) as ParamTransactionHash\n    );\n\n    const result = this.parseResponse(\n      InfoGetTransactionResultV1Compatible,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    const txResult =\n      InfoGetTransactionResultV1Compatible.newInfoGetTransactionResultFromV1Compatible(\n        result,\n        result.rawJSON\n      );\n    txResult.rawJSON = resp.result;\n\n    return txResult;\n  }\n\n  /**\n   *  Deprecated: `getStateItem` is deprecated and will be removed in a future release.\n   *\n   * Use `queryLatestGlobalState`, `queryGlobalStateByBlockHash`,\n   * `queryGlobalStateByBlockHeight`, or `queryGlobalStateByStateHash` instead.\n   *\n   * Reason: The newer Global State Query API provides more consistent behavior\n   * across block identifiers and supports both stored values and typed keys.\n   *\n   * @deprecated Use Global State Query methods instead.\n   */\n  async getStateItem(\n    stateRootHash: string | null,\n    key: string,\n    path: string[]\n  ): Promise<StateGetItemResult> {\n    let rootHash = stateRootHash;\n\n    if (!rootHash) {\n      const latestHashResult = await this.getStateRootHashLatest();\n      rootHash = latestHashResult.stateRootHash.toHex();\n    }\n\n    const serializer = new TypedJSON(ParamStateRootHash);\n    const stateRootHashParam = new ParamStateRootHash(rootHash, key, path);\n\n    const resp = await this.processRequest<ParamStateRootHash>(\n      Method.GetStateItem,\n      serializer.toPlainJson(stateRootHashParam) as ParamStateRootHash\n    );\n\n    const result = this.parseResponse(StateGetItemResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryLatestGlobalState(\n    key: string,\n    path: string[]\n  ): Promise<QueryGlobalStateResult> {\n    const serializer = new TypedJSON(ParamQueryGlobalState);\n    const queryGlobalStateParam =\n      ParamQueryGlobalState.newQueryGlobalStateParam(key, path);\n\n    const resp = await this.processRequest(\n      Method.QueryGlobalState,\n      serializer.toPlainJson(queryGlobalStateParam) as ParamQueryGlobalState\n    );\n\n    const result = this.parseResponse(QueryGlobalStateResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryGlobalStateByBlockHash(\n    blockHash: string,\n    key: string,\n    path: string[]\n  ): Promise<QueryGlobalStateResult> {\n    const serializer = new TypedJSON(ParamQueryGlobalState);\n    const queryGlobalStateParam =\n      ParamQueryGlobalState.newQueryGlobalStateParam(key, path, { blockHash });\n\n    const resp = await this.processRequest(\n      Method.QueryGlobalState,\n      serializer.toPlainJson(queryGlobalStateParam) as ParamQueryGlobalState\n    );\n\n    const result = this.parseResponse(QueryGlobalStateResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryGlobalStateByBlockHeight(\n    blockHeight: number,\n    key: string,\n    path: string[]\n  ): Promise<QueryGlobalStateResult> {\n    const serializer = new TypedJSON(ParamQueryGlobalState);\n    const queryGlobalStateParam =\n      ParamQueryGlobalState.newQueryGlobalStateParam(key, path, {\n        blockHeight\n      });\n\n    const resp = await this.processRequest(\n      Method.QueryGlobalState,\n      serializer.toPlainJson(queryGlobalStateParam) as ParamQueryGlobalState\n    );\n\n    const result = this.parseResponse(QueryGlobalStateResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryGlobalStateByStateHash(\n    stateRootHash: string | null,\n    key: string,\n    path: string[]\n  ): Promise<QueryGlobalStateResult> {\n    const serializer = new TypedJSON(ParamQueryGlobalState);\n    let resp: RpcResponse;\n\n    if (!stateRootHash) {\n      const queryGlobalStateParamWithoutRootHash =\n        ParamQueryGlobalState.newQueryGlobalStateParam(key, path);\n      resp = await this.processRequest(\n        Method.QueryGlobalState,\n        serializer.toPlainJson(\n          queryGlobalStateParamWithoutRootHash\n        ) as ParamQueryGlobalState\n      );\n    } else {\n      const queryGlobalState = ParamQueryGlobalState.newQueryGlobalStateParam(\n        key,\n        path,\n        {\n          stateRootHash\n        }\n      );\n      resp = await this.processRequest(\n        Method.QueryGlobalState,\n        serializer.toPlainJson(queryGlobalState) as ParamQueryGlobalState\n      );\n    }\n\n    const result = this.parseResponse(QueryGlobalStateResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getLatestEntity(\n    entityIdentifier: EntityIdentifier\n  ): Promise<StateGetEntityResult> {\n    const serializer = new TypedJSON(ParamGetStateEntity);\n    const getStateEntityParam = new ParamGetStateEntity(entityIdentifier);\n\n    const resp = await this.processRequest<ParamGetStateEntity>(\n      Method.GetStateEntity,\n      serializer.toPlainJson(getStateEntityParam) as ParamGetStateEntity\n    );\n\n    const result = this.parseResponse(StateGetEntityResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getEntityByBlockHash(\n    entityIdentifier: EntityIdentifier,\n    hash: string\n  ): Promise<StateGetEntityResult> {\n    const serializer = new TypedJSON(ParamGetStateEntity);\n    const getStateEntityParam = new ParamGetStateEntity(\n      entityIdentifier,\n      new BlockIdentifier(hash)\n    );\n\n    const resp = await this.processRequest<ParamGetStateEntity>(\n      Method.GetStateEntity,\n      serializer.toPlainJson(getStateEntityParam) as ParamGetStateEntity\n    );\n\n    const result = this.parseResponse(StateGetEntityResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getEntityByBlockHeight(\n    entityIdentifier: EntityIdentifier,\n    height: number\n  ): Promise<StateGetEntityResult> {\n    const serializer = new TypedJSON(ParamGetStateEntity);\n    const getStateEntityParam = new ParamGetStateEntity(\n      entityIdentifier,\n      new BlockIdentifier(undefined, height)\n    );\n\n    const resp = await this.processRequest<ParamGetStateEntity>(\n      Method.GetStateEntity,\n      serializer.toPlainJson(getStateEntityParam) as ParamGetStateEntity\n    );\n\n    const result = this.parseResponse(StateGetEntityResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getAccountInfoByBlockHash(\n    blockHash: string,\n    pub: PublicKey\n  ): Promise<StateGetAccountInfo> {\n    const accountInfoBalance = new ParamGetAccountInfoBalance(\n      pub.toHex(),\n      ParamBlockIdentifier.byHash(blockHash)\n    );\n\n    const resp = await this.processRequest<ParamGetAccountInfoBalance>(\n      Method.GetStateAccount,\n      accountInfoBalance.toJSON() as ParamGetAccountInfoBalance\n    );\n\n    const result = this.parseResponse(StateGetAccountInfo, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getAccountInfoByBlockHeight(\n    blockHeight: number,\n    pub: PublicKey\n  ): Promise<StateGetAccountInfo> {\n    const accountInfoBalance = new ParamGetAccountInfoBalance(\n      pub.toHex(),\n      ParamBlockIdentifier.byHeight(blockHeight)\n    );\n\n    const resp = await this.processRequest<ParamGetAccountInfoBalance>(\n      Method.GetStateAccount,\n      accountInfoBalance.toJSON() as ParamGetAccountInfoBalance\n    );\n\n    const result = this.parseResponse(StateGetAccountInfo, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getAccountInfo(\n    blockIdentifier: ParamBlockIdentifier | null,\n    accountIdentifier: AccountIdentifier\n  ): Promise<StateGetAccountInfo> {\n    let identifier = blockIdentifier;\n\n    if (!identifier) {\n      identifier = new ParamBlockIdentifier();\n    }\n\n    let accountParam: string;\n\n    if (accountIdentifier.accountHash) {\n      accountParam = accountIdentifier.accountHash.toPrefixedString();\n    } else if (accountIdentifier.publicKey) {\n      accountParam = accountIdentifier.publicKey.toHex();\n    } else {\n      throw new Error('account identifier is empty');\n    }\n\n    const accountInfoBalance = new ParamGetAccountInfoBalance(\n      accountParam,\n      identifier\n    );\n\n    const resp = await this.processRequest<ParamGetAccountInfoBalance>(\n      Method.GetStateAccount,\n      accountInfoBalance.toJSON() as ParamGetAccountInfoBalance\n    );\n\n    const result = this.parseResponse(StateGetAccountInfo, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getDictionaryItem(\n    stateRootHash: string | null,\n    uref: string,\n    key: string\n  ): Promise<StateGetDictionaryResult> {\n    return this.getDictionaryItemByIdentifier(\n      stateRootHash,\n      new ParamDictionaryIdentifier(\n        undefined,\n        undefined,\n        new ParamDictionaryIdentifierURef(key, uref)\n      )\n    );\n  }\n\n  async getDictionaryItemByIdentifier(\n    stateRootHash: string | null,\n    identifier: ParamDictionaryIdentifier\n  ): Promise<StateGetDictionaryResult> {\n    const serializer = new TypedJSON(StateGetDictionaryRequest);\n    let rootHash = stateRootHash;\n\n    if (!rootHash) {\n      const latestHashResult = await this.getStateRootHashLatest();\n\n      rootHash = latestHashResult.stateRootHash.toHex();\n    }\n\n    const stateDictionaryParam = new StateGetDictionaryRequest(\n      rootHash,\n      identifier\n    );\n    const resp = await this.processRequest<StateGetDictionaryRequest>(\n      Method.GetDictionaryItem,\n      serializer.toPlainJson(stateDictionaryParam) as StateGetDictionaryRequest\n    );\n\n    const result = this.parseResponse(StateGetDictionaryResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getLatestBalance(purseURef: string): Promise<StateGetBalanceResult> {\n    const serializer = new TypedJSON(StateGetBalanceRequest);\n    const latestHashResult = await this.getStateRootHashLatest();\n    const stateBalance = new StateGetBalanceRequest(\n      latestHashResult.stateRootHash.toHex(),\n      purseURef\n    );\n\n    const resp = await this.processRequest<StateGetBalanceRequest>(\n      Method.GetStateBalance,\n      serializer.toPlainJson(stateBalance) as StateGetBalanceRequest\n    );\n\n    const result = this.parseResponse(StateGetBalanceResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getBalanceByStateRootHash(\n    purseURef: string,\n    stateRootHash: string\n  ): Promise<StateGetBalanceResult> {\n    const serializer = new TypedJSON(StateGetBalanceRequest);\n    const stateBalance = new StateGetBalanceRequest(stateRootHash, purseURef);\n\n    const resp = await this.processRequest<StateGetBalanceRequest>(\n      Method.GetStateBalance,\n      serializer.toPlainJson(stateBalance) as StateGetBalanceRequest\n    );\n\n    const result = this.parseResponse(StateGetBalanceResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getEraInfoLatest(): Promise<ChainGetEraInfoResult> {\n    const resp = await this.processRequest(Method.GetEraInfo, null);\n\n    const result = this.parseResponse(ChainGetEraInfoResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getEraInfoByBlockHeight(\n    height: number\n  ): Promise<ChainGetEraInfoResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHeight(height);\n\n    const resp = await this.processRequest(\n      Method.GetEraInfo,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(ChainGetEraInfoResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getEraInfoByBlockHash(hash: string): Promise<ChainGetEraInfoResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHash(hash);\n\n    const resp = await this.processRequest(\n      Method.GetEraInfo,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(ChainGetEraInfoResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getLatestBlock(): Promise<ChainGetBlockResult> {\n    const resp = await this.processRequest(Method.GetBlock, null);\n\n    const result = this.parseResponse(\n      ChainGetBlockResultV1Compatible,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    const blockResult =\n      ChainGetBlockResult.newChainGetBlockResultFromV1Compatible(\n        result,\n        result.rawJSON\n      );\n    blockResult.rawJSON = result.rawJSON;\n\n    return blockResult;\n  }\n\n  async getBlockByHash(hash: string): Promise<ChainGetBlockResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHash(hash);\n\n    const resp = await this.processRequest(\n      Method.GetBlock,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(\n      ChainGetBlockResultV1Compatible,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    const blockResult =\n      ChainGetBlockResult.newChainGetBlockResultFromV1Compatible(\n        result,\n        result.rawJSON\n      );\n    blockResult.rawJSON = resp.result;\n\n    return blockResult;\n  }\n\n  async getBlockByHeight(height: number): Promise<ChainGetBlockResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHeight(height);\n\n    const resp = await this.processRequest(\n      Method.GetBlock,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(\n      ChainGetBlockResultV1Compatible,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    const blockResult =\n      ChainGetBlockResult.newChainGetBlockResultFromV1Compatible(\n        result,\n        result.rawJSON\n      );\n    blockResult.rawJSON = resp.result;\n\n    return blockResult;\n  }\n\n  async getLatestBlockTransfers(): Promise<ChainGetBlockTransfersResult> {\n    const resp = await this.processRequest(Method.GetBlockTransfers, null);\n\n    const result = this.parseResponse(\n      ChainGetBlockTransfersResult,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getBlockTransfersByHash(\n    blockHash: string\n  ): Promise<ChainGetBlockTransfersResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHash(blockHash);\n\n    const resp = await this.processRequest(\n      Method.GetBlockTransfers,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(\n      ChainGetBlockTransfersResult,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getBlockTransfersByHeight(\n    height: number\n  ): Promise<ChainGetBlockTransfersResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHeight(height);\n\n    const resp = await this.processRequest(\n      Method.GetBlockTransfers,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(\n      ChainGetBlockTransfersResult,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getEraSummaryLatest(): Promise<ChainGetEraSummaryResult> {\n    const resp = await this.processRequest(Method.GetEraSummary, null);\n\n    const result = this.parseResponse(ChainGetEraSummaryResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getEraSummaryByHash(\n    blockHash: string\n  ): Promise<ChainGetEraSummaryResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHash(blockHash);\n\n    const resp = await this.processRequest(\n      Method.GetEraSummary,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(ChainGetEraSummaryResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getEraSummaryByHeight(\n    height: number\n  ): Promise<ChainGetEraSummaryResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHeight(height);\n\n    const resp = await this.processRequest(\n      Method.GetEraSummary,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(ChainGetEraSummaryResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getLatestAuctionInfo(): Promise<StateGetAuctionInfoResult> {\n    try {\n      const auctionInfoV2 = await this.getLatestAuctionInfoV2();\n      const auctionInfoResult = new StateGetAuctionInfoResult();\n      auctionInfoResult.auctionState = AuctionState.fromV2(\n        auctionInfoV2.auctionState\n      );\n      auctionInfoResult.version = auctionInfoV2.version;\n      auctionInfoResult.rawJSON = auctionInfoV2.rawJSON;\n      return auctionInfoResult;\n    } catch (err) {\n      const errorMessage = err?.message || '';\n      if (!errorMessage.includes('Method not found')) {\n        throw err;\n      }\n\n      const auctionInfoV1 = await this.getLatestAuctionInfoV1();\n      const auctionInfoResult = new StateGetAuctionInfoResult();\n      auctionInfoResult.auctionState = AuctionState.fromV1(\n        auctionInfoV1.auctionState\n      );\n      auctionInfoResult.version = auctionInfoV1.version;\n      auctionInfoResult.rawJSON = auctionInfoV1.rawJSON;\n      return auctionInfoResult;\n    }\n  }\n\n  async getLatestAuctionInfoV1(): Promise<StateGetAuctionInfoV1Result> {\n    const resp = await this.processRequest(Method.GetAuctionInfo, null);\n\n    const result = this.parseResponse(StateGetAuctionInfoV1Result, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getLatestAuctionInfoV2(): Promise<StateGetAuctionInfoV2Result> {\n    const resp = await this.processRequest(Method.GetAuctionInfoV2, null);\n\n    const result = this.parseResponse(StateGetAuctionInfoV2Result, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getAuctionInfoByHash(\n    blockHash: string\n  ): Promise<StateGetAuctionInfoResult> {\n    try {\n      const resV2 = await this.getAuctionInfoV2ByHash(blockHash);\n      const result = new StateGetAuctionInfoResult();\n      result.auctionState = AuctionState.fromV2(resV2.auctionState);\n      result.version = resV2.version;\n      result.rawJSON = resV2.rawJSON;\n      return result;\n    } catch (err) {\n      const errorMessage = err?.message || '';\n      if (!errorMessage.includes('Method not found')) {\n        throw err;\n      }\n\n      const resV1 = await this.getAuctionInfoV1ByHash(blockHash);\n      const result = new StateGetAuctionInfoResult();\n      result.auctionState = AuctionState.fromV1(resV1.auctionState);\n      result.version = resV1.version;\n      result.rawJSON = resV1.rawJSON;\n      return result;\n    }\n  }\n\n  async getAuctionInfoV1ByHash(\n    blockHash: string\n  ): Promise<StateGetAuctionInfoV1Result> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHash(blockHash);\n\n    const resp = await this.processRequest(\n      Method.GetAuctionInfo,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(StateGetAuctionInfoV1Result, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getAuctionInfoV2ByHash(\n    blockHash: string\n  ): Promise<StateGetAuctionInfoV2Result> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHash(blockHash);\n\n    const resp = await this.processRequest(\n      Method.GetAuctionInfoV2,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(StateGetAuctionInfoV2Result, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getAuctionInfoByHeight(\n    height: number\n  ): Promise<StateGetAuctionInfoResult> {\n    try {\n      const resV2 = await this.getAuctionInfoV2ByHeight(height);\n      const result = new StateGetAuctionInfoResult();\n      result.auctionState = AuctionState.fromV2(resV2.auctionState);\n      result.version = resV2.version;\n      result.rawJSON = resV2.rawJSON;\n      return result;\n    } catch (err) {\n      const errorMessage = err?.message || '';\n      if (!errorMessage.includes('Method not found')) {\n        throw err;\n      }\n\n      const resV1 = await this.getAuctionInfoV1ByHeight(height);\n      const result = new StateGetAuctionInfoResult();\n      result.auctionState = AuctionState.fromV1(resV1.auctionState);\n      result.version = resV1.version;\n      result.rawJSON = resV1.rawJSON;\n      return result;\n    }\n  }\n\n  async getAuctionInfoV1ByHeight(\n    height: number\n  ): Promise<StateGetAuctionInfoV1Result> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHeight(height);\n\n    const resp = await this.processRequest(\n      Method.GetAuctionInfo,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(StateGetAuctionInfoV1Result, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getAuctionInfoV2ByHeight(\n    height: number\n  ): Promise<StateGetAuctionInfoV2Result> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHeight(height);\n\n    const resp = await this.processRequest(\n      Method.GetAuctionInfoV2,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(StateGetAuctionInfoV2Result, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getStateRootHashLatest(): Promise<ChainGetStateRootHashResult> {\n    const resp = await this.processRequest(Method.GetStateRootHash, null);\n\n    const result = this.parseResponse(ChainGetStateRootHashResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getStateRootHashByHash(\n    blockHash: string\n  ): Promise<ChainGetStateRootHashResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHash(blockHash);\n\n    const resp = await this.processRequest(\n      Method.GetStateRootHash,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(ChainGetStateRootHashResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getStateRootHashByHeight(\n    height: number\n  ): Promise<ChainGetStateRootHashResult> {\n    const serializer = new TypedJSON(ParamBlockIdentifier);\n    const blockIdentifierParam = ParamBlockIdentifier.byHeight(height);\n\n    const resp = await this.processRequest(\n      Method.GetStateRootHash,\n      serializer.toPlainJson(blockIdentifierParam) as ParamBlockIdentifier\n    );\n\n    const result = this.parseResponse(ChainGetStateRootHashResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getValidatorChangesInfo(): Promise<InfoGetValidatorChangesResult> {\n    const resp = await this.processRequest(Method.GetValidatorChanges, null);\n\n    const result = this.parseResponse(\n      InfoGetValidatorChangesResult,\n      resp.result\n    );\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getStatus(): Promise<InfoGetStatusResult> {\n    const resp = await this.processRequest(Method.GetStatus, null);\n\n    const result = this.parseResponse(InfoGetStatusResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getPeers(): Promise<InfoGetPeerResult> {\n    const resp = await this.processRequest(Method.GetPeers, null);\n\n    const result = this.parseResponse(InfoGetPeerResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async putDeploy(deploy: Deploy): Promise<PutDeployResult> {\n    const serializer = new TypedJSON(PutDeployRequest);\n    const deployRequestParam = new PutDeployRequest(deploy);\n\n    const resp = await this.processRequest<PutDeployRequest>(\n      Method.PutDeploy,\n      serializer.toPlainJson(deployRequestParam) as PutDeployRequest\n    );\n\n    const result = this.parseResponse(PutDeployResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async putTransaction(\n    transaction: Transaction\n  ): Promise<PutTransactionResult> {\n    const serializer = new TypedJSON(PutTransactionRequest);\n    const transactionRequestParam = new PutTransactionRequest(\n      transaction.getTransactionWrapper()\n    );\n\n    const resp = await this.processRequest<PutTransactionRequest>(\n      Method.PutTransaction,\n      serializer.toPlainJson(transactionRequestParam) as PutTransactionRequest\n    );\n\n    const result = this.parseResponse(PutTransactionResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryLatestBalance(\n    identifier: PurseIdentifier\n  ): Promise<QueryBalanceResult> {\n    const serializer = new TypedJSON(QueryBalanceRequest);\n    const queryBalanceParam = new QueryBalanceRequest(identifier);\n\n    const resp = await this.processRequest<QueryBalanceRequest>(\n      Method.QueryBalance,\n      serializer.toPlainJson(queryBalanceParam) as QueryBalanceRequest\n    );\n\n    const result = this.parseResponse(QueryBalanceResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryBalanceByBlockHeight(\n    purseIdentifier: PurseIdentifier,\n    height: number\n  ): Promise<QueryBalanceResult> {\n    const serializer = new TypedJSON(QueryBalanceRequest);\n    const queryBalanceParam = new QueryBalanceRequest(\n      purseIdentifier,\n      new GlobalStateIdentifier(undefined, height)\n    );\n\n    const resp = await this.processRequest<QueryBalanceRequest>(\n      Method.QueryBalance,\n      serializer.toPlainJson(queryBalanceParam) as QueryBalanceRequest\n    );\n\n    const result = this.parseResponse(QueryBalanceResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryBalanceByBlockHash(\n    purseIdentifier: PurseIdentifier,\n    blockHash: string\n  ): Promise<QueryBalanceResult> {\n    const serializer = new TypedJSON(QueryBalanceRequest);\n    const queryBalanceParam = new QueryBalanceRequest(\n      purseIdentifier,\n      new GlobalStateIdentifier(blockHash)\n    );\n\n    const resp = await this.processRequest<QueryBalanceRequest>(\n      Method.QueryBalance,\n      serializer.toPlainJson(queryBalanceParam) as QueryBalanceRequest\n    );\n\n    const result = this.parseResponse(QueryBalanceResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryBalanceByStateRootHash(\n    purseIdentifier: PurseIdentifier,\n    stateRootHash: string\n  ): Promise<QueryBalanceResult> {\n    const serializer = new TypedJSON(QueryBalanceRequest);\n    const queryBalanceParam = new QueryBalanceRequest(\n      purseIdentifier,\n      new GlobalStateIdentifier(undefined, undefined, stateRootHash)\n    );\n\n    const resp = await this.processRequest<QueryBalanceRequest>(\n      Method.QueryBalance,\n      serializer.toPlainJson(queryBalanceParam) as QueryBalanceRequest\n    );\n\n    const result = this.parseResponse(QueryBalanceResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryLatestBalanceDetails(\n    purseIdentifier: PurseIdentifier\n  ): Promise<QueryBalanceDetailsResult> {\n    const serializer = new TypedJSON(QueryBalanceDetailsRequest);\n    const queryBalanceParam = new QueryBalanceDetailsRequest(purseIdentifier);\n\n    const resp = await this.processRequest<QueryBalanceDetailsRequest>(\n      Method.QueryBalanceDetails,\n      serializer.toPlainJson(queryBalanceParam) as QueryBalanceDetailsRequest\n    );\n\n    const result = this.parseResponse(QueryBalanceDetailsResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryBalanceDetailsByStateRootHash(\n    purseIdentifier: PurseIdentifier,\n    stateRootHash: string\n  ): Promise<QueryBalanceDetailsResult> {\n    const serializer = new TypedJSON(QueryBalanceDetailsRequest);\n    const queryBalanceParam = new QueryBalanceDetailsRequest(\n      purseIdentifier,\n      new GlobalStateIdentifier(undefined, undefined, stateRootHash)\n    );\n\n    const resp = await this.processRequest<QueryBalanceDetailsRequest>(\n      Method.QueryBalanceDetails,\n      serializer.toPlainJson(queryBalanceParam) as QueryBalanceDetailsRequest\n    );\n\n    const result = this.parseResponse(QueryBalanceDetailsResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryBalanceDetailsByBlockHeight(\n    purseIdentifier: PurseIdentifier,\n    height: number\n  ): Promise<QueryBalanceDetailsResult> {\n    const serializer = new TypedJSON(QueryBalanceDetailsRequest);\n    const queryBalanceParam = new QueryBalanceDetailsRequest(\n      purseIdentifier,\n      new GlobalStateIdentifier(undefined, height)\n    );\n\n    const resp = await this.processRequest<QueryBalanceDetailsRequest>(\n      Method.QueryBalanceDetails,\n      serializer.toPlainJson(queryBalanceParam) as QueryBalanceDetailsRequest\n    );\n\n    const result = this.parseResponse(QueryBalanceDetailsResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async queryBalanceDetailsByBlockHash(\n    purseIdentifier: PurseIdentifier,\n    blockHash: string\n  ): Promise<QueryBalanceDetailsResult> {\n    const serializer = new TypedJSON(QueryBalanceDetailsRequest);\n    const queryBalanceParam = new QueryBalanceDetailsRequest(\n      purseIdentifier,\n      new GlobalStateIdentifier(blockHash)\n    );\n\n    const resp = await this.processRequest<QueryBalanceDetailsRequest>(\n      Method.QueryBalanceDetails,\n      serializer.toPlainJson(queryBalanceParam) as QueryBalanceDetailsRequest\n    );\n\n    const result = this.parseResponse(QueryBalanceDetailsResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getChainspec(): Promise<InfoGetChainspecResult> {\n    const resp = await this.processRequest(Method.InfoGetChainspec, null);\n\n    const result = this.parseResponse(InfoGetChainspecResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getValidatorRewardByEraID(\n    validator: PublicKey,\n    eraID: number\n  ): Promise<InfoGetRewardResult> {\n    const serializer = new TypedJSON(InfoGetRewardRequest);\n    const rewardParam = new InfoGetRewardRequest(\n      validator,\n      undefined,\n      new EraIdentifier(undefined, eraID)\n    );\n\n    const resp = await this.processRequest<InfoGetRewardRequest>(\n      Method.GetReward,\n      serializer.toPlainJson(rewardParam) as InfoGetRewardRequest\n    );\n\n    const result = this.parseResponse(InfoGetRewardResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getValidatorRewardByBlockHash(\n    validator: PublicKey,\n    blockHash: string\n  ): Promise<InfoGetRewardResult> {\n    const serializer = new TypedJSON(InfoGetRewardRequest);\n    const rewardParam = new InfoGetRewardRequest(\n      validator,\n      undefined,\n      new EraIdentifier(new BlockIdentifier(blockHash))\n    );\n\n    const resp = await this.processRequest<InfoGetRewardRequest>(\n      Method.GetReward,\n      serializer.toPlainJson(rewardParam) as InfoGetRewardRequest\n    );\n\n    const result = this.parseResponse(InfoGetRewardResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getValidatorRewardByBlockHeight(\n    validator: PublicKey,\n    height: number\n  ): Promise<InfoGetRewardResult> {\n    const serializer = new TypedJSON(InfoGetRewardRequest);\n    const rewardParam = new InfoGetRewardRequest(\n      validator,\n      undefined,\n      new EraIdentifier(new BlockIdentifier(undefined, height))\n    );\n\n    const resp = await this.processRequest<InfoGetRewardRequest>(\n      Method.GetReward,\n      serializer.toPlainJson(rewardParam) as InfoGetRewardRequest\n    );\n\n    const result = this.parseResponse(InfoGetRewardResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getDelegatorRewardByEraID(\n    validator: PublicKey,\n    delegator: PublicKey,\n    eraID: number\n  ): Promise<InfoGetRewardResult> {\n    const serializer = new TypedJSON(InfoGetRewardRequest);\n    const rewardParam = new InfoGetRewardRequest(\n      validator,\n      delegator,\n      new EraIdentifier(undefined, eraID)\n    );\n\n    const resp = await this.processRequest<InfoGetRewardRequest>(\n      Method.GetReward,\n      serializer.toPlainJson(rewardParam) as InfoGetRewardRequest\n    );\n\n    const result = this.parseResponse(InfoGetRewardResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getDelegatorRewardByBlockHash(\n    validator: PublicKey,\n    delegator: PublicKey,\n    blockHash: string\n  ): Promise<InfoGetRewardResult> {\n    const serializer = new TypedJSON(InfoGetRewardRequest);\n    const rewardParam = new InfoGetRewardRequest(\n      validator,\n      delegator,\n      new EraIdentifier(new BlockIdentifier(blockHash))\n    );\n\n    const resp = await this.processRequest<InfoGetRewardRequest>(\n      Method.GetReward,\n      serializer.toPlainJson(rewardParam) as InfoGetRewardRequest\n    );\n\n    const result = this.parseResponse(InfoGetRewardResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getDelegatorRewardByBlockHeight(\n    validator: PublicKey,\n    delegator: PublicKey,\n    height: number\n  ): Promise<InfoGetRewardResult> {\n    const serializer = new TypedJSON(InfoGetRewardRequest);\n    const rewardParam = new InfoGetRewardRequest(\n      validator,\n      delegator,\n      new EraIdentifier(new BlockIdentifier(undefined, height))\n    );\n\n    const resp = await this.processRequest<InfoGetRewardRequest>(\n      Method.GetReward,\n      serializer.toPlainJson(rewardParam) as InfoGetRewardRequest\n    );\n\n    const result = this.parseResponse(InfoGetRewardResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getLatestValidatorReward(\n    validator: PublicKey\n  ): Promise<InfoGetRewardResult> {\n    const serializer = new TypedJSON(InfoGetRewardRequest);\n    const rewardParam = new InfoGetRewardRequest(validator);\n\n    const resp = await this.processRequest(\n      Method.GetReward,\n      serializer.toPlainJson(rewardParam) as InfoGetRewardRequest\n    );\n\n    const result = this.parseResponse(InfoGetRewardResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  async getLatestDelegatorReward(\n    validator: PublicKey,\n    delegator: PublicKey\n  ): Promise<InfoGetRewardResult> {\n    const serializer = new TypedJSON(InfoGetRewardRequest);\n    const rewardParam = new InfoGetRewardRequest(validator, delegator);\n\n    const resp = await this.processRequest<InfoGetRewardRequest>(\n      Method.GetReward,\n      serializer.toPlainJson(rewardParam) as InfoGetRewardRequest\n    );\n\n    const result = this.parseResponse(InfoGetRewardResult, resp.result);\n    result.rawJSON = resp.result;\n\n    return result;\n  }\n\n  /**\n   * Waits for a transaction to be confirmed within a given timeout period.\n   * Implements a retry mechanism to handle transient errors from the getInfo function.\n   *\n   * @template T - The expected return type of the transaction info.\n   * @param getInfo - A function that fetches transaction info based on its hash.\n   * @param hash - The transaction hash to monitor.\n   * @param timeout - The maximum time (in milliseconds) to wait for confirmation.\n   * @param maxRetries - The maximum number of retries for transient errors.\n   * @param retryDelay - The delay (in milliseconds) between retry attempts.\n   * @returns A promise that resolves with the transaction info if confirmed, otherwise rejects on timeout or persistent errors.\n   * @throws {Error} If the timeout is reached before confirmation or if getInfo fails consistently beyond the allowed retries.\n   */\n  private async waitForConfirmation<T>(\n    getInfo: (hash: string) => Promise<T>,\n    hash: string,\n    timeout: number,\n    maxRetries = 3,\n    retryDelay = 500\n  ): Promise<T> {\n    const timer = setTimeout(() => {\n      throw new Error('Timeout');\n    }, timeout);\n\n    let attempts = 0;\n\n    while (true) {\n      try {\n        const info = await getInfo(hash);\n        if ((info as any)?.executionInfo?.executionResult) {\n          clearTimeout(timer);\n          return info;\n        }\n      } catch (error) {\n        if (attempts >= maxRetries) {\n          clearTimeout(timer);\n          throw new Error(\n            `Failed after ${maxRetries} retries: ${error.message}`\n          );\n        }\n        attempts++;\n        console.warn(\n          `Attempt ${attempts} failed: ${error.message}. Retrying in ${retryDelay}ms...`\n        );\n        await sleep(retryDelay);\n        continue;\n      }\n      await sleep(400);\n    }\n  }\n\n  /**\n   * Waits for a transaction to be confirmed on-chain.\n   * @param transaction - The transaction instance.\n   * @param timeout - Optional timeout in milliseconds (default: 6000ms).\n   * @returns A promise that resolves to `InfoGetTransactionResult` if successful.\n   * @throws An error if the transaction times out.\n   */\n  public async waitForTransaction(\n    transaction: Transaction,\n    timeout = 6000\n  ): Promise<InfoGetTransactionResult> {\n    return this.waitForConfirmation(\n      this.getTransactionByTransactionHash.bind(this),\n      transaction?.hash?.toHex(),\n      timeout\n    );\n  }\n\n  /**\n   * Waits for a deploy to be confirmed on-chain.\n   * @param deploy - The deploy instance.\n   * @param timeout - Optional timeout in milliseconds (default: 60000ms).\n   * @returns A promise that resolves to `InfoGetDeployResult` if successful.\n   * @throws An error if the deploy times out.\n   */\n  public async waitForDeploy(\n    deploy: Deploy,\n    timeout = 60000\n  ): Promise<InfoGetDeployResult> {\n    return this.waitForConfirmation(\n      this.getDeploy.bind(this),\n      deploy?.hash?.toHex(),\n      timeout\n    );\n  }\n\n  private parseResponse<T>(type: new (params: any) => T, response: any): T {\n    const serializer = new TypedJSON(type);\n    const parsed = serializer.parse(response);\n\n    if (!parsed) throw new Error(`Error parsing ${type.name} response data`);\n\n    return parsed as T;\n  }\n\n  private async processRequest<Request>(\n    method: Method,\n    params: Request,\n    reqID = '0'\n  ): Promise<RpcResponse> {\n    const request = RpcRequest.defaultRpcRequest(method, params);\n\n    if (reqID !== '0') {\n      request.id = IDValue.fromString(reqID);\n    }\n\n    const resp = await this.handler.processCall(request);\n\n    if (resp.error) {\n      throw new HttpError(resp.error.code, resp.error);\n    }\n\n    return resp;\n  }\n}\n","import { TypedJSON } from 'typedjson';\n\nimport {\n  BlockIdentifier,\n  Method,\n  RpcRequest,\n  SpeculativeExecParams\n} from './request';\nimport { RpcResponse, SpeculativeExecResult } from './response';\nimport { IHandler } from './client';\nimport { IDValue } from './id_value';\nimport { Deploy } from '../types';\n\n/**\n * A client for interacting with the speculative execution endpoint in the Casper Network.\n * This class is responsible for executing speculative transactions on the Casper Network and processing their responses.\n */\nexport class SpeculativeClient {\n  private handler: IHandler;\n\n  /**\n   * Creates an instance of the `SpeculativeClient`.\n   *\n   * @param handler The handler used to process RPC requests.\n   */\n  constructor(handler: IHandler) {\n    this.handler = handler;\n  }\n\n  /**\n   * Static method to create a new `SpeculativeClient` instance.\n   *\n   * @param handler The handler used to process RPC requests.\n   * @returns A new instance of the `SpeculativeClient`.\n   */\n  static newSpeculativeClient(handler: IHandler): SpeculativeClient {\n    return new SpeculativeClient(handler);\n  }\n\n  /**\n   * Executes a speculative transaction on the Casper Network.\n   *\n   * @param reqID The request identifier for the RPC call.\n   * @param deploy The deploy object that represents the transaction to be executed.\n   * @param identifier (Optional) The block identifier where the speculative transaction should be executed.\n   *\n   * @returns A promise that resolves to a `SpeculativeExecResult`, which contains the results of the speculative execution.\n   *\n   * @throws {Error} If the handler response is empty or if an error occurs while processing the RPC call or parsing the response.\n   */\n  async speculativeExec(\n    reqID: string,\n    deploy: Deploy,\n    identifier?: BlockIdentifier\n  ): Promise<SpeculativeExecResult> {\n    const serializer = new TypedJSON(SpeculativeExecParams);\n    const speculativeParams = new SpeculativeExecParams(deploy, identifier);\n\n    const request = RpcRequest.defaultRpcRequest(\n      Method.SpeculativeExec,\n      serializer.toPlainJson(speculativeParams)\n    );\n\n    if (reqID && reqID !== '0') {\n      request.id = new IDValue(reqID);\n    }\n\n    const resp = await this.handler.processCall(request);\n\n    if (!resp) {\n      throw new Error('Handler response is empty');\n    }\n\n    if (resp.error) {\n      throw new Error(\n        `RPC call failed, details: ${JSON.stringify(resp.error)}`\n      );\n    }\n\n    try {\n      const serializer = new TypedJSON(RpcResponse);\n      const data = serializer.parse(resp);\n\n      if (!data) {\n        throw new Error(`Error parsing JSON`);\n      }\n\n      return SpeculativeExecResult.fromJSON(data);\n    } catch (error) {\n      throw new Error(`Error parsing JSON, details: ${error}`);\n    }\n  }\n}\n","import EventSource from 'eventsource';\nimport { Result, Ok, Err } from 'ts-results';\n\nimport { EventName, RawEvent } from './event';\nimport { EventParser } from './event_parser';\n\n/**\n * Type definition for an event handler function.\n *\n * @param result - A RawEvent instance representing the event.\n */\nexport type EventHandlerFn = (result: RawEvent) => void;\n\n/**\n * Interface representing an event subscription.\n */\nexport interface EventSubscription {\n  /**\n   * The name of the event to subscribe to.\n   */\n  eventName: EventName;\n  /**\n   * The event handler function to invoke when the event occurs.\n   */\n  eventHandlerFn: EventHandlerFn;\n}\n\n/**\n * Client for managing Server-Sent Events (SSE) connections.\n */\nexport class SseClient {\n  private subscribedTo: EventSubscription[] = [];\n  private eventSource?: EventSource;\n  private parser: EventParser;\n\n  /**\n   * Creates an instance of SseClient.\n   *\n   * @param eventStreamUrl - The URL of the event stream.\n   */\n  constructor(private eventStreamUrl: string) {\n    this.parser = new EventParser();\n  }\n\n  /**\n   * Subscribes to a specified event.\n   *\n   * @param eventName - The name of the event to subscribe to.\n   * @param eventHandlerFn - The function to handle the event when it occurs.\n   * @returns A Result indicating success (Ok(true)) or failure (Err with an error message).\n   */\n  public subscribe(\n    eventName: EventName,\n    eventHandlerFn: EventHandlerFn\n  ): Result<boolean, string> {\n    if (this.subscribedTo.some(e => e.eventName === eventName)) {\n      return Err('Already subscribed to this event');\n    }\n    this.subscribedTo.push({ eventName, eventHandlerFn });\n    return Ok(true);\n  }\n\n  /**\n   * Unsubscribes from a specified event.\n   *\n   * @param eventName - The name of the event to unsubscribe from.\n   * @returns A Result indicating success (Ok(true)) or failure (Err with an error message).\n   */\n  public unsubscribe(eventName: EventName): Result<boolean, string> {\n    if (!this.subscribedTo.some(e => e.eventName === eventName)) {\n      return Err('Cannot find provided subscription');\n    }\n    this.subscribedTo = this.subscribedTo.filter(\n      e => e.eventName !== eventName\n    );\n    return Ok(true);\n  }\n\n  /**\n   * Processes incoming messages from the event source and dispatches them to the appropriate handlers.\n   *\n   * @param event - The message event containing the event data.\n   */\n  private runEventsLoop(event: MessageEvent<string>): void {\n    this.subscribedTo.forEach(sub => {\n      if (this.parser.shouldHandleEvent(event.data, sub.eventName)) {\n        const rawEvent = this.parser.parseEvent(\n          event.data,\n          event.type,\n          event.lastEventId\n        );\n        sub.eventHandlerFn(rawEvent);\n      }\n    });\n  }\n\n  /**\n   * Starts the SSE connection.\n   *\n   * @param eventId - (Optional) The event ID to start streaming from.\n   */\n  public start(eventId?: number): void {\n    const separator = this.eventStreamUrl.includes('?') ? '&' : '?';\n    let requestUrl = `${this.eventStreamUrl}${separator}`;\n    if (eventId !== undefined) {\n      requestUrl += `start_from=${eventId}`;\n    }\n    this.eventSource = new EventSource(requestUrl);\n\n    this.eventSource.onmessage = e => this.runEventsLoop(e);\n    this.eventSource.onerror = err => {\n      throw err;\n    };\n  }\n\n  /**\n   * Stops the SSE connection.\n   */\n  public stop(): void {\n    if (this.eventSource) {\n      this.eventSource.close();\n    }\n  }\n}\n","import { jsonObject, jsonMember, jsonArrayMember, TypedJSON } from 'typedjson';\n\nimport {\n  Effect,\n  ExecutionResult,\n  ExecutionResultV1,\n  Deploy,\n  Transaction,\n  TransactionHash,\n  TransactionWrapper,\n  Block,\n  BlockV1,\n  BlockWrapper,\n  InitiatorAddr,\n  Message,\n  HexBytes,\n  Timestamp,\n  PublicKey,\n  Hash,\n  Transform\n} from '../types';\n\nexport enum EventName {\n  APIVersionEventType = 'ApiVersion',\n  BlockAddedEventType = 'BlockAdded',\n  DeployProcessedEventType = 'DeployProcessed',\n  DeployAcceptedEventType = 'DeployAccepted',\n  DeployExpiredEventType = 'DeployExpired',\n  TransactionProcessedEventType = 'TransactionProcessed',\n  TransactionAcceptedEventType = 'TransactionAccepted',\n  TransactionExpiredEventType = 'TransactionExpired',\n  EventIDEventType = 'EventID',\n  FinalitySignatureType = 'FinalitySignature',\n  StepEventType = 'Step',\n  FaultEventType = 'Fault',\n  ShutdownType = 'Shutdown'\n}\n\n@jsonObject\nexport class RawEvent {\n  @jsonMember({ name: 'type', constructor: String })\n  eventType: string;\n\n  @jsonMember({ name: 'data', constructor: String })\n  data: string;\n\n  @jsonMember({ name: 'lastEventId', constructor: String })\n  lastEventId: string;\n\n  constructor(eventType: string, data: string, lastEventId: string) {\n    this.eventType = eventType;\n    this.data = data;\n    this.lastEventId = lastEventId;\n  }\n\n  private parseEvent<T>(\n    type: new (params: any) => T,\n    parser?: (data: any) => T | Error\n  ): T {\n    const serializer = new TypedJSON(type);\n    const parsed = parser ? parser(this.data) : serializer.parse(this.data);\n    if (!parsed) throw new Error('Error parsing event data');\n    return parsed;\n  }\n\n  parseAsAPIVersionEvent(): APIVersionEvent {\n    return this.parseEvent(APIVersionEvent);\n  }\n\n  parseAsDeployProcessedEvent(): DeployProcessedEvent {\n    return this.parseEvent(DeployProcessedEvent);\n  }\n\n  parseAsBlockAddedEvent(): BlockAddedEvent {\n    return this.parseEvent(BlockAddedEvent, BlockAddedEvent.fromJSON);\n  }\n\n  parseAsDeployAcceptedEvent(): DeployAcceptedEvent {\n    return this.parseEvent(DeployAcceptedEvent);\n  }\n\n  parseAsFinalitySignatureEvent(): FinalitySignatureEvent {\n    return this.parseEvent(\n      FinalitySignatureEvent,\n      FinalitySignatureEvent.fromJSON\n    );\n  }\n\n  parseAsTransactionExpiredEvent(): TransactionExpiredEvent {\n    return this.parseEvent(\n      TransactionExpiredEvent,\n      TransactionExpiredEvent.fromJSON\n    );\n  }\n\n  parseAsTransactionProcessedEvent(): TransactionProcessedEvent {\n    return this.parseEvent(\n      TransactionProcessedEvent,\n      TransactionProcessedEvent.fromJSON\n    );\n  }\n\n  parseAsTransactionAcceptedEvent(): TransactionAcceptedEvent {\n    return this.parseEvent(\n      TransactionAcceptedEvent,\n      TransactionAcceptedEvent.fromJSON\n    );\n  }\n\n  parseAsFaultEvent(): FaultEvent {\n    return this.parseEvent(FaultEvent);\n  }\n\n  parseAsStepEvent(): StepEvent {\n    return this.parseEvent(StepEvent);\n  }\n}\n\n@jsonObject\nexport class APIVersionEvent {\n  @jsonMember(String, { name: 'ApiVersion' })\n  apiVersion: string;\n\n  constructor(apiVersion: string) {\n    this.apiVersion = apiVersion;\n  }\n}\n\n@jsonObject\nexport class BlockAdded {\n  @jsonMember({ name: 'block_hash', constructor: String })\n  blockHash: string;\n\n  @jsonMember({ name: 'block', constructor: Block })\n  block: Block;\n\n  constructor(blockHash: string, block: Block) {\n    this.blockHash = blockHash;\n    this.block = block;\n  }\n}\n\n@jsonObject\nexport class BlockAddedEvent {\n  @jsonMember({ name: 'BlockAdded', constructor: BlockAdded })\n  BlockAdded: BlockAdded;\n\n  constructor(blockAdded: BlockAdded) {\n    this.BlockAdded = blockAdded;\n  }\n\n  static fromJSON(data: any): BlockAddedEvent {\n    if (!data) {\n      throw new Error('Parse JSON on null or undefined data');\n    }\n\n    const parsedData = JSON.parse(data);\n\n    if (parsedData.BlockAdded && parsedData.BlockAdded.block) {\n      const serializer = new TypedJSON(BlockAddedWrapper);\n      const blockWrapper = serializer.parse(parsedData.BlockAdded);\n\n      if (blockWrapper?.block.blockV1 || blockWrapper?.block.blockV2) {\n        return new BlockAddedEvent({\n          blockHash: blockWrapper.blockHash,\n          block: Block.newBlockFromBlockWrapper(blockWrapper.block, [])\n        });\n      }\n    }\n\n    const v1EventSerializer = new TypedJSON(BlockAddedV1);\n    const parsedV1Event = v1EventSerializer.parse(parsedData.BlockAdded);\n\n    if (parsedV1Event) {\n      return new BlockAddedEvent({\n        blockHash: parsedV1Event.blockHash,\n        block: Block.newBlockFromBlockV1(parsedV1Event.block)\n      });\n    }\n\n    throw new Error('Invalid JSON structure for BlockAddedEvent');\n  }\n}\n\n@jsonObject\nexport class BlockAddedV1 {\n  @jsonMember({ name: 'block_hash', constructor: String })\n  blockHash: string;\n\n  @jsonMember({ name: 'block', constructor: BlockV1 })\n  block: BlockV1;\n\n  constructor(blockHash: string, block: BlockV1) {\n    this.blockHash = blockHash;\n    this.block = block;\n  }\n}\n\n@jsonObject\nexport class BlockAddedEventV1 {\n  @jsonMember({ name: 'BlockAdded', constructor: BlockAddedV1 })\n  BlockAdded: BlockAddedV1;\n\n  constructor(blockAdded: BlockAddedV1) {\n    this.BlockAdded = blockAdded;\n  }\n}\n\n@jsonObject\nexport class BlockAddedWrapper {\n  @jsonMember({ name: 'block_hash', constructor: String })\n  blockHash: string;\n\n  @jsonMember({ name: 'block', constructor: BlockWrapper })\n  block: BlockWrapper;\n\n  constructor(blockHash: string, block: BlockWrapper) {\n    this.blockHash = blockHash;\n    this.block = block;\n  }\n}\n\n@jsonObject\nexport class BlockAddedEventWrapper {\n  @jsonMember({ name: 'BlockAdded', constructor: BlockAddedWrapper })\n  BlockAdded: BlockAddedWrapper;\n\n  constructor(blockAdded: BlockAddedWrapper) {\n    this.BlockAdded = blockAdded;\n  }\n}\n\n@jsonObject\nexport class DeployProcessedPayload {\n  @jsonMember({\n    name: 'deploy_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  deployHash: Hash;\n\n  @jsonMember({\n    name: 'account',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  account: PublicKey;\n\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp,\n    deserializer: json => {\n      if (!json) return;\n      return Timestamp.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  timestamp: Timestamp;\n\n  @jsonMember({ name: 'ttl', constructor: String })\n  ttl: string;\n\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  blockHash: Hash;\n\n  @jsonMember({ name: 'execution_result', constructor: ExecutionResultV1 })\n  executionResult: ExecutionResultV1;\n}\n\n@jsonObject\nexport class DeployProcessedEvent {\n  @jsonMember({\n    name: 'DeployProcessed',\n    constructor: DeployProcessedPayload\n  })\n  deployProcessed: DeployProcessedPayload;\n}\n\n@jsonObject\nexport class DeployAcceptedEvent {\n  @jsonMember({ name: 'DeployAccepted', constructor: Deploy })\n  deployAccepted: Deploy;\n}\n\n@jsonObject\nexport class DeployExpiredPayload {\n  @jsonMember({\n    name: 'deploy_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  deployHash: Hash;\n}\n\n@jsonObject\nexport class DeployExpiredEvent {\n  @jsonMember({\n    constructor: DeployExpiredPayload,\n    name: 'DeployExpired'\n  })\n  deployExpired: DeployExpiredPayload;\n}\n\n@jsonObject\nexport class TransactionAcceptedPayload {\n  @jsonMember({\n    name: 'transaction',\n    constructor: Transaction,\n    deserializer: json => {\n      if (!json) return;\n      return Transaction.fromJSON(json);\n    }\n  })\n  transaction: Transaction;\n}\n\n@jsonObject\nexport class TransactionAcceptedEvent {\n  @jsonMember({\n    constructor: TransactionAcceptedPayload,\n    name: 'TransactionAccepted'\n  })\n  transactionAcceptedPayload: TransactionAcceptedPayload;\n\n  public static fromJSON(data: any): TransactionAcceptedEvent | Error {\n    if (!data || data.TransactionAccepted) {\n      throw new Error(\n        'Parse JSON on null or undefined data for TransactionAcceptedEvent'\n      );\n    }\n\n    try {\n      const parsed = JSON.parse(data);\n      const transactionEvent = new TransactionAcceptedEvent();\n\n      const wrapper = TypedJSON.parse(\n        parsed.TransactionAccepted,\n        TransactionWrapper\n      );\n\n      if (wrapper?.deploy) {\n        transactionEvent.transactionAcceptedPayload = {\n          transaction: Deploy.newTransactionFromDeploy(wrapper.deploy)\n        };\n        return transactionEvent;\n      }\n\n      if (wrapper?.transactionV1) {\n        transactionEvent.transactionAcceptedPayload = {\n          transaction: Transaction.fromTransactionV1(wrapper.transactionV1)\n        };\n        return transactionEvent;\n      }\n\n      const deployEvent = TypedJSON.parse(\n        parsed.TransactionAccepted,\n        DeployAcceptedEvent\n      );\n      if (deployEvent?.deployAccepted) {\n        transactionEvent.transactionAcceptedPayload = {\n          transaction: Deploy.newTransactionFromDeploy(\n            deployEvent.deployAccepted\n          )\n        };\n        return transactionEvent;\n      }\n\n      throw new Error('Failed to match any transaction structure');\n    } catch (error) {\n      return new Error(\n        `Error deserializing TransactionAcceptedEvent: ${error}`\n      );\n    }\n  }\n}\n\n@jsonObject\nexport class TransactionExpiredPayload {\n  @jsonMember({ name: 'transaction_hash', constructor: TransactionHash })\n  transactionHash: TransactionHash;\n}\n\n@jsonObject\nexport class TransactionExpiredEvent {\n  @jsonMember({\n    name: 'TransactionExpired',\n    constructor: TransactionExpiredPayload\n  })\n  transactionExpiredPayload: TransactionExpiredPayload;\n\n  public static fromJSON(data: any): TransactionExpiredEvent | Error {\n    if (!data) {\n      throw new Error(\n        'Parse JSON on null or undefined data for TransactionExpiredEvent'\n      );\n    }\n\n    try {\n      const parsedData = JSON.parse(data);\n\n      const transactionEvent = new TransactionExpiredEvent();\n      const transactionExpiredPayload = TypedJSON.parse(\n        parsedData.TransactionExpired,\n        TransactionExpiredPayload\n      );\n      if (!transactionExpiredPayload)\n        throw new Error('transactionExpiredPayload is nil');\n\n      if (transactionExpiredPayload) {\n        transactionEvent.transactionExpiredPayload = transactionExpiredPayload;\n      }\n\n      const payload = transactionEvent?.transactionExpiredPayload;\n\n      if (\n        payload?.transactionHash?.transactionV1 ||\n        payload?.transactionHash?.deploy\n      ) {\n        return transactionEvent;\n      }\n\n      const deployEvent = TypedJSON.parse(\n        parsedData.TransactionExpired,\n        DeployExpiredEvent\n      );\n      if (deployEvent?.deployExpired) {\n        transactionEvent.transactionExpiredPayload = {\n          transactionHash: TransactionHash.fromDeployHash(\n            deployEvent.deployExpired.deployHash\n          )\n        };\n        return transactionEvent;\n      }\n\n      throw new Error('Failed to match any transaction structure');\n    } catch (error) {\n      return new Error(`Error deserializing TransactionExpiredEvent: ${error}`);\n    }\n  }\n}\n\n@jsonObject\nexport class TransactionProcessedPayload {\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  blockHash: Hash;\n\n  @jsonMember({ name: 'transaction_hash', constructor: TransactionHash })\n  transactionHash: TransactionHash;\n\n  @jsonMember({\n    name: 'initiator_addr',\n    constructor: InitiatorAddr,\n    deserializer: json => {\n      if (!json) return;\n      return InitiatorAddr.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  initiatorAddr: InitiatorAddr;\n\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp,\n    deserializer: json => {\n      if (!json) return;\n      return Timestamp.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  timestamp: Timestamp;\n\n  @jsonMember({ name: 'ttl', constructor: String })\n  ttl: string;\n\n  @jsonMember({\n    name: 'execution_result',\n    constructor: ExecutionResult,\n    deserializer: json => {\n      if (!json) return;\n      return ExecutionResult.fromJSON(json);\n    }\n  })\n  executionResult: ExecutionResult;\n\n  @jsonArrayMember(Message, { name: 'messages' })\n  messages: Message[];\n}\n\n@jsonObject\nexport class TransactionProcessedEvent {\n  @jsonMember({\n    name: 'TransactionProcessed',\n    constructor: TransactionProcessedPayload\n  })\n  transactionProcessedPayload: TransactionProcessedPayload;\n\n  public static fromJSON(data: any): TransactionProcessedEvent | Error {\n    if (!data || data.TransactionProcessed) {\n      throw new Error(\n        'Parse JSON on null or undefined data for TransactionExpiredEvent'\n      );\n    }\n\n    try {\n      const parsedData = JSON.parse(data);\n      const transactionEvent = new TransactionProcessedEvent();\n      const parsedTransactionPayload = TypedJSON.parse(\n        parsedData.TransactionProcessed,\n        TransactionProcessedPayload\n      );\n\n      if (parsedTransactionPayload) {\n        transactionEvent.transactionProcessedPayload = parsedTransactionPayload;\n      }\n\n      const payload = transactionEvent.transactionProcessedPayload;\n\n      if (\n        payload.transactionHash?.transactionV1 ||\n        payload.transactionHash?.deploy\n      ) {\n        return transactionEvent;\n      }\n\n      const deployEvent = TypedJSON.parse(\n        parsedData.TransactionProcessed,\n        DeployProcessedEvent\n      );\n      if (deployEvent?.deployProcessed) {\n        transactionEvent.transactionProcessedPayload = {\n          blockHash: deployEvent.deployProcessed.blockHash,\n          transactionHash: TransactionHash.fromDeployHash(\n            deployEvent.deployProcessed.deployHash\n          ),\n          initiatorAddr: new InitiatorAddr(deployEvent.deployProcessed.account),\n          timestamp: deployEvent.deployProcessed.timestamp,\n          ttl: deployEvent.deployProcessed.ttl,\n          executionResult: ExecutionResult.fromV1(\n            deployEvent.deployProcessed.executionResult\n          ),\n          messages: []\n        };\n        return transactionEvent;\n      }\n\n      throw new Error('Failed to match any transaction structure');\n    } catch (error) {\n      return new Error(\n        `Error deserializing TransactionProcessedEvent: ${error}`\n      );\n    }\n  }\n}\n\n@jsonObject\nexport class FinalitySignatureV1 {\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  blockHash: Hash;\n\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  @jsonMember({\n    name: 'signature',\n    constructor: HexBytes,\n    deserializer: json => {\n      if (!json) return;\n      return HexBytes.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  signature: HexBytes;\n\n  @jsonMember({\n    name: 'public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  publicKey: PublicKey;\n}\n\n@jsonObject\nexport class FinalitySignatureV2 {\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  blockHash: Hash;\n\n  @jsonMember({ isRequired: false, name: 'block_height', constructor: Number })\n  blockHeight?: number;\n\n  @jsonMember({\n    isRequired: false,\n    name: 'chain_name_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  chainNameHash?: Hash;\n\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  @jsonMember({\n    name: 'signature',\n    constructor: HexBytes,\n    deserializer: json => {\n      if (!json) return;\n      return HexBytes.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  signature: HexBytes;\n\n  @jsonMember({\n    name: 'public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  publicKey: PublicKey;\n}\n\n@jsonObject\nexport class FinalitySignatureWrapper {\n  @jsonMember({\n    isRequired: false,\n    name: 'V1',\n    constructor: FinalitySignatureV1\n  })\n  v1?: FinalitySignatureV1;\n\n  @jsonMember({\n    isRequired: false,\n    name: 'V2',\n    constructor: FinalitySignatureV2\n  })\n  v2?: FinalitySignatureV2;\n}\n\n@jsonObject\nexport class FinalitySignature {\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  blockHash: Hash;\n\n  @jsonMember({\n    constructor: Number,\n    isRequired: false,\n    name: 'block_height'\n  })\n  blockHeight?: number;\n\n  @jsonMember({\n    isRequired: false,\n    name: 'chain_name_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  chainNameHash?: Hash;\n\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  @jsonMember({\n    name: 'signature',\n    constructor: HexBytes,\n    deserializer: json => {\n      if (!json) return;\n      return HexBytes.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  signature: HexBytes;\n\n  @jsonMember({\n    name: 'public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  publicKey: PublicKey;\n\n  @jsonMember(FinalitySignatureV1, {\n    isRequired: false\n  })\n  originFinalitySignatureV1?: FinalitySignatureV1;\n}\n\n@jsonObject\nexport class FinalitySignatureEvent {\n  @jsonMember({ name: 'FinalitySignature', constructor: FinalitySignature })\n  finalitySignature: FinalitySignature;\n\n  public static fromJSON(data: any): FinalitySignatureEvent | Error {\n    if (!data || data.FinalitySignature) {\n      throw new Error(\n        'Parse JSON on null or undefined data for FinalitySignatureEvent'\n      );\n    }\n\n    try {\n      const parsed = JSON.parse(data);\n      const wrapped = TypedJSON.parse(\n        parsed.FinalitySignature,\n        FinalitySignatureWrapper\n      );\n      if (!wrapped) throw new Error('FinalitySignatureWrapper is nil');\n\n      let finalitySignature: FinalitySignature;\n      if (wrapped.v1) {\n        finalitySignature = {\n          blockHash: wrapped.v1.blockHash,\n          eraID: wrapped.v1.eraID,\n          signature: wrapped.v1.signature,\n          publicKey: wrapped.v1.publicKey,\n          originFinalitySignatureV1: wrapped.v1\n        };\n      } else if (wrapped.v2) {\n        finalitySignature = {\n          blockHash: wrapped.v2.blockHash,\n          blockHeight: wrapped.v2.blockHeight,\n          chainNameHash: wrapped.v2.chainNameHash,\n          eraID: wrapped.v2.eraID,\n          signature: wrapped.v2.signature,\n          publicKey: wrapped.v2.publicKey\n        };\n      } else {\n        const v1Event = TypedJSON.parse(\n          parsed.FinalitySignature,\n          FinalitySignatureV1\n        );\n        if (!v1Event) throw new Error('Failed to parse FinalitySignatureV1');\n\n        finalitySignature = {\n          blockHash: v1Event.blockHash,\n          eraID: v1Event.eraID,\n          signature: v1Event.signature,\n          publicKey: v1Event.publicKey,\n          originFinalitySignatureV1: v1Event\n        };\n      }\n\n      return new FinalitySignatureEvent(finalitySignature);\n    } catch (error) {\n      return new Error(`Error deserializing FinalitySignatureEvent: ${error}`);\n    }\n  }\n\n  constructor(finalitySignature: FinalitySignature) {\n    this.finalitySignature = finalitySignature;\n  }\n}\n\n@jsonObject\nexport class FaultPayload {\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  @jsonMember({\n    name: 'public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  publicKey: PublicKey;\n\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp,\n    deserializer: json => {\n      if (!json) return;\n      return Timestamp.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  timestamp: Timestamp;\n}\n\n@jsonObject\nexport class FaultEvent {\n  @jsonMember({ name: 'Fault', constructor: FaultPayload })\n  fault: FaultPayload;\n}\n\n@jsonObject\nexport class StepPayload {\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  @jsonMember({ name: 'execution_effect', constructor: Effect })\n  executionEffect: Effect;\n\n  @jsonArrayMember(() => Transform, { name: 'execution_effects' })\n  executionEffects: Transform[];\n}\n\n@jsonObject\nexport class StepEvent {\n  @jsonMember({ name: 'step', constructor: StepPayload })\n  step: StepPayload;\n}\n","import { RawEvent } from './event';\n\n/**\n * A parser for handling and converting raw event data.\n */\nexport class EventParser {\n  /**\n   * Determines whether the provided JSON data contains the specified event property.\n   *\n   * @param data - The raw JSON string representing the event data.\n   * @param eventName - The name of the event property to look for.\n   * @returns True if the parsed data contains the specified event property; otherwise, false.\n   */\n  public shouldHandleEvent(data: string, eventName: string): boolean {\n    try {\n      const parsed = JSON.parse(data);\n      return parsed && Object.prototype.hasOwnProperty.call(parsed, eventName);\n    } catch (error) {\n      console.error('Error parsing JSON:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Parses the raw event data and returns a new RawEvent instance.\n   *\n   * @param data - The raw JSON string representing the event data.\n   * @param type - The type of the event.\n   * @param lastEventId - The identifier of the last event processed.\n   * @returns A new instance of RawEvent containing the event details.\n   */\n  public parseEvent(data: string, type: string, lastEventId: string): RawEvent {\n    return new RawEvent(type, data, lastEventId);\n  }\n}\n","export * from './client';\nexport * from './event';\nexport * from './event_parser';\n","import { jsonObject, jsonMember, jsonArrayMember } from 'typedjson';\nimport { AccountHash, URef } from './key';\nimport { NamedKey } from './NamedKey';\n\n/**\n * Represents an associated key for an account, linking an `AccountHash`\n * with a weight that determines its permission level.\n */\n@jsonObject\nexport class AssociatedKey {\n  /**\n   * The account hash associated with this key, uniquely identifying the account.\n   */\n  @jsonMember({\n    name: 'account_hash',\n    constructor: AccountHash,\n    deserializer: json => AccountHash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  accountHash: AccountHash;\n\n  /**\n   * The weight assigned to this key, which determines the keys authority level.\n   */\n  @jsonMember({\n    name: 'weight',\n    constructor: Number\n  })\n  weight: number;\n}\n\n/**\n * Represents action thresholds for an account, specifying minimum weights\n * required for deployment and key management actions.\n */\n@jsonObject\nexport class ActionThresholds {\n  /**\n   * The threshold for performing deployment actions, represented as a weight.\n   */\n  @jsonMember({\n    name: 'deployment',\n    constructor: Number\n  })\n  deployment: number;\n\n  /**\n   * The threshold for performing key management actions, represented as a weight.\n   */\n  @jsonMember({\n    name: 'key_management',\n    constructor: Number\n  })\n  keyManagement: number;\n}\n\n/**\n * Represents an account in the blockchain, containing account details such as\n * associated keys, named keys, main purse, and action thresholds.\n */\n@jsonObject\nexport class Account {\n  /**\n   * The account hash for this account, which serves as a unique identifier.\n   */\n  @jsonMember({\n    name: 'account_hash',\n    deserializer: json => AccountHash.fromJSON(json),\n    serializer: value => value.toJSON(),\n    constructor: AccountHash\n  })\n  accountHash: AccountHash;\n\n  /**\n   * The named keys associated with this account, mapping key names to `URef` values.\n   * TODO: Is it could be any type of keys or certain types?\n   */\n  @jsonArrayMember(NamedKey, {\n    name: 'named_keys'\n  })\n  namedKeys: NamedKey[];\n\n  /**\n   * The main purse associated with this account, represented as a `URef`.\n   */\n  @jsonMember({\n    name: 'main_purse',\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  mainPurse: URef;\n\n  /**\n   * The list of associated keys for this account, each with an `AccountHash` and weight.\n   */\n  @jsonArrayMember(AssociatedKey, { name: 'associated_keys' })\n  associatedKeys: AssociatedKey[];\n\n  /**\n   * The action thresholds for this account, setting required weights for specific actions.\n   */\n  @jsonMember({ name: 'action_thresholds', constructor: ActionThresholds })\n  actionThresholds: ActionThresholds;\n}\n","import { jsonObject, jsonMember, jsonArrayMember, TypedJSON } from 'typedjson';\nimport { AssociatedKey } from './Account';\nimport { EntryPointV1 } from './EntryPoint';\nimport { AccountHash, URef } from './key';\nimport { TransactionRuntime } from './TransactionTarget';\n\n/**\n * Defines different kinds of entities within the system, such as system entities,\n * accounts, and smart contracts. Provides details on each entity type.\n */\n@jsonObject\nexport class EntityKind {\n  /**\n   * Represents a system entity type, allowing flexible naming of system-specific entities.\n   */\n  @jsonMember({ name: 'System', constructor: String })\n  system?: string;\n\n  /**\n   * Represents an account entity, identified by an `AccountHash`.\n   */\n  @jsonMember({\n    name: 'Account',\n    constructor: AccountHash,\n    deserializer: json => (json ? AccountHash.fromJSON(json) : undefined),\n    serializer: value => (value ? value.toJSON() : undefined)\n  })\n  account?: AccountHash;\n\n  /**\n   * Represents a smart contract entity, specified by its transaction runtime version.\n   */\n  @jsonMember({\n    name: 'SmartContract',\n    constructor: TransactionRuntime,\n    deserializer: json => {\n      if (!json) return;\n      return TransactionRuntime.fromJSON(json);\n    },\n    serializer: (value: TransactionRuntime) => value.toJSON()\n  })\n  smartContract?: TransactionRuntime;\n}\n\n/**\n * Defines thresholds for various actions that an entity can perform,\n * with each threshold represented as a weight.\n */\n@jsonObject\nexport class EntityActionThresholds {\n  /**\n   * The weight required to authorize deployment actions.\n   */\n  @jsonMember({ name: 'deployment', constructor: Number })\n  deployment: number;\n\n  /**\n   * The weight required to authorize upgrade management actions.\n   */\n  @jsonMember({ name: 'upgrade_management', constructor: Number })\n  upgradeManagement: number;\n\n  /**\n   * The weight required to authorize key management actions.\n   */\n  @jsonMember({ name: 'key_management', constructor: Number })\n  keyManagement: number;\n}\n\n/**\n * Represents an addressable entity, which can be a smart contract, account, or system entity.\n * Each entity contains various properties such as action thresholds, associated keys,\n * and message topics.\n */\n@jsonObject\nexport class AddressableEntity {\n  /**\n   * Specifies the kind of the entity, such as system entity, account, or smart contract.\n   */\n  @jsonMember({\n    name: 'entity_kind',\n    constructor: EntityKind\n  })\n  entityKind: EntityKind;\n\n  /**\n   * The unique package hash associated with this entity.\n   */\n  @jsonMember({ name: 'package_hash', constructor: String })\n  packageHash: string;\n\n  /**\n   * The bytecode hash associated with this entity, representing its executable code.\n   */\n  @jsonMember({ name: 'byte_code_hash', constructor: String })\n  byteCodeHash: string;\n\n  /**\n   * The associated keys for this entity, each with an `AccountHash` and a weight.\n   */\n  @jsonArrayMember(AssociatedKey, { name: 'associated_keys' })\n  associatedKeys: AssociatedKey[];\n\n  /**\n   * The action thresholds required for different operations, such as deployment or key management.\n   */\n  @jsonMember({\n    name: 'action_thresholds',\n    constructor: EntityActionThresholds\n  })\n  actionThresholds: EntityActionThresholds;\n\n  /**\n   * The main purse associated with this entity, used for managing funds.\n   */\n  @jsonMember({\n    name: 'main_purse',\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  mainPurse: URef;\n\n  /**\n   * The protocol version in use by this entity.\n   */\n  @jsonMember({ name: 'protocol_version', constructor: String })\n  protocolVersion: string;\n}\n\n/**\n * Represents an entry point in a smart contract, with a specific name and configuration.\n */\n@jsonObject\nexport class NamedEntryPoint {\n  /**\n   * The entry point configuration, specifying the method and parameters.\n   */\n  @jsonMember({\n    name: 'entry_point',\n    constructor: EntryPointV1\n  })\n  entryPoint: EntryPointV1;\n\n  /**\n   * Creates a new NamedEntryPoint instance from JSON.\n   *\n   * This method supports both JSON variants:\n   *  - 1.x: { name, args, ret, access, entry_point_type, ... }\n   *  - 2.x: { entry_point: { name, args, ret, access, entry_point_type, ... } }\n   *\n   * @param json The raw JSON to parse.\n   * @returns A new instance of NamedEntryPoint.\n   */\n  public static fromJSON(json: any): NamedEntryPoint {\n    if (!json) {\n      throw new Error('Invalid JSON provided for NamedEntryPoint');\n    }\n\n    const normalizedJSON = json.entry_point ? json : { entry_point: json };\n    const typedJSON = new TypedJSON(NamedEntryPoint);\n\n    const parsed = typedJSON.parse(normalizedJSON);\n\n    if (!parsed) {\n      throw new Error('Failed to parse NamedEntryPoint JSON');\n    }\n\n    return parsed;\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { jsonMapMember, jsonObject } from 'typedjson';\n\nimport { CLValue, CLValueParser } from './clvalue';\nimport {\n  expandBuffer,\n  toBytesString,\n  toBytesU32,\n  writeInteger\n} from './ByteConverters';\n\n/**\n * Represents a named argument with a name and associated `CLValue`, which can be serialized to bytes.\n */\nexport class NamedArg {\n  /**\n   * Creates an instance of NamedArg.\n   * @param name - The name of the argument.\n   * @param value - The `CLValue` associated with this argument.\n   */\n  constructor(public name: string, public value: CLValue) {}\n\n  /**\n   * Converts the named argument to a byte array representation.\n   * @returns A `Uint8Array` containing the serialized argument name and value.\n   */\n  public toBytes(): Uint8Array {\n    const name = toBytesString(this.name);\n    const value = CLValueParser.toBytesWithType(this.value);\n    return concat([name, value]);\n  }\n\n  /**\n   * Converts a `NamedArg` object to a `Uint8Array` for serialization.\n   *\n   * The method encodes the name of the argument as a UTF-8 string, followed by the serialized\n   * bytes of its value. The resulting `Uint8Array` can be used for further processing, such as\n   * storage or transmission.\n   *\n   * @param source - The `NamedArg` object to serialize. It contains a name and a value.\n   * @returns A `Uint8Array` representing the serialized `NamedArg`.\n   *\n   * @example\n   * ```typescript\n   * const namedArg = new NamedArg(\"arg1\", CLValue.u32(42));\n   * const serializedBytes = YourClass.toBytesWithNamedArg(namedArg);\n   * console.log(serializedBytes); // Logs the serialized bytes.\n   * ```\n   */\n  public static toBytesWithNamedArg(source: NamedArg): Uint8Array {\n    const bufferSize = 1024;\n    let buffer = new ArrayBuffer(bufferSize);\n    let view = new DataView(buffer);\n    let offset = 0;\n\n    const nameBytes = new TextEncoder().encode(source.name);\n    if (offset + 4 + nameBytes.length > buffer.byteLength) {\n      buffer = expandBuffer(buffer, offset + 4 + nameBytes.length);\n      view = new DataView(buffer);\n    }\n    offset = writeInteger(view, offset, nameBytes.length);\n    new Uint8Array(buffer, offset).set(nameBytes);\n    offset += nameBytes.length;\n\n    const valueBytes = CLValueParser.toBytesWithType(source.value);\n    if (offset + valueBytes.length > buffer.byteLength) {\n      buffer = expandBuffer(buffer, offset + valueBytes.length);\n      view = new DataView(buffer);\n    }\n    new Uint8Array(buffer, offset).set(valueBytes);\n    offset += valueBytes.length;\n\n    return new Uint8Array(buffer, 0, offset);\n  }\n\n  /**\n   * Creates a `NamedArg` instance from a byte array.\n   * @param bytes - The byte array to parse.\n   * @returns A `NamedArg` instance.\n   */\n  public static fromBytes(bytes: Uint8Array): NamedArg {\n    let offset = 0;\n\n    const nameLength = new DataView(bytes.buffer).getUint32(offset, true);\n    offset += 4;\n    const nameBytes = bytes.slice(offset, offset + nameLength);\n    offset += nameLength;\n    const name = new TextDecoder().decode(nameBytes);\n\n    const valueBytes = bytes.slice(offset);\n    const value = CLValueParser.fromBytesWithType(valueBytes);\n\n    return new NamedArg(name, value.result);\n  }\n}\n\n/**\n * Serializes a map of arguments to an array format for JSON.\n * @param map - The map of arguments to serialize.\n * @returns An array where each entry is a key-value pair in JSON format.\n */\nconst serRA = (map: Map<string, CLValue>) => {\n  return Array.from(map, ([key, value]) => [key, CLValueParser.toJSON(value)]);\n};\n\n/**\n * Deserializes an array format to a map of arguments.\n * @param _arr - The array of key-value pairs to deserialize.\n * @returns A map containing each key-value pair.\n * @throws Error if a duplicate key is detected.\n */\nconst desRA = (_arr: any) => {\n  const parsed = new Map(\n    Array.from(_arr, ([key, value]) => {\n      const val = CLValueParser.fromJSON(value);\n      return [key, val];\n    })\n  );\n\n  if (parsed.size !== Array.from(_arr).length)\n    throw Error(`Duplicate key exists.`);\n\n  return parsed;\n};\n\n/**\n * Represents a set of named arguments (`NamedArg`) for a contract call.\n * Provides methods to serialize, deserialize, and manipulate argument entries.\n */\n@jsonObject\nexport class Args {\n  /**\n   * The map of argument names to `CLValue` values.\n   */\n  @jsonMapMember(String, CLValue, {\n    serializer: (map: Map<string, CLValue>) => serRA(map),\n    deserializer: desRA\n  })\n  public args: Map<string, CLValue>;\n\n  public getByName(argName: string): CLValue | undefined {\n    return this.args.get(argName);\n  }\n\n  /**\n   * Creates an instance of `Args` from a map of arguments.\n   * @param args - A map containing argument names as keys and `CLValue` instances as values.\n   */\n  constructor(args: Map<string, CLValue>) {\n    this.args = args;\n  }\n\n  /**\n   * Creates an `Args` instance from an object.\n   * @param args - An object containing argument names as keys and `CLValue` instances as values.\n   * @returns A new `Args` instance.\n   */\n  public static fromMap(args: Record<string, CLValue>): Args {\n    const map: Map<string, CLValue> = new Map(\n      Object.keys(args).map(k => [k, args[k]])\n    );\n    return new Args(map);\n  }\n\n  /**\n   * Creates an `Args` instance from an array of `NamedArg` instances.\n   * @param namedArgs - An array of `NamedArg` instances.\n   * @returns A new `Args` instance.\n   */\n  public static fromNamedArgs(namedArgs: NamedArg[]): Args {\n    const args = namedArgs.reduce<Record<string, CLValue>>((pre, cur) => {\n      pre[cur.name] = cur.value;\n      return pre;\n    }, {});\n    return this.fromMap(args);\n  }\n\n  /**\n   * Inserts a new argument into the map.\n   * @param key - The argument name.\n   * @param value - The `CLValue` for the argument.\n   */\n  public insert(key: string, value: CLValue) {\n    this.args.set(key, value);\n  }\n\n  /**\n   * Converts the arguments to a byte array.\n   * The format includes the number of arguments followed by each argument in bytes.\n   * @returns A `Uint8Array` containing the serialized arguments.\n   */\n  public toBytes(): Uint8Array {\n    const vec = Array.from(this.args.entries()).map((a: [string, CLValue]) => {\n      return new NamedArg(a[0], a[1]);\n    });\n    const valueByteList = vec.map(e => e.toBytes());\n    valueByteList.splice(0, 0, toBytesU32(vec.length));\n\n    return concat(valueByteList);\n  }\n\n  /**\n   * Creates an `Args` instance from a byte array.\n   * @param bytes - The byte array to parse.\n   * @returns An `Args` instance.\n   */\n  public static fromBytes(bytes: Uint8Array): Args {\n    let offset = 0;\n\n    const numArgs = new DataView(bytes.buffer).getUint32(offset, true);\n    offset += 4;\n\n    const args = new Map<string, CLValue>();\n\n    for (let i = 0; i < numArgs; i++) {\n      const namedArgBytes = bytes.slice(offset);\n      const namedArg = NamedArg.fromBytes(namedArgBytes);\n\n      const nameLength = new DataView(namedArgBytes.buffer).getUint32(0, true);\n      const valueBytes = CLValueParser.toBytesWithType(namedArg.value);\n      const consumedBytes = 4 + nameLength + valueBytes.length;\n\n      offset += consumedBytes;\n\n      args.set(namedArg.name, namedArg.value);\n    }\n\n    return new Args(args);\n  }\n}\n","import { jsonObject, jsonMember, jsonArrayMember } from 'typedjson';\n\nimport { Bid, Delegator, ValidatorBid } from './Bid';\nimport { ValidatorWeightAuction } from './ValidatorWeight';\nimport { PublicKey } from './keypair';\nimport { BidKind } from './BidKind';\nimport {\n  DEFAULT_MAXIMUM_DELEGATION_AMOUNT,\n  DEFAULT_MINIMUM_DELEGATION_AMOUNT\n} from '../utils';\n\n/**\n * Represents a public key and its corresponding bid in the auction state.\n */\n@jsonObject\nexport class PublicKeyAndBid {\n  /**\n   * The public key associated with this bid.\n   */\n  @jsonMember({\n    name: 'public_key',\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  publicKey: PublicKey;\n\n  /**\n   * The bid associated with the public key.\n   */\n  @jsonMember({ name: 'bid', constructor: Bid })\n  bid: Bid;\n}\n\n/**\n * Represents validators for a specific era, including the era ID and validator weights.\n */\n@jsonObject\nexport class EraValidators {\n  /**\n   * The unique identifier for the era.\n   */\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  /**\n   * The weights of the validators for this era.\n   */\n  @jsonArrayMember(ValidatorWeightAuction, { name: 'validator_weights' })\n  validatorWeights: ValidatorWeightAuction[];\n}\n\n@jsonObject\nexport class BidKindWrapper {\n  @jsonMember({\n    name: 'public_key',\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  publicKey: PublicKey;\n\n  @jsonMember({\n    name: 'bid',\n    constructor: BidKind\n  })\n  bid: BidKind;\n\n  constructor(publicKey?: PublicKey, bid?: BidKind) {\n    if (publicKey) {\n      this.publicKey = publicKey;\n    }\n    if (bid) {\n      this.bid = bid;\n    }\n  }\n}\n\n@jsonObject\nexport class AuctionStateV1 {\n  @jsonArrayMember(PublicKeyAndBid, { name: 'bids' })\n  bids: PublicKeyAndBid[];\n\n  @jsonMember({ name: 'block_height', constructor: Number })\n  blockHeight: number;\n\n  @jsonArrayMember(EraValidators, { name: 'era_validators' })\n  eraValidators: EraValidators[];\n\n  @jsonMember({ name: 'state_root_hash', constructor: String })\n  stateRootHash: string;\n}\n\n@jsonObject\nexport class AuctionStateV2 {\n  @jsonArrayMember(BidKindWrapper, { name: 'bids' })\n  bids: BidKindWrapper[];\n\n  @jsonMember({ name: 'block_height', constructor: Number })\n  blockHeight: number;\n\n  @jsonArrayMember(EraValidators, { name: 'era_validators' })\n  eraValidators: EraValidators[];\n\n  @jsonMember({ name: 'state_root_hash', constructor: String })\n  stateRootHash: string;\n}\n\n/**\n * Represents the current auction state, including bids, era validators, and other state information.\n */\n@jsonObject\nexport class AuctionState {\n  /**\n   * The list of bids in the auction.\n   */\n  @jsonArrayMember(BidKindWrapper, { name: 'bids' })\n  bids: BidKindWrapper[];\n\n  /**\n   * The block height at which this auction state was recorded.\n   */\n  @jsonMember({ name: 'block_height', constructor: Number })\n  blockHeight: number;\n\n  /**\n   * The validators and their weights for each era in the auction state.\n   */\n  @jsonArrayMember(EraValidators, { name: 'era_validators' })\n  eraValidators: EraValidators[];\n\n  /**\n   * The root hash of the state at the time of this auction state.\n   */\n  @jsonMember({ name: 'state_root_hash', constructor: String })\n  stateRootHash: string;\n\n  /**\n   * Creates an AuctionState from an AuctionStateV1.\n   * For each bid, a BidKindWrapper is created for the validator bid,\n   * and additional wrappers are created for each delegator bid.\n   *\n   * @param v1 An instance of AuctionStateV1.\n   * @returns An AuctionState instance.\n   */\n  static fromV1(v1: AuctionStateV1): AuctionState {\n    const bids: BidKindWrapper[] = [];\n\n    for (const pkAndBid of v1.bids) {\n      const validator = new ValidatorBid();\n      validator.bondingPurse = pkAndBid?.bid?.bondingPurse;\n      validator.delegationRate = pkAndBid?.bid?.delegationRate;\n      validator.inactive = pkAndBid?.bid?.inactive;\n      validator.stakedAmount = pkAndBid?.bid?.stakedAmount;\n      validator.vestingSchedule = pkAndBid?.bid?.vestingSchedule;\n      validator.reservedSlots = 0;\n      validator.validatorPublicKey = pkAndBid?.bid?.validatorPublicKey;\n      validator.maximumDelegationAmount = DEFAULT_MAXIMUM_DELEGATION_AMOUNT;\n      validator.minimumDelegationAmount = DEFAULT_MINIMUM_DELEGATION_AMOUNT;\n\n      const bidKind = new BidKind();\n      bidKind.validator = validator;\n\n      bids.push(new BidKindWrapper(pkAndBid.publicKey, bidKind));\n\n      for (const delegatorBid of pkAndBid.bid.delegators) {\n        bids.push(\n          new BidKindWrapper(\n            pkAndBid.publicKey,\n            new BidKind(\n              undefined,\n              undefined,\n              new Delegator(\n                delegatorBid.bondingPurse,\n                delegatorBid.stakedAmount,\n                delegatorBid.delegatorKind,\n                delegatorBid.validatorPublicKey,\n                delegatorBid.vestingSchedule\n              )\n            )\n          )\n        );\n      }\n    }\n\n    const state = new AuctionState();\n    state.bids = bids;\n    state.blockHeight = v1.blockHeight;\n    state.eraValidators = v1.eraValidators;\n    state.stateRootHash = v1.stateRootHash;\n    return state;\n  }\n\n  /**\n   * Creates an AuctionState from an AuctionStateV2.\n   *\n   * @param v2 An instance of AuctionStateV2.\n   * @returns An AuctionState instance.\n   */\n  static fromV2(v2: AuctionStateV2): AuctionState {\n    const bids: BidKindWrapper[] = v2?.bids.map(bidWrapper => {\n      return new BidKindWrapper(bidWrapper?.publicKey, bidWrapper?.bid);\n    });\n    const state = new AuctionState();\n    state.bids = bids;\n    state.blockHeight = v2?.blockHeight;\n    state.eraValidators = v2?.eraValidators;\n    state.stateRootHash = v2?.stateRootHash;\n    return state;\n  }\n}\n","import { jsonArrayMember, jsonMember, jsonObject, TypedJSON } from 'typedjson';\nimport { PublicKey } from './keypair';\nimport { CLValueUInt512 } from './clvalue';\nimport { URef } from './key';\nimport { HexBytes } from './HexBytes';\n\n/**\n * Represents the details of an era where an unbonding request was initiated.\n */\n@jsonObject\nexport class UnbondEra {\n  /**\n   * The amount of tokens to be unbonded during this era.\n   */\n  @jsonMember({\n    name: 'amount',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  amount: CLValueUInt512;\n\n  /**\n   * The era in which the unbonding request was created.\n   */\n  @jsonMember({ name: 'era_of_creation', constructor: Number })\n  eraOfCreation: number;\n\n  /**\n   * The bonding purse associated with the unbonding request.\n   */\n  @jsonMember({\n    name: 'bonding_purse',\n    constructor: URef,\n    deserializer: json => {\n      if (!json) return;\n      return URef.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  bondingPurse: URef;\n\n  /**\n   * The validator public key to re-delegate to.\n   */\n  @jsonMember({\n    name: 'new_validator',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  newValidator: PublicKey;\n}\n\n/**\n * Represents the kind of unbonding request, including information about the validator,\n * delegated public key, and delegated purse.\n */\n@jsonObject\nexport class UnbondKind {\n  /**\n   * The public key of the validator who the tokens are being unbonded from.\n   */\n  @jsonMember({\n    name: 'Validator',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  validator: PublicKey;\n\n  /**\n   * The public key of the delegated account involved in the unbonding.\n   */\n  @jsonMember({\n    name: 'DelegatedPublicKey',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  delegatedPublicKey: PublicKey;\n\n  /**\n   * The purse associated with the delegation from which tokens will be unbonded.\n   */\n  @jsonMember({\n    name: 'DelegatedPurse',\n    constructor: String\n  })\n  delegatedPurse: string;\n}\n\n/**\n * Represents a request to unbond tokens, specifying the validator, unbond kind, and eras.\n */\n@jsonObject\nexport class Unbond {\n  /**\n   * The public key of the validator from which tokens are being unbonded.\n   */\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  validatorPublicKey: PublicKey;\n\n  /**\n   * The kind of unbonding request, detailing whether it's from a validator, delegated public key, or delegated purse.\n   */\n  @jsonMember({\n    name: 'unbond_kind',\n    constructor: UnbondKind\n  })\n  unbondKind: UnbondKind;\n\n  /**\n   * A list of eras during which unbonding occurred.\n   */\n  @jsonArrayMember(UnbondEra, { name: 'eras' })\n  eras: UnbondEra[];\n}\n\n/**\n * Represents a delegation bid, which can be made from either a public key or a purse.\n */\n@jsonObject\nexport class DelegationKind {\n  /**\n   * A delegation bid made using a public key.\n   */\n  @jsonMember({\n    name: 'PublicKey',\n    constructor: PublicKey\n  })\n  publicKey?: PublicKey;\n\n  /**\n   * A delegation bid made using a purse.\n   */\n  @jsonMember({\n    name: 'Purse',\n    constructor: URef\n  })\n  purse?: URef;\n\n  /**\n   * Converts the DelegationKind into a hexadecimal string.\n   *\n   * The method ensures that exactly one of the fields is set. If both or neither\n   * are provided, it throws an error.\n   *\n   *\n   * @returns The hexadecimal string representation of the delegation.\n   * @throws {Error} If neither or both delegation fields are set.\n   */\n  toHex(): string {\n    const hasPublicKey =\n      this.publicKey !== undefined && this.publicKey !== null;\n    const hasPurse = this.purse !== undefined && this.purse !== null;\n\n    if (!hasPublicKey && !hasPurse) {\n      throw new Error(\n        \"Invalid DelegationKind: Neither 'publicKey' nor 'purse' is set. One must be provided.\"\n      );\n    }\n\n    if (hasPublicKey) {\n      return this.publicKey!.toHex();\n    } else {\n      return this.purse!.toPrefixedString();\n    }\n  }\n\n  /**\n   * Deserializes a JSON object into a DelegationKind instance.\n   *\n   * This method examines the input JSON. If it contains a `PublicKey` field,\n   * it will use that to populate the `publicKey` property. Otherwise, if it\n   * contains a `Purse` field, it will decode the hex string, append the default\n   * access byte (`7`), and create a URef instance.\n   *\n   * @param json - The JSON object to deserialize.\n   * @returns A new DelegationKind instance reflecting the given JSON.\n   * @throws {Error} If the input JSON is null or undefined, or if it does not\n   *                 conform to the expected format.\n   */\n  public static fromJSON(json: any): DelegationKind {\n    if (!json) {\n      throw new Error(`Invalid JSON for DelegationKind: ${json}`);\n    }\n\n    const delegatorKind = new DelegationKind();\n\n    if (json.PublicKey !== undefined && json.PublicKey !== null) {\n      delegatorKind.publicKey = PublicKey.fromJSON(json.PublicKey);\n    } else if (json.Purse !== undefined && json.Purse !== null) {\n      /**\n       * Purse is represented not in format at uref-{uref-bytes}-{access}\n       * but just a hex bytes\n       */\n      const urefBytes = HexBytes.fromHex(json.Purse);\n      const bytesWithAccess = new Uint8Array(urefBytes.bytes.length + 1);\n      bytesWithAccess.set(urefBytes.bytes, 0);\n      bytesWithAccess[urefBytes.bytes.length] = 7;\n      delegatorKind.purse = URef.fromBytes(bytesWithAccess).result;\n    } else {\n      throw new Error('unexpected DelegatorKind format');\n    }\n\n    return delegatorKind;\n  }\n}\n\n/**\n * Represents a vesting schedule for staked amounts, including an initial release timestamp and locked amounts.\n */\n@jsonObject\nexport class VestingSchedule {\n  /**\n   * The initial release timestamp in milliseconds.\n   */\n  @jsonMember({ name: 'initial_release_timestamp_millis', constructor: Number })\n  initialReleaseTimestampMillis: number;\n\n  /**\n   * The list of locked amounts associated with this vesting schedule.\n   */\n  @jsonArrayMember(CLValueUInt512, {\n    name: 'locked_amounts',\n    serializer: (value: CLValueUInt512[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) =>\n      json.map((it: string) => CLValueUInt512.fromJSON(it))\n  })\n  lockedAmounts: CLValueUInt512[];\n}\n\n/**\n * Represents a bid by a validator, including details about the bonding purse, delegation rate, stake, and vesting schedule.\n */\n@jsonObject\nexport class ValidatorBid {\n  /**\n   * The public key associated with the validator.\n   */\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  validatorPublicKey: PublicKey;\n\n  /**\n   * The bonding purse associated with the validator.\n   */\n  @jsonMember({\n    name: 'bonding_purse',\n    constructor: URef,\n    deserializer: json => {\n      if (!json) return;\n      return URef.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  bondingPurse: URef;\n\n  /**\n   * The rate at which delegations to this validator are taxed.\n   */\n  @jsonMember({ name: 'delegation_rate', constructor: Number })\n  delegationRate: number;\n\n  /**\n   * Indicates whether the validator is currently inactive.\n   */\n  @jsonMember({ name: 'inactive', constructor: Boolean })\n  inactive: boolean;\n\n  /**\n   * The total amount staked by this validator.\n   */\n  @jsonMember({\n    name: 'staked_amount',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  stakedAmount: CLValueUInt512;\n\n  /**\n   * Minimum and maximum amounts that can be delegated to this validator.\n   */\n  @jsonMember({\n    name: 'minimum_delegation_amount',\n    constructor: BigInt,\n    deserializer: json => {\n      if (!json) return;\n      try {\n        return BigInt(json);\n      } catch (e) {\n        throw new Error(`Could not convert minimum_delegation_amount: ${json}`);\n      }\n    },\n    serializer: value => value?.toString()\n  })\n  minimumDelegationAmount: bigint;\n\n  @jsonMember({\n    name: 'maximum_delegation_amount',\n    constructor: BigInt,\n    deserializer: json => {\n      if (!json) return;\n      try {\n        return BigInt(json);\n      } catch (e) {\n        throw new Error(`Could not convert maximum_delegation_amount: ${json}`);\n      }\n    },\n    serializer: value => value?.toString()\n  })\n  maximumDelegationAmount: bigint;\n\n  /**\n   * Number of slots reserved for specific delegators\n   */\n  @jsonMember({ name: 'reserved_slots', constructor: Number })\n  reservedSlots: number;\n\n  /**\n   * The vesting schedule for this validators stake.\n   */\n  @jsonMember({ name: 'vesting_schedule', constructor: VestingSchedule })\n  vestingSchedule?: VestingSchedule;\n}\n\n/**\n * Represents a delegator who delegates their stake to a validator.\n */\n@jsonObject\nexport class Delegator {\n  @jsonMember({\n    name: 'bonding_purse',\n    constructor: URef,\n    deserializer: json => {\n      if (!json) return;\n      return URef.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  bondingPurse: URef;\n\n  @jsonMember({\n    name: 'staked_amount',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  stakedAmount: CLValueUInt512;\n\n  @jsonMember({\n    name: 'delegator_kind',\n    constructor: DelegationKind,\n    deserializer: json => {\n      if (!json) return;\n      return DelegationKind.fromJSON(json);\n    }\n  })\n  delegatorKind: DelegationKind;\n\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  validatorPublicKey: PublicKey;\n\n  @jsonMember({ name: 'vesting_schedule', constructor: VestingSchedule })\n  vestingSchedule?: VestingSchedule;\n\n  constructor(\n    bondingPurse: URef,\n    stakedAmount: CLValueUInt512,\n    delegatorKind: DelegationKind,\n    validatorPublicKey: PublicKey,\n    vestingSchedule?: VestingSchedule\n  ) {\n    this.bondingPurse = bondingPurse;\n    this.stakedAmount = stakedAmount;\n    this.delegatorKind = delegatorKind;\n    this.validatorPublicKey = validatorPublicKey;\n    this.vestingSchedule = vestingSchedule;\n  }\n\n  /**\n   * Creates a `Delegator` instance from a `DelegatorV1` instance.\n   * @param v1 - The `DelegatorV1` instance to convert.\n   * @returns A new `Delegator` instance.\n   */\n  static newDelegatorFromDelegatorV1(v1: DelegatorV1): Delegator {\n    const delegationKind = new DelegationKind();\n    delegationKind.publicKey = v1.publicKey;\n\n    return new Delegator(\n      v1.bondingPurse,\n      v1.stakedAmount,\n      delegationKind,\n      v1.delegatee,\n      v1.vestingSchedule\n    );\n  }\n\n  /**\n   * Deserializes a `Delegator` instance from JSON.\n   * @param json\n   */\n  static fromJSON(json: any): Delegator[] {\n    if (!Array.isArray(json)) {\n      throw new Error('Delegators should be an array.');\n    }\n\n    if (json.length > 0 && json[0].delegator_public_key != null) {\n      return json.map((item: any) => {\n        const delegatorJson = item.delegator;\n        const serializer = new TypedJSON(Delegator);\n        const delegator = serializer.parse(delegatorJson);\n\n        if (!delegator) {\n          throw new Error(\n            'Failed to deserialize Delegator from wrapped format.'\n          );\n        }\n\n        return delegator;\n      });\n    } else {\n      return json.map((item: any) => {\n        const delegatorV1Serializer = new TypedJSON(DelegatorV1);\n        const delegatorV1 = delegatorV1Serializer.parse(item);\n        if (!delegatorV1) {\n          throw new Error('Failed to deserialize DelegatorV1.');\n        }\n        return this.newDelegatorFromDelegatorV1(delegatorV1);\n      });\n    }\n  }\n}\n\n/**\n * Represents a bid entry, including the bonding purse, delegation rate, inactive status, and vesting schedule.\n */\n@jsonObject\nexport class Bid {\n  @jsonMember({\n    name: 'bonding_purse',\n    constructor: URef,\n    deserializer: json => {\n      if (!json) return;\n      return URef.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  bondingPurse: URef;\n\n  @jsonMember({ name: 'delegation_rate', constructor: Number })\n  delegationRate: number;\n\n  @jsonMember({ name: 'inactive', constructor: Boolean })\n  inactive: boolean;\n\n  @jsonMember({\n    name: 'staked_amount',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: (value: CLValueUInt512) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  stakedAmount: CLValueUInt512;\n\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  validatorPublicKey: PublicKey;\n\n  @jsonArrayMember(Delegator, {\n    name: 'delegators',\n    deserializer: json => {\n      if (!json) return;\n      return Delegator.fromJSON(json);\n    }\n  })\n  delegators: Delegator[];\n\n  @jsonMember({ name: 'vesting_schedule', constructor: VestingSchedule })\n  vestingSchedule?: VestingSchedule;\n}\n\n/**\n * Represents a version 1 delegator with basic properties such as bonding purse and stake amount.\n */\n@jsonObject\nexport class DelegatorV1 {\n  @jsonMember({\n    name: 'bonding_purse',\n    constructor: URef,\n    deserializer: json => {\n      if (!json) return;\n      return URef.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  bondingPurse: URef;\n\n  @jsonMember({\n    name: 'staked_amount',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  stakedAmount: CLValueUInt512;\n\n  @jsonMember({\n    name: 'delegatee',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  delegatee: PublicKey;\n\n  @jsonMember({\n    name: 'public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  publicKey: PublicKey;\n\n  @jsonMember({ name: 'vesting_schedule', constructor: VestingSchedule })\n  vestingSchedule?: VestingSchedule;\n}\n\n/**\n * Represents a credit in a staking system, tied to a specific era and validator.\n */\n@jsonObject\nexport class Credit {\n  /**\n   * The era ID associated with this credit.\n   */\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  /**\n   * The public key of the validator for this credit.\n   */\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  validatorPublicKey: PublicKey;\n\n  /**\n   * The amount of the credit.\n   */\n  @jsonMember({\n    name: 'amount',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  amount: CLValueUInt512;\n}\n\n/**\n * Represents a bridge between validators, including their public keys and the associated era.\n */\n@jsonObject\nexport class Bridge {\n  /**\n   * The era ID during which this bridge was established.\n   */\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  /**\n   * The public key of the old validator.\n   */\n  @jsonMember({\n    name: 'old_validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  oldValidatorPublicKey: PublicKey;\n\n  /**\n   * The public key of the new validator.\n   */\n  @jsonMember({\n    name: 'new_validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  newValidatorPublicKey: PublicKey;\n}\n\n@jsonObject\n/**\n * Represents a reservation in the blockchain system, including delegation details and associated public keys.\n */\nexport class Reservation {\n  /**\n   * The delegation rate, representing the percentage of rewards allocated to the delegator.\n   */\n  @jsonMember({ name: 'delegation_rate', constructor: Number })\n  delegationRate: number;\n\n  /**\n   * The public key of the validator associated with this reservation.\n   *\n   * This key is used to identify the validator in the blockchain system.\n   */\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  validatorPublicKey: PublicKey;\n\n  /**\n   * Kinds of delegation bids.\n   */\n  @jsonMember({\n    name: 'delegator_kind',\n    constructor: DelegationKind,\n    deserializer: json => {\n      if (!json) return;\n      return DelegationKind.fromJSON(json);\n    }\n  })\n  delegatorKind: DelegationKind;\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport {\n  Bid,\n  Bridge,\n  Credit,\n  Delegator,\n  Reservation,\n  Unbond,\n  ValidatorBid\n} from './Bid';\n\n/**\n * Represents a polymorphic bid kind, which can hold different types of bid-related entities.\n * This class allows for various bid types, such as unified bids, validator bids, delegator bids,\n * bridge transitions, credits, and reservations. It provides flexibility to manage various bidding\n * scenarios in a decentralized system.\n */\n@jsonObject\nexport class BidKind {\n  /**\n   * A unified bid that combines multiple bid attributes, serving as a general bid type.\n   * This type can hold any bid-related information that doesn't fit into the specific categories\n   * below, allowing for a broader range of bidding scenarios.\n   */\n  @jsonMember({ name: 'Unified', constructor: Bid })\n  unified?: Bid;\n\n  /**\n   * A bid specific to a validator, containing information unique to the validator's bid.\n   * This may include details such as the validator's identity, bid amount, and other relevant\n   * parameters that differentiate it from other types of bids.\n   */\n  @jsonMember({ name: 'Validator', constructor: ValidatorBid })\n  validator?: ValidatorBid;\n\n  /**\n   * A bid from a delegator, representing a user delegating their stake to a validator.\n   * This field holds information about the delegator's public key, amount of stake delegated,\n   * and any other relevant data specific to the delegation process.\n   */\n  @jsonMember({ name: 'Delegator', constructor: Delegator })\n  delegator?: Delegator;\n\n  /**\n   * Represents a bridge transition between validators, allowing for the transfer of a validator's\n   * responsibilities to another validator. This can be useful in the context of network upgrades\n   * or validator rotations.\n   */\n  @jsonMember({ name: 'Bridge', constructor: Bridge })\n  bridge?: Bridge;\n\n  /**\n   * A credit entry for a validator, specifying an amount of credit and the era in which the credit\n   * is awarded. This can be used to track validator performance, reputation, or other forms of credit\n   * that might be relevant in the ecosystem.\n   */\n  @jsonMember({ name: 'Credit', constructor: Credit })\n  credit?: Credit;\n\n  /**\n   * Represents a reservation made by a validator for a specific delegator, ensuring that a slot\n   * is reserved for the delegator to join the validator's pool. This may be used in scenarios where\n   * validators want to guarantee space for specific delegators.\n   */\n  @jsonMember({ name: 'Reservation', constructor: Reservation })\n  reservation?: Reservation;\n\n  /**\n   * Represents an unbonding request, where a delegator or validator requests to unbond previously\n   * bonded assets. This could involve the release of staked tokens and their return to the original\n   * owner, with associated properties like bonding era and validator information.\n   */\n  @jsonMember({ name: 'Unbond', constructor: Unbond })\n  unbond?: Unbond;\n\n  /**\n   * Constructs a new instance of BidKind.\n   *\n   * @param unified - (Optional) A unified bid.\n   * @param validator - (Optional) A validator-specific bid.\n   * @param delegator - (Optional) A delegator bid.\n   * @param bridge - (Optional) A bridge transition bid.\n   * @param credit - (Optional) A credit bid.\n   * @param reservation - (Optional) A reservation bid.\n   * @param unbond - (Optional) An unbonding request bid.\n   */\n  constructor(\n    unified?: Bid,\n    validator?: ValidatorBid,\n    delegator?: Delegator,\n    bridge?: Bridge,\n    credit?: Credit,\n    reservation?: Reservation,\n    unbond?: Unbond\n  ) {\n    this.unified = unified;\n    this.validator = validator;\n    this.delegator = delegator;\n    this.bridge = bridge;\n    this.credit = credit;\n    this.reservation = reservation;\n    this.unbond = unbond;\n  }\n}\n","import { jsonObject, jsonMember, jsonArrayMember, TypedJSON } from 'typedjson';\nimport { Hash } from './key';\nimport { Timestamp } from './Time';\nimport { Proposer } from './BlockProposer';\nimport { EraEnd, EraEndV1, EraEndV2 } from './EraEnd';\nimport {\n  TransactionCategory,\n  TransactionHash,\n  TransactionVersion\n} from './Transaction';\nimport { PublicKey } from './keypair';\nimport { HexBytes } from './HexBytes';\nimport { getEnumKeyByValue } from '../utils';\n\n/**\n * Represents a proof containing a public key and a signature, used for validating the authenticity of data.\n */\n@jsonObject\nexport class Proof {\n  /**\n   * The public key associated with the proof.\n   * This key is used to verify the signature's validity.\n   */\n  @jsonMember({\n    constructor: PublicKey,\n    name: 'public_key',\n    deserializer: (json: string) => PublicKey.fromJSON(json),\n    serializer: (value: PublicKey) => value.toJSON()\n  })\n  public publicKey: PublicKey;\n\n  /**\n   * The signature generated by the associated public key.\n   * The signature proves the authenticity of the data or transaction.\n   */\n  @jsonMember({\n    name: 'signature',\n    constructor: HexBytes,\n    deserializer: (json: string) => HexBytes.fromJSON(json),\n    serializer: (value: HexBytes) => value.toJSON()\n  })\n  public signature: HexBytes;\n}\n\n/**\n * Represents a block in the blockchain containing metadata, transactions, and proof.\n * A block includes information like the hash, height, parent block, transactions, and more.\n */\n@jsonObject\nexport class Block {\n  /**\n   * The unique hash of the block.\n   */\n  @jsonMember({\n    name: 'hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public hash: Hash;\n\n  /**\n   * The height of the block in the blockchain.\n   */\n  @jsonMember({ name: 'height', constructor: Number })\n  public height: number;\n\n  /**\n   * The hash of the state root associated with the block.\n   */\n  @jsonMember({\n    name: 'state_root_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public stateRootHash: Hash;\n\n  /**\n   * The hash of the block that switched the current state, if available.\n   * This can be `null` if not applicable.\n   */\n  @jsonMember({\n    name: 'last_switch_block_hash',\n    constructor: Hash,\n    deserializer: (json: string) => (json ? Hash.fromJSON(json) : null),\n    serializer: (value: Hash) => (value ? value.toJSON() : null),\n    preserveNull: true\n  })\n  public lastSwitchBlockHash: Hash | null;\n\n  /**\n   * The hash of the parent block in the blockchain.\n   */\n  @jsonMember({\n    name: 'parent_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public parentHash: Hash;\n\n  /**\n   * The era ID in which this block was created.\n   */\n  @jsonMember({ name: 'era_id', constructor: Number })\n  public eraID: number;\n\n  /**\n   * The timestamp indicating when the block was created.\n   */\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp,\n    deserializer: (json: string) => Timestamp.fromJSON(json),\n    serializer: (value: Timestamp) => value.toJSON()\n  })\n  public timestamp: Timestamp;\n\n  /**\n   * The accumulated seed for randomness in the block generation.\n   */\n  @jsonMember({\n    name: 'accumulated_seed',\n    constructor: Hash,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: (value: Hash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public accumulatedSeed?: Hash;\n\n  /**\n   * A random bit used for proof-of-stake consensus.\n   */\n  @jsonMember({ name: 'random_bit', constructor: Boolean })\n  public randomBit: boolean;\n\n  /**\n   * The current gas price for transactions included in the block.\n   */\n  @jsonMember({ name: 'current_gas_price', constructor: Number })\n  public currentGasPrice: number;\n\n  /**\n   * The proposer who created this block.\n   */\n  @jsonMember({\n    name: 'proposer',\n    constructor: Proposer,\n    deserializer: (json: string) => Proposer.fromJSON(json),\n    serializer: (value: Proposer) => value.toJSON()\n  })\n  public proposer: Proposer;\n\n  /**\n   * The protocol version used for this block.\n   */\n  @jsonMember({ name: 'protocol_version', constructor: String })\n  public protocolVersion?: string;\n\n  /**\n   * The era end details, if available, for the block's era.\n   */\n  @jsonMember({ name: 'era_end', constructor: EraEnd })\n  public eraEnd?: EraEnd;\n\n  /**\n   * The list of transactions included in this block.\n   */\n  @jsonArrayMember(() => BlockTransaction, {\n    name: 'transactions',\n    deserializer: (json: string) => BlockTransaction.fromJSON(json)\n  })\n  public transactions: BlockTransaction[];\n\n  /**\n   * A list of signature IDs that were rewarded in this block.\n   */\n  @jsonArrayMember(Number, { dimensions: 2, name: 'rewarded_signatures' })\n  public rewardedSignatures: number[][];\n\n  /**\n   * A list of proofs associated with this block.\n   */\n  @jsonArrayMember(() => Proof, { name: 'proofs' })\n  public proofs: Proof[];\n\n  /**\n   * The origin block in V1 format, if available.\n   */\n  public originBlockV1?: BlockV1;\n\n  /**\n   * The origin block in V2 format, if available.\n   */\n  public originBlockV2?: BlockV2;\n\n  /**\n   * Constructs a new `Block` instance.\n   * @param hash - The unique hash of the block.\n   * @param height - The height of the block in the blockchain.\n   * @param stateRootHash - The hash of the state root for the block.\n   * @param lastSwitchBlockHash - The hash of the block that switched the state, if available.\n   * @param parentHash - The hash of the parent block.\n   * @param eraID - The era ID in which the block was created.\n   * @param timestamp - The timestamp of the block creation.\n   * @param accumulatedSeed - The accumulated seed for randomness in the block.\n   * @param randomBit - A random bit used for consensus.\n   * @param currentGasPrice - The current gas price for transactions in the block.\n   * @param proposer - The proposer of the block.\n   * @param protocolVersion - The protocol version of the block.\n   * @param eraEnd - The era end details for the block's era, if available.\n   * @param transactions - The list of transactions included in the block.\n   * @param rewardedSignatures - The list of rewarded signatures.\n   * @param proofs - The list of proofs associated with the block.\n   * @param originBlockV1 - The origin block in V1 format, if available.\n   * @param originBlockV2 - The origin block in V2 format, if available.\n   */\n  constructor(\n    hash: Hash,\n    height: number,\n    stateRootHash: Hash,\n    lastSwitchBlockHash: Hash | null,\n    parentHash: Hash,\n    eraID: number,\n    timestamp: Timestamp,\n    accumulatedSeed: Hash | undefined,\n    randomBit: boolean,\n    currentGasPrice: number,\n    proposer: Proposer,\n    protocolVersion: string | undefined,\n    eraEnd: EraEnd | undefined,\n    transactions: BlockTransaction[],\n    rewardedSignatures: number[][],\n    proofs: Proof[],\n    originBlockV1?: BlockV1,\n    originBlockV2?: BlockV2\n  ) {\n    this.hash = hash;\n    this.height = height;\n    this.stateRootHash = stateRootHash;\n    this.lastSwitchBlockHash = lastSwitchBlockHash;\n    this.parentHash = parentHash;\n    this.eraID = eraID;\n    this.timestamp = timestamp;\n    this.accumulatedSeed = accumulatedSeed;\n    this.randomBit = randomBit;\n    this.currentGasPrice = currentGasPrice;\n    this.proposer = proposer;\n    this.protocolVersion = protocolVersion;\n    this.eraEnd = eraEnd;\n    this.transactions = transactions;\n    this.rewardedSignatures = rewardedSignatures;\n    this.proofs = proofs;\n    this.originBlockV1 = originBlockV1;\n    this.originBlockV2 = originBlockV2;\n  }\n\n  /**\n   * Retrieves the V1 format of the origin block, if available.\n   * @returns The origin block in V1 format, or `undefined` if not available.\n   */\n  getBlockV1(): BlockV1 | undefined {\n    return this.originBlockV1;\n  }\n\n  /**\n   * Retrieves the V2 format of the origin block, if available.\n   * @returns The origin block in V2 format, or `undefined` if not available.\n   */\n  getBlockV2(): BlockV2 | undefined {\n    return this.originBlockV2;\n  }\n\n  /**\n   * Creates a new `Block` instance from a `BlockWrapper` object, which may contain either V1 or V2 block format.\n   * @param blockWrapper - The `BlockWrapper` containing either `blockV1` or `blockV2`.\n   * @param proofs - The list of proofs associated with the block.\n   * @returns A new `Block` instance based on the provided `blockWrapper` and `proofs`.\n   * @throws Will throw an error if the `blockWrapper` does not contain a valid `blockV1` or `blockV2`.\n   */\n  static newBlockFromBlockWrapper(\n    blockWrapper: BlockWrapper,\n    proofs: Proof[]\n  ): Block {\n    if (blockWrapper.blockV1) {\n      const block = Block.newBlockFromBlockV1(blockWrapper.blockV1);\n      block.proofs = proofs;\n      return block;\n    } else if (blockWrapper.blockV2) {\n      const blockV2 = blockWrapper.blockV2;\n      return new Block(\n        blockV2.hash,\n        blockV2.header.height,\n        blockV2.header.stateRootHash,\n        blockV2.header.lastSwitchBlockHash,\n        blockV2.header.parentHash,\n        blockV2.header.eraID,\n        blockV2.header.timestamp,\n        blockV2.header.accumulatedSeed,\n        blockV2.header.randomBit,\n        blockV2.header.currentGasPrice,\n        blockV2.header.proposer,\n        blockV2.header.protocolVersion,\n        EraEnd.fromV2(blockV2.header.eraEnd ?? null) ?? undefined,\n        blockV2.body.transactions,\n        blockV2.body.rewardedSignatures,\n        proofs,\n        undefined,\n        blockV2\n      );\n    }\n    throw new Error('BlockWrapper must contain either BlockV1 or BlockV2');\n  }\n\n  /**\n   * Creates a new `Block` instance from a V1 block format.\n   * @param blockV1 - The V1 block format.\n   * @returns A new `Block` instance created from the provided V1 block format.\n   */\n  static newBlockFromBlockV1(blockV1: BlockV1): Block {\n    const blockTransactions: BlockTransaction[] = [];\n\n    for (const transferHash of blockV1.body.transferHashes) {\n      blockTransactions.push(\n        new BlockTransaction(\n          TransactionCategory.Mint,\n          TransactionVersion.Deploy,\n          transferHash\n        )\n      );\n    }\n\n    for (const deployHash of blockV1.body.deployHashes) {\n      blockTransactions.push(\n        new BlockTransaction(\n          TransactionCategory.Large,\n          TransactionVersion.Deploy,\n          deployHash\n        )\n      );\n    }\n\n    return new Block(\n      blockV1.hash,\n      blockV1.header.height,\n      blockV1.header.stateRootHash,\n      null,\n      blockV1.header.parentHash,\n      blockV1.header.eraID,\n      blockV1.header.timestamp,\n      blockV1.header.accumulatedSeed,\n      blockV1.header.randomBit,\n      1,\n      blockV1.body.proposer,\n      blockV1.header.protocolVersion,\n      EraEnd.fromV1(blockV1.header.eraEnd ?? null) ?? undefined,\n      blockTransactions,\n      [],\n      blockV1.proofs,\n      blockV1\n    );\n  }\n}\n\n/**\n * Represents a transaction within a block, identified by a category, version, and hash.\n * Each `BlockTransaction` stores the category of the transaction, its version, and a unique hash.\n */\n@jsonObject\nexport class BlockTransaction {\n  /**\n   * The category of the transaction, indicating the type of transaction.\n   * This could be one of the predefined categories such as Mint, Auction, InstallUpgrade, etc.\n   */\n  @jsonMember({ name: 'Category', constructor: Number })\n  public category: TransactionCategory;\n\n  /**\n   * The version of the transaction, specifying the version of the transaction protocol.\n   */\n  @jsonMember({ name: 'Version', constructor: Number })\n  public version: TransactionVersion;\n\n  /**\n   * The unique hash identifying the transaction.\n   * This hash serves as a reference to the transaction.\n   */\n  @jsonMember({\n    name: 'Hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public hash: Hash;\n\n  /**\n   * Constructs a new `BlockTransaction` instance.\n   * @param category - The category of the transaction (e.g., Mint, Auction).\n   * @param version - The version of the transaction protocol.\n   * @param hash - The unique hash identifying the transaction.\n   */\n  constructor(\n    category: TransactionCategory,\n    version: TransactionVersion,\n    hash: Hash\n  ) {\n    this.category = category;\n    this.version = version;\n    this.hash = hash;\n  }\n\n  /**\n   * Deserializes a JSON object into an array of `BlockTransaction` instances.\n   * The input `data` is expected to contain transaction hashes categorized by their types.\n   *\n   * @param data - The serialized data representing transactions categorized by type.\n   * @returns An array of `BlockTransaction` instances.\n   *\n   * @example\n   * const jsonData = { '0': ['hash1', 'hash2'], '1': ['hash3'] };\n   * const transactions = BlockTransaction.fromJSON(jsonData);\n   * console.log(transactions); // Outputs an array of BlockTransaction instances.\n   */\n  public static fromJSON(data: any): BlockTransaction[] {\n    const serializer = new TypedJSON(TransactionHash);\n    const source = {\n      Mint: (data['0'] || []).map((json: any) => serializer.parse(json)),\n      Auction: (data['1'] || []).map((json: any) => serializer.parse(json)),\n      InstallUpgrade: (data['2'] || []).map((json: any) =>\n        serializer.parse(json)\n      ),\n      Large: (data['3'] || []).map((json: any) => serializer.parse(json)),\n      Medium: (data['4'] || []).map((json: any) => serializer.parse(json)),\n      Small: (data['5'] || []).map((json: any) => serializer.parse(json))\n    };\n\n    const transactions: BlockTransaction[] = [];\n    transactions.push(\n      ...getBlockTransactionsFromTransactionHashes(\n        source.Mint,\n        TransactionCategory.Mint\n      ),\n      ...getBlockTransactionsFromTransactionHashes(\n        source.Auction,\n        TransactionCategory.Auction\n      ),\n      ...getBlockTransactionsFromTransactionHashes(\n        source.InstallUpgrade,\n        TransactionCategory.InstallUpgrade\n      ),\n      ...getBlockTransactionsFromTransactionHashes(\n        source.Large,\n        TransactionCategory.Large\n      ),\n      ...getBlockTransactionsFromTransactionHashes(\n        source.Medium,\n        TransactionCategory.Medium\n      ),\n      ...getBlockTransactionsFromTransactionHashes(\n        source.Small,\n        TransactionCategory.Small\n      )\n    );\n\n    return transactions;\n  }\n\n  public toJSON(): string {\n    return JSON.stringify({\n      [this.category.toString()]: [\n        {\n          [getEnumKeyByValue(TransactionVersion, this.version) ??\n          '']: this.hash.toJSON()\n        }\n      ]\n    });\n  }\n}\n\n/**\n * Converts an array of `TransactionHash` objects into an array of `BlockTransaction` instances.\n * Each `TransactionHash` is associated with a specific category, and the resulting `BlockTransaction` includes the category,\n * version, and the hash of the transaction.\n *\n * @param hashes - An array of `TransactionHash` objects, each representing a transaction hash.\n * @param category - The category of the transaction (e.g., Mint, Auction).\n * @returns An array of `BlockTransaction` instances, each representing a transaction.\n *\n * @throws {Error} If any of the `TransactionHash` objects does not contain a valid `transactionV1`.\n *\n */\nfunction getBlockTransactionsFromTransactionHashes(\n  hashes: TransactionHash[],\n  category: TransactionCategory\n): BlockTransaction[] {\n  if (hashes.length === 0) {\n    return [];\n  }\n\n  return hashes.map(hash => {\n    const transactionHash = hash.transactionV1;\n    const deployHash = hash.deploy;\n\n    if (transactionHash) {\n      return new BlockTransaction(\n        category,\n        TransactionVersion.V1,\n        transactionHash\n      );\n    } else if (deployHash) {\n      return new BlockTransaction(\n        category,\n        TransactionVersion.Deploy,\n        deployHash\n      );\n    }\n\n    throw new Error(\n      'Invalid TransactionHash: transactionV1 and deploy is undefined'\n    );\n  });\n}\n\n/**\n * Parses a JSON string representing block transactions and converts them into an array of `BlockTransaction` instances.\n * The input data is expected to be a JSON object with categories (e.g., '0', '1', etc.) mapping to arrays of `TransactionHash` objects.\n * Each category corresponds to a specific type of transaction, such as Mint, Auction, etc.\n *\n * @param data - A JSON string containing transaction categories as keys ('0', '1', etc.), with each key pointing to an array of `TransactionHash` objects.\n * @returns An array of `BlockTransaction` instances representing the transactions in the block.\n *\n * @throws {Error} If the input `data` is not valid JSON or does not conform to the expected structure.\n *\n * @example\n * const jsonData = '{\"0\": [{\"transactionV1\": \"hash1\"}], \"1\": [{\"transactionV1\": \"hash2\"}]}';\n * const transactions = parseBlockTransactions(jsonData);\n * console.log(transactions); // Outputs an array of BlockTransaction instances for Mint and Auction transactions.\n */\nexport function parseBlockTransactions(data: string): BlockTransaction[] {\n  const source = JSON.parse(data) as {\n    '0'?: TransactionHash[];\n    '1'?: TransactionHash[];\n    '2'?: TransactionHash[];\n    '3'?: TransactionHash[];\n    '4'?: TransactionHash[];\n    '5'?: TransactionHash[];\n  };\n\n  const result: BlockTransaction[] = [];\n\n  if (source['0'])\n    result.push(\n      ...getBlockTransactionsFromTransactionHashes(\n        source['0'],\n        TransactionCategory.Mint\n      )\n    );\n  if (source['1'])\n    result.push(\n      ...getBlockTransactionsFromTransactionHashes(\n        source['1'],\n        TransactionCategory.Auction\n      )\n    );\n  if (source['2'])\n    result.push(\n      ...getBlockTransactionsFromTransactionHashes(\n        source['2'],\n        TransactionCategory.InstallUpgrade\n      )\n    );\n  if (source['3'])\n    result.push(\n      ...getBlockTransactionsFromTransactionHashes(\n        source['3'],\n        TransactionCategory.Large\n      )\n    );\n  if (source['4'])\n    result.push(\n      ...getBlockTransactionsFromTransactionHashes(\n        source['4'],\n        TransactionCategory.Medium\n      )\n    );\n  if (source['5'])\n    result.push(\n      ...getBlockTransactionsFromTransactionHashes(\n        source['5'],\n        TransactionCategory.Small\n      )\n    );\n\n  return result;\n}\n\n/**\n * Represents the header of a version 1 block in the blockchain.\n * The header contains metadata about the block, such as its height, parent hash, protocol version, and timestamps.\n */\n@jsonObject\nexport class BlockHeaderV1 {\n  /**\n   * The accumulated seed used for randomness in block generation.\n   * This seed is generated from previous blocks and influences the consensus.\n   */\n  @jsonMember({\n    name: 'accumulated_seed',\n    constructor: Hash,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: (value: Hash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public accumulatedSeed?: Hash;\n\n  /**\n   * The hash of the block's body, which contains the transactions and other block data.\n   * This is used to verify the integrity of the block's contents.\n   */\n  @jsonMember({\n    name: 'body_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public bodyHash: Hash;\n\n  /**\n   * The era ID in which this block was created.\n   * The era ID represents the block's position within a specific era in the blockchain.\n   */\n  @jsonMember({ name: 'era_id', constructor: Number })\n  public eraID: number;\n\n  /**\n   * The height of the block in the blockchain.\n   * The block height indicates its position relative to the first block in the chain (genesis block).\n   */\n  @jsonMember({ name: 'height', constructor: Number })\n  public height: number;\n\n  /**\n   * The hash of the parent block, linking this block to its predecessor in the chain.\n   * The parent hash is used to verify the continuity of the blockchain.\n   */\n  @jsonMember({\n    name: 'parent_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public parentHash: Hash;\n\n  /**\n   * The protocol version used for this block, indicating the version of the consensus rules.\n   */\n  @jsonMember({ name: 'protocol_version', constructor: String })\n  public protocolVersion?: string;\n\n  /**\n   * A random bit used for consensus, which may play a role in the block's selection or generation.\n   */\n  @jsonMember({ name: 'random_bit', constructor: Boolean })\n  public randomBit: boolean;\n\n  /**\n   * The hash of the state root, representing the state of the blockchain after this block is applied.\n   * The state root hash is used to verify the consistency of the blockchain's state.\n   */\n  @jsonMember({\n    name: 'state_root_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public stateRootHash: Hash;\n\n  /**\n   * The timestamp indicating when the block was created.\n   * This timestamp helps to determine the block's position in time within the blockchain.\n   */\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp,\n    deserializer: (json: string) => Timestamp.fromJSON(json),\n    serializer: (value: Timestamp) => value.toJSON()\n  })\n  public timestamp: Timestamp;\n\n  /**\n   * The era end details for this block's era, if available.\n   * The `eraEnd` may include information about the transition from one era to another.\n   */\n  @jsonMember({ name: 'era_end', constructor: EraEndV1 })\n  public eraEnd?: EraEndV1;\n}\n\n/**\n * Represents the body of a version 1 block in the blockchain.\n * The body contains essential data related to transactions, deploys, and other actions within the block.\n */\n@jsonObject\nexport class BlockBodyV1 {\n  /**\n   * The list of deploy hashes included in the block.\n   * Deploys represent the transactions that are being executed within this block.\n   */\n  @jsonArrayMember(() => Hash, {\n    name: 'deploy_hashes',\n    serializer: (value: Hash[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) => json.map((it: string) => Hash.fromJSON(it))\n  })\n  public deployHashes: Hash[];\n\n  /**\n   * The proposer of the block, which represents the entity that created or proposed the block.\n   */\n  @jsonMember({\n    name: 'proposer',\n    constructor: Proposer,\n    deserializer: (json: string) => Proposer.fromJSON(json),\n    serializer: (value: Proposer) => value.toJSON()\n  })\n  public proposer: Proposer;\n\n  /**\n   * The list of transfer hashes included in the block.\n   * Transfers represent the transactions related to the movement of tokens within the blockchain.\n   */\n  @jsonArrayMember(() => Hash, {\n    name: 'transfer_hashes',\n    serializer: (value: Hash[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) => json.map((it: string) => Hash.fromJSON(it))\n  })\n  public transferHashes: Hash[];\n}\n\n/**\n * Represents a version 1 block in the blockchain, including the block's metadata (header), body, and proofs.\n * A `BlockV1` contains the block's unique hash, header (which includes metadata like height and era ID), body (which includes transactions),\n * and an array of proofs related to the block.\n */\n@jsonObject\nexport class BlockV1 {\n  /**\n   * The unique hash of the block, used to identify and verify the block in the blockchain.\n   */\n  @jsonMember({\n    name: 'hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public hash: Hash;\n\n  /**\n   * The header of the block, containing metadata such as block height, era ID, and timestamp.\n   */\n  @jsonMember({ name: 'header', constructor: BlockHeaderV1 })\n  public header: BlockHeaderV1;\n\n  /**\n   * The body of the block, which contains the transactions and related data for the block.\n   */\n  @jsonMember({ name: 'body', constructor: BlockBodyV1 })\n  public body: BlockBodyV1;\n\n  /**\n   * An array of proofs associated with the block, used to verify the authenticity of the block.\n   */\n  @jsonArrayMember(Proof, { name: 'proofs' })\n  public proofs: Proof[];\n}\n\n/**\n * Represents the header of a version 2 block in the blockchain.\n * Contains metadata such as the block's height, parent hash, timestamp, gas price, and more.\n */\n@jsonObject\nexport class BlockHeaderV2 {\n  /**\n   * The accumulated seed used for randomness in block generation.\n   * This seed is generated from previous blocks and influences the consensus.\n   */\n  @jsonMember({\n    name: 'accumulated_seed',\n    constructor: Hash,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: (value: Hash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public accumulatedSeed?: Hash;\n\n  /**\n   * The hash of the block's body, which contains the transactions and other data.\n   * This is used to verify the integrity of the block's contents.\n   */\n  @jsonMember({\n    name: 'body_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public bodyHash: Hash;\n\n  /**\n   * The era ID in which the block was created, indicating its position within a blockchain era.\n   */\n  @jsonMember({ name: 'era_id', constructor: Number })\n  public eraID: number;\n\n  /**\n   * The current gas price for transactions within this block.\n   */\n  @jsonMember({ name: 'current_gas_price', constructor: Number })\n  public currentGasPrice: number;\n\n  /**\n   * The height of the block in the blockchain, representing its position in the chain.\n   */\n  @jsonMember({ name: 'height', constructor: Number })\n  public height: number;\n\n  /**\n   * The hash of the parent block, linking this block to its predecessor in the chain.\n   */\n  @jsonMember({\n    name: 'parent_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public parentHash: Hash;\n\n  /**\n   * The proposer who created this block.\n   */\n  @jsonMember({\n    name: 'proposer',\n    constructor: Proposer,\n    deserializer: (json: string) => Proposer.fromJSON(json),\n    serializer: (value: Proposer) => value.toJSON()\n  })\n  public proposer: Proposer;\n\n  /**\n   * The protocol version used for this block.\n   */\n  @jsonMember({ name: 'protocol_version', constructor: String })\n  public protocolVersion?: string;\n\n  /**\n   * A random bit used for consensus, which may play a role in block selection or generation.\n   */\n  @jsonMember({ name: 'random_bit', constructor: Boolean })\n  public randomBit: boolean;\n\n  /**\n   * The hash of the state root, representing the state of the blockchain after this block is applied.\n   */\n  @jsonMember({\n    name: 'state_root_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public stateRootHash: Hash;\n\n  /**\n   * The hash of the block that switched the state, marking the end of an era or other significant event.\n   */\n  @jsonMember({\n    name: 'last_switch_block_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public lastSwitchBlockHash: Hash;\n\n  /**\n   * The timestamp when the block was created.\n   */\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp,\n    deserializer: (json: string) => Timestamp.fromJSON(json),\n    serializer: (value: Timestamp) => value.toJSON()\n  })\n  public timestamp: Timestamp;\n\n  /**\n   * The era end details for this block's era, if available.\n   */\n  @jsonMember({ name: 'era_end', constructor: EraEndV2 })\n  public eraEnd?: EraEndV2;\n}\n\n/**\n * Represents the body of a version 2 block, including the transactions and rewarded signatures.\n */\n@jsonObject\nexport class BlockBodyV2 {\n  /**\n   * The list of transactions included in the block.\n   */\n  @jsonMember(BlockTransaction, {\n    name: 'transactions',\n    deserializer: (json: any) => BlockTransaction.fromJSON(json),\n    serializer: (value: BlockTransaction[]) => {\n      return {\n        ...value.reduce((acc, tx) => {\n          return { ...acc, ...JSON.parse(tx.toJSON()) };\n        }, {})\n      };\n    }\n  })\n  public transactions: BlockTransaction[];\n\n  /**\n   * The list of signature IDs that were rewarded in this block.\n   */\n  @jsonArrayMember(Number, { dimensions: 2, name: 'rewarded_signatures' })\n  public rewardedSignatures: number[][];\n}\n\n/**\n * Represents a version 2 block in the blockchain.\n * A `BlockV2` includes a hash, a header containing metadata, and the body containing the block's transactions and related data.\n */\n@jsonObject\nexport class BlockV2 {\n  /**\n   * The unique hash of the block, used to identify and verify the block in the blockchain.\n   */\n  @jsonMember({\n    name: 'hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public hash: Hash;\n\n  /**\n   * The header of the block, which contains metadata such as the block's height, parent hash, and protocol version.\n   */\n  @jsonMember({ name: 'header', constructor: BlockHeaderV2 })\n  public header: BlockHeaderV2;\n\n  /**\n   * The body of the block, which contains the transactions, deploys, and other data related to the block's content.\n   */\n  @jsonMember({ name: 'body', constructor: BlockBodyV2 })\n  public body: BlockBodyV2;\n}\n\n/**\n * A wrapper for blocks that can contain either a version 1 or version 2 block.\n */\n@jsonObject\nexport class BlockWrapper {\n  /**\n   * A version 1 block, if available.\n   */\n  @jsonMember({ name: 'Version1', constructor: BlockV1 })\n  public blockV1?: BlockV1;\n\n  /**\n   * A version 2 block, if available.\n   */\n  @jsonMember({ name: 'Version2', constructor: BlockV2 })\n  public blockV2?: BlockV2;\n}\n\n/**\n * A block with associated proofs, which include cryptographic signatures for verification.\n */\n@jsonObject\nexport class BlockWithSignatures {\n  /**\n   * The block object containing either a version 1 or version 2 block.\n   */\n  @jsonMember({ name: 'block', constructor: BlockWrapper })\n  public block: BlockWrapper;\n\n  /**\n   * The list of proofs associated with the block, used for validating its authenticity.\n   */\n  @jsonArrayMember(Proof, { name: 'proofs' })\n  public proofs: Proof[];\n}\n\n/**\n * A wrapper for block headers, which can contain either a version 1 or version 2 block header.\n */\n@jsonObject\nexport class BlockHeaderWrapper {\n  /**\n   * A version 1 block header, if available.\n   */\n  @jsonMember({ name: 'Version1', constructor: BlockHeaderV1 })\n  public blockHeaderV1?: BlockHeaderV1;\n\n  /**\n   * A version 2 block header, if available.\n   */\n  @jsonMember({ name: 'Version2', constructor: BlockHeaderV2 })\n  public blockHeaderV2?: BlockHeaderV2;\n}\n\n/**\n * Represents a block header that can be either version 1 or version 2, with various metadata about the block.\n */\n@jsonObject\nexport class BlockHeader {\n  /**\n   * The accumulated seed used for randomness in block generation.\n   */\n  @jsonMember({\n    name: 'accumulated_seed',\n    constructor: Hash,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: (value: Hash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public accumulatedSeed?: Hash;\n\n  /**\n   * The hash of the block's body, used to verify the block's contents.\n   */\n  @jsonMember({\n    name: 'body_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public bodyHash: Hash;\n\n  /**\n   * The era ID in which the block was created.\n   */\n  @jsonMember({ name: 'era_id', constructor: Number })\n  public eraID: number;\n\n  /**\n   * The current gas price for transactions within this block.\n   */\n  @jsonMember({ name: 'current_gas_price', constructor: Number })\n  public currentGasPrice: number;\n\n  /**\n   * The height of the block in the blockchain.\n   */\n  @jsonMember({ name: 'height', constructor: Number })\n  public height: number;\n\n  /**\n   * The hash of the parent block.\n   */\n  @jsonMember({\n    name: 'parent_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public parentHash: Hash;\n\n  /**\n   * The proposer who created this block.\n   */\n  @jsonMember({\n    name: 'proposer',\n    constructor: Proposer,\n    deserializer: (json: string) => Proposer.fromJSON(json),\n    serializer: (value: Proposer) => value.toJSON()\n  })\n  public proposer: Proposer;\n\n  /**\n   * The protocol version used for this block.\n   */\n  @jsonMember({ name: 'protocol_version', constructor: String })\n  public protocolVersion?: string;\n\n  /**\n   * A random bit used for consensus.\n   */\n  @jsonMember({ name: 'random_bit', constructor: Boolean })\n  public randomBit: boolean;\n\n  /**\n   * The hash of the state root.\n   */\n  @jsonMember({\n    name: 'state_root_hash',\n    constructor: Hash,\n    deserializer: (json: string) => Hash.fromJSON(json),\n    serializer: (value: Hash) => value.toJSON()\n  })\n  public stateRootHash: Hash;\n\n  /**\n   * The timestamp indicating when the block was created.\n   */\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp,\n    deserializer: (json: string) => Timestamp.fromJSON(json),\n    serializer: (value: Timestamp) => value.toJSON()\n  })\n  public timestamp: Timestamp;\n\n  /**\n   * The era end details, if available, for this block's era.\n   */\n  @jsonMember({ name: 'era_end', constructor: EraEnd })\n  public eraEnd?: EraEnd | null;\n\n  private originBlockHeaderV1?: BlockHeaderV1;\n  private originBlockHeaderV2?: BlockHeaderV2;\n\n  /**\n   * Retrieves the version 1 block header, if available.\n   * @returns The version 1 block header, or `undefined` if not available.\n   */\n  public getBlockHeaderV1(): BlockHeaderV1 | undefined {\n    return this.originBlockHeaderV1;\n  }\n\n  /**\n   * Retrieves the version 2 block header, if available.\n   * @returns The version 2 block header, or `undefined` if not available.\n   */\n  public getBlockHeaderV2(): BlockHeaderV2 | undefined {\n    return this.originBlockHeaderV2;\n  }\n\n  /**\n   * Creates a new `BlockHeader` instance from a version 1 block header.\n   * @param header - The version 1 block header.\n   * @returns A new `BlockHeader` instance.\n   */\n  static newBlockHeaderFromV1(header: BlockHeaderV1): BlockHeader {\n    const blockHeader = new BlockHeader();\n    blockHeader.accumulatedSeed = header.accumulatedSeed;\n    blockHeader.bodyHash = header.bodyHash;\n    blockHeader.eraID = header.eraID;\n    blockHeader.currentGasPrice = 1;\n    blockHeader.height = header.height;\n    blockHeader.parentHash = header.parentHash;\n    blockHeader.protocolVersion = header.protocolVersion;\n    blockHeader.randomBit = header.randomBit;\n    blockHeader.stateRootHash = header.stateRootHash;\n    blockHeader.timestamp = header.timestamp;\n    blockHeader.eraEnd = header.eraEnd\n      ? EraEnd.fromV1(header.eraEnd)\n      : undefined;\n    blockHeader['originBlockHeaderV1'] = header;\n    return blockHeader;\n  }\n\n  /**\n   * Creates a new `BlockHeader` instance from a version 2 block header.\n   * @param header - The version 2 block header.\n   * @returns A new `BlockHeader` instance.\n   */\n  static newBlockHeaderFromV2(header: BlockHeaderV2): BlockHeader {\n    const blockHeader = new BlockHeader();\n    blockHeader.accumulatedSeed = header.accumulatedSeed;\n    blockHeader.bodyHash = header.bodyHash;\n    blockHeader.eraID = header.eraID;\n    blockHeader.currentGasPrice = header.currentGasPrice;\n    blockHeader.height = header.height;\n    blockHeader.parentHash = header.parentHash;\n    blockHeader.proposer = header.proposer;\n    blockHeader.protocolVersion = header.protocolVersion;\n    blockHeader.randomBit = header.randomBit;\n    blockHeader.stateRootHash = header.stateRootHash;\n    blockHeader.timestamp = header.timestamp;\n    blockHeader.eraEnd = header.eraEnd\n      ? EraEnd.fromV2(header.eraEnd)\n      : undefined;\n    blockHeader['originBlockHeaderV2'] = header;\n    return blockHeader;\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport * as keypair from './keypair';\n\n/**\n * Represents a proposer in the blockchain context.\n * A proposer is an entity that proposes new blocks, identified by a public key\n * and an optional system status.\n */\n@jsonObject\nexport class Proposer {\n  /**\n   * Indicates if the proposer is a system-level entity (without a public key).\n   */\n  @jsonMember({ name: 'isSystem', constructor: Boolean })\n  isSystem: boolean;\n\n  /**\n   * Public key of the proposer, defined if the proposer is not a system entity.\n   */\n  @jsonMember({\n    name: 'publicKey',\n    constructor: keypair.PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return keypair.PublicKey.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  publicKey?: keypair.PublicKey;\n\n  /**\n   * Constructs a new `Proposer` instance.\n   * @param isSystem - Indicates if the proposer is a system-level proposer.\n   * @param publicKey - Optional public key if the proposer is not a system entity.\n   */\n  constructor(isSystem = false, publicKey?: keypair.PublicKey) {\n    this.isSystem = isSystem;\n    this.publicKey = publicKey;\n  }\n\n  /**\n   * Creates a `Proposer` instance from a string representation.\n   * @param src - A string representing the proposer. '00' indicates a system proposer.\n   * @returns A new `Proposer` instance.\n   */\n  static fromString(src: string): Proposer {\n    if (src === '00') {\n      return new Proposer(true);\n    }\n    const pubKey = keypair.PublicKey.fromJSON(src);\n    return new Proposer(false, pubKey);\n  }\n\n  /**\n   * Checks if the proposer is a system-level entity.\n   * @returns `true` if the proposer is a system entity, otherwise `false`.\n   */\n  isSystemProposer(): boolean {\n    return this.isSystem;\n  }\n\n  /**\n   * Retrieves the public key of the proposer.\n   * Throws an error if the proposer is a system entity without a public key.\n   * @returns The public key of the proposer.\n   * @throws Will throw an error if the proposer is a system proposer.\n   */\n  getPublicKey(): keypair.PublicKey {\n    if (this.isSystem) {\n      throw new Error(\"System proposer doesn't have a public key\");\n    }\n    return this.publicKey!;\n  }\n\n  /**\n   * Retrieves the public key of the proposer, if available.\n   * @returns The public key if defined; otherwise, `undefined`.\n   */\n  getPublicKeyOptional(): keypair.PublicKey | undefined {\n    return this.publicKey;\n  }\n\n  /**\n   * Serializes the proposer instance to JSON.\n   * System proposers are represented as '00'; otherwise, the public key is serialized.\n   * @returns A JSON string representing the proposer.\n   */\n  toJSON(): string {\n    return this.isSystem ? '00' : this?.publicKey!.toJSON();\n  }\n\n  /**\n   * Deserializes a JSON string to create a `Proposer` instance.\n   * @param json - A JSON string representing the proposer.\n   * @returns A new `Proposer` instance.\n   */\n  static fromJSON(json: string): Proposer {\n    if (json === '00') {\n      return new Proposer(true);\n    }\n    const pubKey = keypair.PublicKey.fromJSON(json);\n    return new Proposer(false, pubKey);\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { HexBytes } from './HexBytes';\n\n/**\n * Represents the system's bytecode with its type and raw bytes.\n */\n@jsonObject\nexport class SystemByteCode {\n  /**\n   * The type of the bytecode, represented as a string.\n   */\n  @jsonMember({\n    constructor: String\n  })\n  kind: string;\n\n  /**\n   * The raw bytecode data in hexadecimal format.\n   */\n  @jsonMember({\n    constructor: HexBytes,\n    deserializer: json => HexBytes.fromJSON(json),\n    serializer: (value: HexBytes) => value.toJSON()\n  })\n  bytes: HexBytes;\n\n  /**\n   * Creates an instance of SystemByteCode.\n   * @param kind - The type of the bytecode.\n   * @param bytes - The bytecode data in hexadecimal format.\n   */\n  constructor(kind: string, bytes: HexBytes) {\n    this.kind = kind;\n    this.bytes = bytes;\n  }\n\n  /**\n   * Checks if the bytecode kind is empty or undefined.\n   * @returns `true` if the kind is \"Empty\" or not set; otherwise, `false`.\n   */\n  public isEmpty(): boolean {\n    return this.kind === 'Empty' || !this.kind;\n  }\n\n  /**\n   * Checks if the bytecode kind is of type \"V1CasperWasm\".\n   * @returns `true` if the kind is \"V1CasperWasm\"; otherwise, `false`.\n   */\n  public isV1CasperWasm(): boolean {\n    return this.kind === 'V1CasperWasm';\n  }\n\n  /**\n   * Returns a string representation of the bytecode kind.\n   * @returns The kind of the bytecode as a string.\n   */\n  public toString(): string {\n    return this.kind;\n  }\n}\n","import { BigNumber, BigNumberish } from '@ethersproject/bignumber';\nimport { MaxUint256, NegativeOne, One, Zero } from '@ethersproject/constants';\nimport { arrayify, concat } from '@ethersproject/bytes';\nimport { blake2b } from '@noble/hashes/blake2b';\n\n/**\n * Converts a BigNumberish value to bytes with specified bit size and signedness.\n * @param bitSize - The bit size of the integer.\n * @param signed - `true` if the integer is signed; `false` otherwise.\n * @returns A function that converts a BigNumberish value into a `Uint8Array` byte representation.\n */\nexport const toBytesNumber = (bitSize: number, signed: boolean) => (\n  value: BigNumberish\n): Uint8Array => {\n  const val = BigNumber.from(value);\n\n  // Calculate the maximum allowed unsigned value for the given bit size\n  const maxUintValue = MaxUint256.mask(bitSize);\n\n  if (signed) {\n    // Calculate signed bounds for the given bit size\n    const bounds = maxUintValue.mask(bitSize - 1);\n    if (val.gt(bounds) || val.lt(bounds.add(One).mul(NegativeOne))) {\n      throw new Error('value out-of-bounds, value: ' + value);\n    }\n  } else if (val.lt(Zero) || val.gt(maxUintValue.mask(bitSize))) {\n    throw new Error('value out-of-bounds, value: ' + value);\n  }\n\n  const valTwos = val.toTwos(bitSize).mask(bitSize);\n\n  const bytes = arrayify(valTwos);\n\n  if (valTwos.gte(0)) {\n    if (bitSize > 64) {\n      if (valTwos.eq(0)) {\n        return bytes;\n      }\n      return concat([bytes, Uint8Array.from([bytes.length])])\n        .slice()\n        .reverse();\n    } else {\n      const byteLength = bitSize / 8;\n      return concat([\n        bytes.slice().reverse(),\n        new Uint8Array(byteLength - bytes.length)\n      ]);\n    }\n  } else {\n    return bytes.reverse();\n  }\n};\n\n/**\n * Converts an 8-bit unsigned integer (`u8`) to little-endian byte format.\n */\nexport const toBytesU8 = toBytesNumber(8, false);\n\n/**\n * Converts an 16-bit unsigned integer (`u16`) to little-endian byte format.\n */\nexport const toBytesU16 = toBytesNumber(16, false);\n\n/**\n * Converts a 32-bit signed integer (`i32`) to little-endian byte format.\n */\nexport const toBytesI32 = toBytesNumber(32, true);\n\n/**\n * Converts a 32-bit unsigned integer (`u32`) to little-endian byte format.\n */\nexport const toBytesU32 = toBytesNumber(32, false);\n\n/**\n * Converts a 64-bit unsigned integer (`u64`) to little-endian byte format.\n */\nexport const toBytesU64 = toBytesNumber(64, false);\n\n/**\n * Converts a 64-bit signed integer (`i64`) to little-endian byte format.\n */\nexport const toBytesI64 = toBytesNumber(64, true);\n\n/**\n * Converts a 128-bit unsigned integer (`u128`) to little-endian byte format.\n */\nexport const toBytesU128 = toBytesNumber(128, false);\n\n/**\n * Converts a 256-bit unsigned integer (`u256`) to little-endian byte format.\n */\nexport const toBytesU256 = toBytesNumber(256, false);\n\n/**\n * Converts a 512-bit unsigned integer (`u512`) to little-endian byte format.\n */\nexport const toBytesU512 = toBytesNumber(512, false);\n\n/**\n * Serializes a string into a byte array.\n * @param str - The string to be converted.\n * @returns A `Uint8Array` representation of the string, including its length as a `u32` prefix.\n */\nexport function toBytesString(str: string): Uint8Array {\n  const arr = Uint8Array.from(Buffer.from(str));\n  return concat([toBytesU32(arr.byteLength), arr]);\n}\n\n/**\n * Deserializes a byte array into a string.\n * @param byte - `Uint8Array` representing the serialized string.\n * @returns The deserialized string.\n */\nexport const fromBytesString = (byte: Uint8Array): string => {\n  return Buffer.from(byte).toString();\n};\n\n/**\n * Serializes an array of `u8` values, equivalent to `Vec<u8>` in Rust.\n * @param arr - A `Uint8Array` buffer of `u8` integers.\n * @returns A serialized `Uint8Array` with the array's length as a `u32` prefix.\n */\nexport function toBytesArrayU8(arr: Uint8Array): Uint8Array {\n  return concat([toBytesU32(arr.length), arr]);\n}\n\n/**\n * Computes the Blake2b hash of a byte array.\n * @param x - A `Uint8Array` byte array to compute the Blake2b hash on.\n * @returns A `Uint8Array` buffer containing the 32-byte Blake2b hash.\n */\nexport function byteHash(x: Uint8Array): Uint8Array {\n  return blake2b(x, { dkLen: 32 });\n}\n\n/**\n * Parses a 16-bit unsigned integer (`u16`) from a little-endian byte array.\n * @param bytes - The byte array containing the `u16` value.\n * @returns The parsed 16-bit unsigned integer.\n */\nexport function parseU16(bytes: Uint8Array): number {\n  if (bytes.length < 2) {\n    throw new Error('Invalid byte array for u16 parsing');\n  }\n  return bytes[0] | (bytes[1] << 8);\n}\n\n/**\n * Parses a 32-bit unsigned integer (`u32`) from a little-endian byte array.\n * @param bytes - The byte array containing the `u32` value.\n * @returns The parsed 32-bit unsigned integer.\n */\nexport function parseU32(bytes: Uint8Array): number {\n  if (bytes.length < 4) {\n    throw new Error('Invalid byte array for u32 parsing');\n  }\n\n  return bytes[0] | (bytes[1] << 8) | (bytes[2] << 16) | (bytes[3] << 24);\n}\n\n/**\n * Parses a 64-bit unsigned integer (`u64`) from a little-endian byte array.\n * @param bytes - A `Uint8Array` containing the serialized 64-bit unsigned integer.\n * @returns A `BigNumber` representing the parsed value.\n */\nexport const fromBytesU64 = (bytes: Uint8Array): BigNumber => {\n  if (bytes.length !== 8) {\n    throw new Error(\n      `Invalid input length for u64: expected 8 bytes, got ${bytes.length}`\n    );\n  }\n\n  // Convert the little-endian bytes into a BigNumber\n  return BigNumber.from(bytes.reverse());\n};\n\n/**\n * Writes a 32-bit signed integer to a `DataView` at the specified offset.\n *\n * The integer is written in little-endian format.\n *\n * @param view - The `DataView` instance where the integer will be written.\n * @param offset - The offset (in bytes) at which to start writing.\n * @param value - The 32-bit signed integer to write.\n * @returns The new offset after writing the integer.\n *\n * @example\n * ```typescript\n * const buffer = new ArrayBuffer(8);\n * const view = new DataView(buffer);\n * let offset = 0;\n * offset = writeInteger(view, offset, 42);\n * console.log(new Int32Array(buffer)); // Logs: Int32Array [42, 0]\n * ```\n */\nexport const writeInteger = (\n  view: DataView,\n  offset: number,\n  value: number\n): number => {\n  view.setInt32(offset, value, true);\n  return offset + 4;\n};\n\n/**\n * Writes a 16-bit unsigned integer to a `DataView` at the specified offset.\n *\n * The integer is written in little-endian format.\n *\n * @param view - The `DataView` instance where the integer will be written.\n * @param offset - The offset (in bytes) at which to start writing.\n * @param value - The 16-bit unsigned integer to write.\n * @returns The new offset after writing the integer.\n *\n * @example\n * ```typescript\n * const buffer = new ArrayBuffer(4);\n * const view = new DataView(buffer);\n * let offset = 0;\n * offset = writeUShort(view, offset, 65535);\n * console.log(new Uint16Array(buffer)); // Logs: Uint16Array [65535, 0]\n * ```\n */\nexport const writeUShort = (\n  view: DataView,\n  offset: number,\n  value: number\n): number => {\n  view.setUint16(offset, value, true);\n  return offset + 2;\n};\n\n/**\n * Writes a sequence of bytes (as a `Uint8Array`) to a `DataView` at the specified offset.\n *\n * Each byte in the array is written in sequence, starting from the given offset.\n *\n * @param view - The `DataView` instance where the bytes will be written.\n * @param offset - The offset (in bytes) at which to start writing.\n * @param value - The `Uint8Array` containing the bytes to write.\n * @returns The new offset after writing the bytes.\n *\n * @example\n * ```typescript\n * const buffer = new ArrayBuffer(10);\n * const view = new DataView(buffer);\n * let offset = 0;\n * offset = writeBytes(view, offset, new Uint8Array([1, 2, 3, 4]));\n * console.log(new Uint8Array(buffer)); // Logs: Uint8Array [1, 2, 3, 4, 0, 0, 0, 0, 0, 0]\n * ```\n */\nexport const writeBytes = (\n  view: DataView,\n  offset: number,\n  value: Uint8Array\n): number => {\n  for (let i = 0; i < value.length; i++) {\n    view.setUint8(offset + i, value[i]);\n  }\n  return offset + value.length;\n};\n\n/**\n * Expands the size of an existing ArrayBuffer to accommodate additional data if necessary.\n *\n * This function creates a new `ArrayBuffer` with a size that is at least as large as\n * the required size. The buffer's size grows exponentially (doubles) to minimize\n * reallocations and improve performance for large data handling.\n * The existing data from the old buffer is copied into the new buffer.\n *\n * @param currentBuffer - The current `ArrayBuffer` that needs to be expanded.\n * @param requiredSize - The minimum size required for the buffer.\n * @returns A new `ArrayBuffer` with enough space to accommodate the required size.\n *\n * @example\n * ```typescript\n * let buffer = new ArrayBuffer(1024);\n * const updatedBuffer = expandBuffer(buffer, 2048);\n * console.log(updatedBuffer.byteLength); // 2048 or larger (depending on initial size and required size)\n * ```\n */\nexport const expandBuffer = (\n  currentBuffer: ArrayBuffer,\n  requiredSize: number\n): ArrayBuffer => {\n  let newSize = currentBuffer.byteLength;\n  while (newSize < requiredSize) {\n    newSize *= 2; // Double the buffer size until it fits\n  }\n  const newBuffer = new ArrayBuffer(newSize);\n  new Uint8Array(newBuffer).set(new Uint8Array(currentBuffer)); // Copy existing data\n  return newBuffer;\n};\n","import { concat } from '@ethersproject/bytes';\nimport { parseU16, parseU32, toBytesU16, toBytesU32 } from './ByteConverters';\n\n/**\n * Represents a single field in the call table.\n */\nexport class Field {\n  readonly index: number;\n  readonly offset: number;\n  value: Uint8Array;\n\n  /**\n   * Constructs a new `Field` instance.\n   *\n   * @param index - The index of the field.\n   * @param offset - The offset of the field in the payload.\n   * @param value - The byte array value of the field.\n   */\n  constructor(index: number, offset: number, value: Uint8Array) {\n    this.index = index;\n    this.offset = offset;\n    this.value = value;\n  }\n\n  /**\n   * Calculates the serialized vector size for the given number of fields.\n   *\n   * This method determines the size of the serialized vector required\n   * to store all fields, including their indices and offsets.\n   *\n   * @returns The size of the serialized vector in bytes.\n   */\n  static serializedVecSize(): number {\n    return 4 + 4 * 2; // Number of fields (4 bytes) + index/offset pairs (4 bytes each)\n  }\n}\n\n/**\n * Handles serialization and deserialization of call table data.\n *\n * The `CalltableSerialization` class is responsible for managing a collection\n * of fields and converting them into a byte array for serialization. It can\n * also reconstruct the fields from a serialized byte array.\n */\nexport class CalltableSerialization {\n  private fields: Field[] = [];\n  private currentOffset = 0;\n\n  /**\n   * Adds a field to the call table.\n   *\n   * @param index - The field index.\n   * @param value - The field value as a byte array.\n   * @returns The current instance of `CalltableSerialization`.\n   * @throws An error if the fields are not added in the correct index order.\n   */\n  addField(index: number, value: Uint8Array): CalltableSerialization {\n    if (this.fields.length !== index) {\n      throw new Error('Add fields in correct index order.');\n    }\n\n    const field = new Field(index, this.currentOffset, value);\n    this.fields.push(field);\n    this.currentOffset += value.length;\n\n    return this;\n  }\n\n  /**\n   * Serializes the call table into a byte array.\n   *\n   * @returns A `Uint8Array` representing the serialized call table.\n   */\n  toBytes(): Uint8Array {\n    const calltableBytes: Uint8Array[] = [];\n    const payloadBytes: Uint8Array[] = [];\n\n    calltableBytes.push(toBytesU32(this.fields.length));\n\n    for (const field of this.fields) {\n      calltableBytes.push(toBytesU16(field.index));\n      calltableBytes.push(toBytesU32(field.offset));\n      payloadBytes.push(field.value);\n    }\n\n    calltableBytes.push(toBytesU32(this.currentOffset));\n\n    return concat([...calltableBytes, ...payloadBytes]);\n  }\n\n  /**\n   * Retrieves a specific field by its index.\n   *\n   * @param index - The index of the field to retrieve.\n   * @returns The field value as a `Uint8Array`, or `undefined` if the field is not found.\n   */\n  getField(index: number): Uint8Array | undefined {\n    const field = this.fields.find(f => f.index === index);\n    return field ? field.value : undefined;\n  }\n\n  /**\n   * Deserializes a byte array into a `CalltableSerialization` object.\n   *\n   * This method reconstructs the call table and its fields from a serialized byte array.\n   *\n   * @param bytes - The serialized byte array.\n   * @returns A `CalltableSerialization` instance containing the deserialized fields.\n   * @throws An error if the byte array is invalid or missing required fields.\n   */\n  static fromBytes(bytes: Uint8Array): CalltableSerialization {\n    const instance = new CalltableSerialization();\n    let offset = 0;\n\n    // Read the number of fields\n    const fieldCount = parseU32(bytes.slice(offset, offset + 4));\n    offset += 4;\n\n    const fields: Field[] = [];\n    for (let i = 0; i < fieldCount; i++) {\n      const index = parseU16(bytes.slice(offset, offset + 2));\n      offset += 2;\n      const fieldOffset = parseU32(bytes.slice(offset, offset + 4));\n      offset += 4;\n\n      // Initialize each field with an empty value\n      fields.push(new Field(index, fieldOffset, new Uint8Array()));\n    }\n\n    // Read the total payload size\n    const payloadSize = parseU32(bytes.slice(offset, offset + 4));\n    offset += 4;\n\n    // Extract field values based on their offsets\n    for (let i = 0; i < fields.length; i++) {\n      const start = fields[i].offset;\n      const end = i + 1 < fields.length ? fields[i + 1].offset : payloadSize;\n      fields[i].value = bytes.slice(offset + start, offset + end);\n    }\n\n    instance.fields = fields;\n    instance.currentOffset = payloadSize;\n    return instance;\n  }\n}\n","import { jsonArrayMember, jsonMember, jsonObject } from 'typedjson';\nimport { ContractHash, ContractPackageHash } from './key';\nimport { NamedEntryPoint } from './AddressableEntity';\nimport { NamedKey } from './NamedKey';\n\n/**\n * Represents a smart contract on the blockchain, including its unique identifiers, entry points, named keys, and protocol version.\n */\n@jsonObject\nexport class Contract {\n  /**\n   * The unique hash representing the contract package.\n   */\n  @jsonMember({\n    name: 'contract_package_hash',\n    constructor: ContractPackageHash,\n    deserializer: json => ContractPackageHash.fromJSON(json),\n    serializer: (value: ContractPackageHash) => value.toJSON()\n  })\n  contractPackageHash: ContractPackageHash;\n\n  /**\n   * The unique hash representing the WebAssembly (Wasm) code of the contract.\n   */\n  @jsonMember({\n    name: 'contract_wasm_hash',\n    constructor: ContractHash,\n    deserializer: json => ContractHash.fromJSON(json),\n    serializer: (value: ContractHash) => value.toJSON()\n  })\n  contractWasmHash: ContractHash;\n\n  /**\n   * The list of entry points (functions) that can be called on this contract.\n   */\n  @jsonArrayMember(NamedEntryPoint, {\n    name: 'entry_points',\n    deserializer: json => {\n      if (!json) return;\n      return json.map((it: NamedEntryPoint) => NamedEntryPoint.fromJSON(it));\n    }\n  })\n  entryPoints: NamedEntryPoint[];\n\n  /**\n   * The named keys associated with the contract, providing access to specific values or data stored by the contract.\n   */\n  @jsonArrayMember(NamedKey, { name: 'named_keys' })\n  namedKeys: NamedKey[];\n\n  /**\n   * The protocol version of the contract, indicating compatibility with specific blockchain protocol versions.\n   */\n  @jsonMember({ name: 'protocol_version', constructor: String })\n  protocolVersion: string;\n\n  /**\n   * Constructs a new `Contract` instance.\n   * @param contractPackageHash - The unique hash for the contract package.\n   * @param contractWasmHash - The unique hash for the Wasm code of the contract.\n   * @param entryPoints - An array of entry points defining functions available in the contract.\n   * @param namedKeys - Named keys providing access to specific stored data within the contract.\n   * @param protocolVersion - The protocol version for this contract.\n   */\n  constructor(\n    contractPackageHash: ContractPackageHash,\n    contractWasmHash: ContractHash,\n    entryPoints: NamedEntryPoint[],\n    namedKeys: NamedKey[],\n    protocolVersion: string\n  ) {\n    this.contractPackageHash = contractPackageHash;\n    this.contractWasmHash = contractWasmHash;\n    this.entryPoints = entryPoints;\n    this.namedKeys = namedKeys;\n    this.protocolVersion = protocolVersion;\n  }\n}\n","import { jsonArrayMember, jsonMember, jsonObject, TypedJSON } from 'typedjson';\nimport { ContractHash, URef } from './key';\nimport { deserializeDisabledVersions } from './SerializationUtils';\n\nexport interface IDisabledVersion {\n  protocol_version_major: number;\n  contract_version: number;\n}\n\n/**\n * Represents a group of keys associated with a contract, allowing access control and permissions management.\n */\n@jsonObject\nexport class ContractGroup {\n  /**\n   * The name of the group.\n   */\n  @jsonMember({ name: 'group_name', constructor: String, preserveNull: true })\n  groupName: string;\n\n  /**\n   * The list of URef keys associated with this group, defining permissions for contract interaction.\n   */\n  @jsonArrayMember(URef, {\n    name: 'group_users',\n    serializer: (value: URef[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) => {\n      if (!json) return;\n      return json.map((it: string) => URef.fromJSON(it));\n    }\n  })\n  groupUsers: URef[];\n\n  /**\n   * Converts a plain JSON object into an instance of `ContractGroup`.\n   *\n   * @param json The JSON object to parse.\n   * @returns An instance of `ContractGroup` or `undefined` if parsing fails.\n   */\n  public static fromJSON(json: any): ContractGroup | undefined {\n    const serializer = new TypedJSON(ContractGroup);\n    const contractGroup = serializer.parse(json);\n\n    // V1 Compatible\n    if (contractGroup) {\n      if (Array.isArray(json?.keys)) {\n        contractGroup.groupUsers = json.keys.map((it: any) =>\n          URef.fromJSON(it)\n        );\n      }\n\n      if (typeof json?.group === 'string') {\n        contractGroup.groupName = json.group;\n      }\n    }\n\n    return contractGroup;\n  }\n}\n\n/**\n * Represents a specific version of a contract, identified by a unique hash and protocol compatibility.\n */\n@jsonObject\nexport class ContractVersion {\n  /**\n   * The unique hash identifying this version of the contract.\n   */\n  @jsonMember({\n    name: 'contract_hash',\n    constructor: ContractHash,\n    deserializer: json => ContractHash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  contractHash: ContractHash;\n\n  /**\n   * The version number of the contract.\n   */\n  @jsonMember({ name: 'contract_version', constructor: Number })\n  contractVersion: number;\n\n  /**\n   * Major version of the protocol that this contract version is compatible with.\n   */\n  @jsonMember({ name: 'protocol_version_major', constructor: Number })\n  protocolVersionMajor: number;\n\n  /**\n   * Constructs a new `ContractVersion` instance.\n   * @param contractHash - The unique hash for this version of the contract.\n   * @param contractVersion - The version number of the contract.\n   * @param protocolVersionMajor - The major protocol version compatible with this contract.\n   */\n  constructor(\n    contractHash: ContractHash,\n    contractVersion: number,\n    protocolVersionMajor: number\n  ) {\n    this.contractHash = contractHash;\n    this.contractVersion = contractVersion;\n    this.protocolVersionMajor = protocolVersionMajor;\n  }\n}\n\n/**\n * Represents a package containing different versions and groups of a contract, including access control and lock status.\n */\n@jsonObject\nexport class ContractPackage {\n  /**\n   * Access key (URef) for the contract package, controlling permissions.\n   */\n  @jsonMember({\n    name: 'access_key',\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  accessKey: URef;\n\n  /**\n   * Array of disabled contract versions, marking incompatible versions.\n   */\n  @jsonArrayMember(Number, {\n    name: 'disabled_versions',\n    dimensions: 2,\n    deserializer: json => {\n      if (!json) return;\n      return deserializeDisabledVersions(json);\n    }\n  })\n  disabledVersions: number[][];\n\n  /**\n   * Array of contract groups, managing access control with sets of URef keys.\n   */\n  @jsonArrayMember(ContractGroup, {\n    name: 'groups',\n    deserializer: json => {\n      if (!json) return;\n      return json.map((it: ContractGroup) => ContractGroup.fromJSON(it));\n    }\n  })\n  groups: ContractGroup[];\n\n  /**\n   * Array of contract versions, each compatible with a specific protocol version.\n   */\n  @jsonArrayMember(ContractVersion, { name: 'versions' })\n  versions: ContractVersion[];\n\n  /**\n   * Lock status of the contract package, indicating whether the package is locked or unlocked.\n   */\n  @jsonMember({ name: 'lock_status', constructor: String })\n  lockStatus: string;\n\n  /**\n   * Constructs a new `ContractPackage` instance.\n   * @param accessKey - The URef access key for controlling the contract package.\n   * @param disabledVersions - Array of disabled contract versions.\n   * @param groups - Array of contract groups for access management.\n   * @param versions - Array of contract versions within this package.\n   * @param lockStatus - The lock status of the contract package.\n   */\n  constructor(\n    accessKey: URef,\n    disabledVersions: number[][],\n    groups: ContractGroup[],\n    versions: ContractVersion[],\n    lockStatus: string\n  ) {\n    this.accessKey = accessKey;\n    this.disabledVersions = disabledVersions;\n    this.groups = groups;\n    this.versions = versions;\n    this.lockStatus = lockStatus;\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\n\n/**\n * A container for contract's WASM bytes.\n */\n@jsonObject\nexport class ContractWasm {\n  /**\n   * The WASM bytes of the contract as a string.\n   */\n  @jsonMember({ name: 'bytes', constructor: String })\n  public bytes!: string;\n\n  constructor(bytes: string) {\n    this.bytes = bytes;\n  }\n}\n","import { BigNumber, BigNumberish } from '@ethersproject/bignumber';\n\n/**\n * A utility class for various data conversions used in the Casper ecosystem.\n * Provides methods to convert between different encodings (Base64, Base16) and to perform conversions between CSPR and motes.\n */\nexport class Conversions {\n  /**\n   * Encodes a `Uint8Array` into a string using Base-64 encoding.\n   *\n   * @param bytes - The `Uint8Array` to be encoded.\n   * @returns A Base-64 encoded string representation of the input bytes.\n   *\n   * @example\n   * const bytes = new Uint8Array([72, 101, 108, 108, 111]);\n   * const base64 = Conversions.encodeBase64(bytes);\n   * console.log(base64); // Outputs: \"SGVsbG8=\"\n   */\n  static encodeBase64(bytes: Uint8Array): string {\n    return Buffer.from(bytes).toString('base64');\n  }\n\n  /**\n   * Decodes a Base-64 encoded string and returns a `Uint8Array` of bytes.\n   *\n   * @param base64String - The Base-64 encoded string to be decoded.\n   * @returns A `Uint8Array` containing the decoded bytes.\n   *\n   * @example\n   * const base64 = \"SGVsbG8=\";\n   * const bytes = Conversions.decodeBase64(base64);\n   * console.log(bytes); // Outputs: Uint8Array(5) [72, 101, 108, 108, 111]\n   */\n  static decodeBase64(base64String: string): Uint8Array {\n    return new Uint8Array(Buffer.from(base64String, 'base64'));\n  }\n\n  /**\n   * Converts a Base-64 encoded string to a Base-16 (hexadecimal) encoded string.\n   *\n   * @param base64 - The Base-64 encoded string to be converted.\n   * @returns A Base-16 encoded string.\n   *\n   * @example\n   * const base64 = \"SGVsbG8=\";\n   * const base16 = Conversions.base64to16(base64);\n   * console.log(base16); // Outputs: \"48656c6c6f\"\n   */\n  static base64to16(base64: string): string {\n    return Conversions.encodeBase16(Conversions.decodeBase64(base64));\n  }\n\n  /**\n   * Encodes a `Uint8Array` into a string using Base-16 (hexadecimal) encoding.\n   *\n   * @param bytes - The `Uint8Array` to be encoded.\n   * @returns A Base-16 encoded string representation of the input bytes.\n   *\n   * @example\n   * const bytes = new Uint8Array([72, 101, 108, 108, 111]);\n   * const base16 = Conversions.encodeBase16(bytes);\n   * console.log(base16); // Outputs: \"48656c6c6f\"\n   */\n  static encodeBase16(bytes: Uint8Array): string {\n    return Buffer.from(bytes).toString('hex');\n  }\n\n  /**\n   * Decodes a Base-16 (hexadecimal) encoded string and returns a `Uint8Array` of bytes.\n   *\n   * @param base16String - The Base-16 encoded string to be decoded.\n   * @returns A `Uint8Array` containing the decoded bytes.\n   *\n   * @example\n   * const base16 = \"48656c6c6f\";\n   * const bytes = Conversions.decodeBase16(base16);\n   * console.log(bytes); // Outputs: Uint8Array(5) [72, 101, 108, 108, 111]\n   */\n  static decodeBase16(base16String: string): Uint8Array {\n    return new Uint8Array(Buffer.from(base16String, 'hex'));\n  }\n\n  /**\n   * Converts a CSPR amount to its mote equivalent.\n   *\n   * @param cspr - A `string` amount of CSPR to convert to motes.\n   * @returns A `BigNumber` containing the equivalent amount in motes.\n   *\n   * @remarks\n   * 1 CSPR = 10^9 motes\n   *\n   * @example\n   * const cspr = 1;\n   * const motes = Conversions.csprToMotes(cspr);\n   * console.log(motes.toString()); // Outputs: \"1000000000\"\n   */\n  static csprToMotes(cspr: string | number): BigNumber {\n    if (typeof cspr === 'string' && !/^\\d+(\\.\\d+)?$/.test(cspr)) {\n      throw new Error('Invalid input: cspr must be a string representing a valid positive number.');\n    }\n\n    // eslint-disable-next-line prefer-const\n    let [integerPart, decimalPart = \"\"] = cspr.toString().split('.');\n    let result = BigNumber.from(integerPart).mul(10 ** 9);\n\n    if (decimalPart.length > 0) {\n      decimalPart = (decimalPart + '000000000').slice(0, 9);\n\n      result = result.add(decimalPart);\n    }\n\n    return result;\n  }\n\n  /**\n   * Converts an amount in motes to its CSPR equivalent.\n   *\n   * @param motes - A `BigNumberish` amount of motes to convert to CSPR.\n   * @returns A `BigNumber` containing the equivalent amount in CSPR.\n   *\n   * @remarks\n   * This function will round to the nearest whole integer.\n   * 1 mote = 10^-9 CSPR\n   *\n   * @example\n   * const motes = BigNumber.from('1000000000');\n   * const cspr = Conversions.motesToCSPR(motes);\n   * console.log(cspr.toString()); // Outputs: \"1\"\n   */\n  static motesToCSPR(motes: BigNumberish): string {\n    const motesBigNumber = BigNumber.from(motes);\n\n    if (motesBigNumber.lt(0)) {\n      throw new Error('Motes cannot be negative number');\n    }\n\n    const resultStr = motesBigNumber.toBigInt().toString();\n\n    const integerPart = resultStr.slice(0, -9) || \"0\";\n    const decimalPart = resultStr.slice(-9).padStart(9, '0');\n\n    return `${integerPart}.${decimalPart}`.replace(/\\.?0+$/, '');\n  }\n}\n","import { jsonArrayMember, jsonMember, jsonObject, TypedJSON } from 'typedjson';\nimport { concat } from '@ethersproject/bytes';\n\nimport { Hash } from './key';\nimport { HexBytes } from './HexBytes';\nimport { PublicKey, PrivateKey } from './keypair';\nimport { Duration, Timestamp } from './Time';\nimport { Approval, Transaction, TransactionHash } from './Transaction';\nimport {\n  TransactionEntryPoint,\n  TransactionEntryPointEnum\n} from './TransactionEntryPoint';\nimport { InitiatorAddr } from './InitiatorAddr';\nimport { PaymentLimitedMode, PricingMode } from './PricingMode';\nimport { TransactionTarget } from './TransactionTarget';\nimport { TransactionScheduling } from './TransactionScheduling';\nimport { ExecutableDeployItem } from './ExecutableDeployItem';\nimport {\n  byteHash,\n  toBytesString,\n  toBytesU32,\n  toBytesU64\n} from './ByteConverters';\nimport { CLValue } from './clvalue';\n\n/**\n * Represents the header of a deploy in the blockchain.\n * The header contains metadata such as the account initiating the deploy, the body hash, gas price, timestamp, TTL, and dependencies.\n */\n@jsonObject\nexport class DeployHeader {\n  /**\n   * The public key of the account initiating the deploy.\n   * This key is used to verify the identity of the account making the deploy request.\n   */\n  @jsonMember({\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public account?: PublicKey;\n\n  /**\n   * The hash of the body of the deploy, which is used to verify the contents of the deploy.\n   * The body contains the session logic and payment logic of the deploy.\n   */\n  @jsonMember({\n    name: 'body_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public bodyHash?: Hash;\n\n  /**\n   * The name of the blockchain chain that the deploy is associated with.\n   * This helps prevent the deploy from being accidentally or maliciously included in a different chain.\n   */\n  @jsonMember({ name: 'chain_name', constructor: String })\n  public chainName = '';\n\n  /**\n   * A list of other deploys that must be executed before this one.\n   * This ensures dependencies are executed in the correct order.\n   */\n  @jsonArrayMember(Hash, {\n    name: 'dependencies',\n    serializer: (value: Hash[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) => json.map((it: string) => Hash.fromJSON(it))\n  })\n  public dependencies: Hash[] = [];\n\n  /**\n   * The price of gas for executing the deploy.\n   * Gas is used to pay for the computational resources required to process the deploy.\n   */\n  @jsonMember({ name: 'gas_price', constructor: Number })\n  public gasPrice = 1;\n\n  /**\n   * The timestamp when the deploy was created.\n   * This timestamp is used to determine the deploy's position in time.\n   */\n  @jsonMember({\n    constructor: Timestamp,\n    deserializer: json => Timestamp.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public timestamp: Timestamp = new Timestamp(new Date());\n\n  /**\n   * The time-to-live (TTL) for the deploy, after which it will expire if not executed.\n   * The default TTL is 30 minutes.\n   */\n  @jsonMember({\n    constructor: Duration,\n    deserializer: json => Duration.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public ttl: Duration = new Duration(DEFAULT_DEPLOY_TTL);\n\n  /**\n   * Constructs a `DeployHeader` instance with the specified parameters.\n   * @param chainName The name of the blockchain chain.\n   * @param dependencies A list of deploys that must be executed before this one.\n   * @param gasPrice The gas price for the deploy.\n   * @param timestamp The timestamp when the deploy is created.\n   * @param ttl The TTL for the deploy.\n   * @param account The public key of the account initiating the deploy (optional).\n   * @param bodyHash The hash of the body of the deploy (optional).\n   */\n  constructor(\n    chainName = '',\n    dependencies: Hash[] = [],\n    gasPrice = 1,\n    timestamp: Timestamp = new Timestamp(new Date()),\n    ttl: Duration = new Duration(DEFAULT_DEPLOY_TTL),\n    account?: PublicKey,\n    bodyHash?: Hash\n  ) {\n    this.chainName = chainName;\n    this.dependencies = dependencies;\n    this.gasPrice = gasPrice;\n    this.timestamp = timestamp;\n    this.ttl = ttl;\n    this.account = account;\n    this.bodyHash = bodyHash;\n  }\n\n  /**\n   * Converts the deploy header to a byte array for transmission or storage.\n   * @returns A `Uint8Array` representing the deploy header in byte format.\n   */\n  public toBytes(): Uint8Array {\n    const dependenciesBytes = this.dependencies.map(e => e.toBytes());\n    dependenciesBytes.splice(0, 0, toBytesU32(this.dependencies?.length));\n\n    return concat([\n      this.account!.bytes(),\n      toBytesU64(Date.parse(this.timestamp.toJSON())),\n      toBytesU64(this.ttl.duration),\n      toBytesU64(this.gasPrice),\n      this.bodyHash!.toBytes(),\n      concat(dependenciesBytes),\n      toBytesString(this.chainName)\n    ]);\n  }\n\n  /**\n   * Returns a default `DeployHeader` instance with default values.\n   * @returns A `DeployHeader` instance with default values.\n   */\n  public static default(): DeployHeader {\n    return new DeployHeader();\n  }\n}\n\n/**\n * Represents a deploy in the blockchain, including the header, payment, session, and approvals.\n * A `Deploy` object is used to package the logic for executing a contract, payment, or transfer on the blockchain.\n */\n@jsonObject\nexport class Deploy {\n  /**\n   * A list of approvals, including signatures from accounts that have approved the deploy.\n   */\n  @jsonArrayMember(() => Approval)\n  public approvals: Approval[] = [];\n\n  /**\n   * The unique hash that identifies this deploy. This hash is used to verify the integrity of the deploy.\n   */\n  @jsonMember({\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public hash: Hash;\n\n  /**\n   * The header of the deploy, which contains metadata such as the account, gas price, timestamp, and TTL.\n   */\n  @jsonMember({ constructor: DeployHeader })\n  public header: DeployHeader;\n\n  /**\n   * The executable item representing the payment logic of the deploy.\n   */\n  @jsonMember({ constructor: ExecutableDeployItem })\n  public payment: ExecutableDeployItem;\n\n  /**\n   * The executable item representing the session logic of the deploy.\n   */\n  @jsonMember({ constructor: ExecutableDeployItem })\n  public session: ExecutableDeployItem;\n\n  /**\n   * Constructs a `Deploy` object.\n   *\n   * @param hash The deploy hash identifying this deploy.\n   * @param header The deploy header containing metadata.\n   * @param payment The executable deploy item representing the payment logic.\n   * @param session The executable deploy item representing the session logic.\n   * @param approvals An array of signatures and accounts who have approved this deploy.\n   */\n  constructor(\n    hash: Hash,\n    header: DeployHeader,\n    payment: ExecutableDeployItem,\n    session: ExecutableDeployItem,\n    approvals: Approval[]\n  ) {\n    this.approvals = approvals;\n    this.session = session;\n    this.payment = payment;\n    this.header = header;\n    this.hash = hash;\n  }\n\n  /**\n   * Validates the deploy by checking its body hash, deploy hash, and approval signatures.\n   *\n   * @returns `true` if the deploy is valid, otherwise throws an error.\n   */\n  public validate(): boolean {\n    const paymentBytes = this.payment.bytes();\n    const sessionBytes = this.session.bytes();\n    const concatenatedBytes = concat([paymentBytes, sessionBytes]);\n    const calculatedBodyHash = new Hash(byteHash(concatenatedBytes));\n\n    const headerBytes = this.header.toBytes();\n    const calculatedHash = new Hash(byteHash(headerBytes));\n\n    if (\n      !this.header.bodyHash?.equals(calculatedBodyHash) ||\n      !this.hash.equals(calculatedHash)\n    ) {\n      throw new Error('Invalid deploy hash or body hash');\n    }\n\n    this.approvals.forEach(approval => {\n      if (\n        !approval.signer.verifySignature(\n          this.hash.toBytes(),\n          approval.signature.bytes\n        )\n      ) {\n        throw new Error('Invalid approval signature');\n      }\n    });\n\n    return true;\n  }\n\n  /**\n   * Signs the deploy with a given private key and adds the signature to the approvals list.\n   *\n   * @param keys The private key used to sign the deploy.\n   */\n  public sign(keys: PrivateKey): void {\n    const signatureBytes = keys.signAndAddAlgorithmBytes(this.hash.toBytes());\n    const signature = new HexBytes(signatureBytes);\n    this.approvals.push(new Approval(keys.publicKey, signature));\n  }\n\n  /**\n   * Converts the deploy object into a byte array for transmission or storage.\n   *\n   * @returns A `Uint8Array` representing the deploy in byte format.\n   */\n  toBytes(): Uint8Array {\n    return concat([\n      this.header.toBytes(),\n      this.hash.toBytes(),\n      concat([this.payment.bytes(), this.session.bytes()]),\n      Approval.toBytes(this.approvals)\n    ]);\n  }\n\n  /**\n   * Sets an already generated signature for the deploy.\n   *\n   * @param deploy The deploy instance.\n   * @param signature The Ed25519 or Secp256K1 signature.\n   * @param publicKey The public key used to generate the signature.\n   * @returns A new `Deploy` instance with the added signature.\n   */\n  public static setSignature(\n    deploy: Deploy,\n    signature: Uint8Array,\n    publicKey: PublicKey\n  ): Deploy {\n    const hex = new HexBytes(signature);\n    deploy.approvals.push(new Approval(publicKey, hex));\n    return deploy;\n  }\n\n  /**\n   * Creates a new `Deploy` instance with the provided parameters.\n   *\n   * @param hash The deploy hash identifying this deploy.\n   * @param header The deploy header.\n   * @param payment The executable deploy item for the payment logic.\n   * @param session The executable deploy item for the session logic.\n   * @param approvals An array of approvals for the deploy.\n   * @returns A new `Deploy` object.\n   */\n  public static createNew(\n    hash: Hash,\n    header: DeployHeader,\n    payment: ExecutableDeployItem,\n    session: ExecutableDeployItem,\n    approvals: Approval[] = []\n  ): Deploy {\n    return new Deploy(hash, header, payment, session, approvals);\n  }\n\n  /**\n   * Adds a runtime argument to a `Deploy` object\n   * @param deploy The `Deploy` object for which to add the runtime argument\n   * @param name The name of the runtime argument\n   * @param value The value of the runtime argument\n   * @returns The original `Deploy` with the additional runtime argument\n   * @remarks Will fail if the `Deploy` has already been signed\n   */\n  public static addArgToDeploy(\n    deploy: Deploy,\n    name: string,\n    value: CLValue\n  ): Deploy {\n    if (deploy.approvals.length !== 0) {\n      throw Error('Can not add argument to already signed deploy.');\n    }\n\n    const deploySession = deploy.session;\n    deploySession.setArg(name, value);\n\n    return Deploy.makeDeploy(deploy.header, deploy.payment, deploy.session);\n  }\n\n  /**\n   * Creates a `Deploy` instance from the deploy header and session/payment logic.\n   *\n   * @param deployHeader The deploy header.\n   * @param payment The payment logic of the deploy.\n   * @param session The session logic of the deploy.\n   * @returns A new `Deploy` object.\n   */\n  public static makeDeploy(\n    deployHeader: DeployHeader,\n    payment: ExecutableDeployItem,\n    session: ExecutableDeployItem\n  ): Deploy {\n    const paymentBytes = payment.bytes();\n    const sessionBytes = session.bytes();\n    const serializedBody = concat([paymentBytes, sessionBytes]);\n    deployHeader.bodyHash = new Hash(byteHash(serializedBody));\n    const deployHash = new Hash(byteHash(deployHeader.toBytes()));\n    return Deploy.createNew(deployHash, deployHeader, payment, session);\n  }\n\n  /**\n   * Converts the `Deploy` into a `Transaction` object.\n   * This method creates a transaction based on the deploy, including its payment and session logic.\n   *\n   * @param deploy The deploy object.\n   * @returns A new `Transaction` object created from the deploy.\n   */\n  static newTransactionFromDeploy(deploy: Deploy): Transaction {\n    let paymentAmount = 0;\n    let transactionEntryPoint: TransactionEntryPoint;\n\n    if (deploy.session.transfer) {\n      transactionEntryPoint = new TransactionEntryPoint(\n        TransactionEntryPointEnum.Transfer\n      );\n    } else if (deploy.session.moduleBytes) {\n      transactionEntryPoint = new TransactionEntryPoint(\n        TransactionEntryPointEnum.Call\n      );\n    } else {\n      let entryPoint = '';\n\n      if (deploy.session.storedContractByHash) {\n        entryPoint = deploy.session.storedContractByHash.entryPoint;\n      } else if (deploy.session.storedContractByName) {\n        entryPoint = deploy.session.storedContractByName.entryPoint;\n      } else if (deploy.session.storedVersionedContractByHash) {\n        entryPoint = deploy.session.storedVersionedContractByHash.entryPoint;\n      } else if (deploy.session.storedVersionedContractByName) {\n        entryPoint = deploy.session.storedVersionedContractByName.entryPoint;\n      }\n      transactionEntryPoint = new TransactionEntryPoint(\n        TransactionEntryPointEnum.Custom,\n        entryPoint\n      );\n    }\n\n    const amountArgument = deploy.payment.getArgs();\n    if (amountArgument) {\n      const parsed = amountArgument.args.get('amount');\n      if (parsed) {\n        paymentAmount = parseInt(parsed.toString(), 10) || 0;\n      }\n    }\n\n    const standardPayment =\n      deploy.payment.moduleBytes?.moduleBytes.length === 0;\n\n    const pricingMode = new PricingMode();\n    const paymentLimitedMode = new PaymentLimitedMode();\n    paymentLimitedMode.gasPriceTolerance = deploy.header.gasPrice ?? 1;\n    paymentLimitedMode.paymentAmount = paymentAmount;\n    paymentLimitedMode.standardPayment = standardPayment;\n    pricingMode.paymentLimited = paymentLimitedMode;\n\n    return new Transaction(\n      TransactionHash.fromDeployHash(deploy.hash),\n      deploy.header.chainName,\n      deploy.header.timestamp,\n      deploy.header.ttl,\n      new InitiatorAddr(deploy.header.account),\n      pricingMode,\n      deploy.session.getArgs(),\n      TransactionTarget.newTransactionTargetFromSession(deploy.session),\n      transactionEntryPoint,\n      new TransactionScheduling({}), // Standard\n      deploy.approvals,\n      undefined,\n      deploy\n    );\n  }\n\n  /**\n   * Converts a JSON representation of a deploy to a `Deploy` object.\n   *\n   * @param json The JSON representation of a `Deploy`.\n   * @returns A `Deploy` object if successful, or throws an error if parsing fails.\n   */\n  public static fromJSON(json: any): Deploy {\n    let deploy: Deploy | undefined;\n\n    try {\n      const data: Record<string, any> =\n        typeof json === 'string' ? JSON.parse(json) : json;\n\n      const deployJson: Record<string, any> | null =\n        data.deploy ?? data.Deploy ?? data?.transaction?.Deploy ?? data ?? null;\n\n      if (!(deployJson?.hash && deployJson?.header?.account)) {\n        throw new Error(\"The JSON can't be parsed as a Deploy.\");\n      }\n\n      const serializer = new TypedJSON(Deploy);\n      deploy = serializer.parse(deployJson);\n\n      if (!deploy) {\n        throw new Error(\"The JSON can't be parsed as a Deploy.\");\n      }\n    } catch (e) {\n      throw new Error(`Serialization error: ${e.message}`);\n    }\n\n    const isDeployValid = deploy.validate();\n\n    if (!isDeployValid) {\n      throw new Error(`Deploy validation failed`);\n    }\n\n    return deploy;\n  }\n\n  /**\n   * Converts the `Deploy` object into a JSON representation.\n   *\n   * @param deploy The deploy object to convert to JSON.\n   * @returns A JSON representation of the deploy.\n   */\n  public static toJSON = (deploy: Deploy) => {\n    const serializer = new TypedJSON(Deploy);\n    return serializer.toPlainJson(deploy);\n  };\n\n  /**\n   * Identifies whether this `Deploy` represents a transfer of CSPR.\n   *\n   * @returns `true` if the deploy is a transfer, otherwise `false`.\n   */\n  public isTransfer(): boolean {\n    return this.session.isTransfer();\n  }\n\n  /**\n   * Identifies whether this `Deploy` represents a standard payment, like a gas payment.\n   *\n   * @returns `true` if the deploy is a standard payment, otherwise `false`.\n   */\n  public isStandardPayment(): boolean {\n    if (this.payment.isModuleBytes()) {\n      return this.payment.asModuleBytes()?.moduleBytes.length === 0;\n    }\n    return false;\n  }\n\n  /**\n   * Gets the byte-size of a deploy\n   * @param deploy The `Deploy` for which to calculate the size\n   * @returns The size of the `Deploy` in its serialized representation\n   */\n  public static getDeploySizeInBytes = (deploy: Deploy): number => {\n    const hashSize = deploy.hash.toBytes().length;\n    const bodySize = concat([deploy.payment.bytes(), deploy.session.bytes()])\n      .length;\n    const headerSize = deploy.header.toBytes().length;\n    const approvalsSize = deploy.approvals\n      .map(approval => {\n        return (\n          (approval.signature.bytes.length + approval.signer.bytes().length) / 2\n        );\n      })\n      .reduce((a, b) => a + b, 0);\n\n    return hashSize + headerSize + bodySize + approvalsSize;\n  };\n}\n\n/**\n * Default TTL value used for deploys (30 minutes).\n */\nexport const DEFAULT_DEPLOY_TTL = 1800000;\n","import { jsonObject, jsonMember, jsonArrayMember } from 'typedjson';\nimport { Hash, AccountHash, URef, TransferHash } from './key';\n\n/**\n * Represents information about a deploy in the blockchain.\n * This class encapsulates details such as the deploy hash, the account making the deploy, gas usage, source URef, and associated transfers.\n */\n@jsonObject\nexport class DeployInfo {\n  /**\n   * The unique hash identifying the deploy. This hash is used to verify the integrity and authenticity of the deploy.\n   */\n  @jsonMember({\n    name: 'deploy_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  deployHash: Hash;\n\n  /**\n   * The account hash of the account initiating the deploy. This is used to identify the account responsible for the deploy.\n   */\n  @jsonMember({\n    name: 'from',\n    constructor: AccountHash,\n    deserializer: json => AccountHash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  from: AccountHash;\n\n  /**\n   * The amount of gas used for the deploy. This value is typically in motes, a subunit of CSPR.\n   */\n  @jsonMember({ name: 'gas', constructor: String })\n  gas: string;\n\n  /**\n   * The source URef from which the deploy is triggered. URefs are used to identify a reference to a contract or resource in the blockchain.\n   */\n  @jsonMember({\n    name: 'source',\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  source: URef;\n\n  /**\n   * A list of transfer hashes associated with the deploy. These are hashes that identify transfers (e.g., of CSPR or other assets) associated with the deploy.\n   */\n  @jsonArrayMember(TransferHash, {\n    name: 'transfers',\n    serializer: (value: TransferHash[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) =>\n      json.map((it: string) => TransferHash.fromJSON(it))\n  })\n  transfers: TransferHash[];\n}\n","import { jsonObject, jsonMember, jsonArrayMember, AnyT } from 'typedjson';\nimport { CLTypeRaw } from './clvalue';\n\n/**\n * Enum representing the type of entry point.\n */\nexport enum EntryPointType {\n  Session = 'Session',\n  Contract = 'Contract',\n  Caller = 'Caller',\n  Called = 'Called',\n  Factory = 'Factory'\n}\n\n/**\n * Enum representing the payment options for an entry point.\n */\nexport enum EntryPointPayment {\n  /**\n   * The caller must cover cost.\n   */\n  Caller = 'Caller',\n  /**\n   * Will cover cost to execute self but not cost of any subsequent invoked contracts.\n   */\n  DirectInvocationOnly = 'DirectInvocationOnly',\n  /**\n   * Will cover cost to execute self and the cost of any subsequent invoked contracts.\n   */\n  SelfOnward = 'SelfOnward'\n}\n\n/**\n * Class representing an argument for an entry point. Each argument has a name and a corresponding `CLTypeRaw`.\n */\n@jsonObject\nexport class EntryPointArg {\n  /**\n   * The name of the entry point argument.\n   */\n  @jsonMember({ name: 'name', constructor: String })\n  name: string;\n\n  /**\n   * The type of the argument, represented by `CLTypeRaw`.\n   */\n  @jsonMember({\n    name: 'cl_type',\n    constructor: CLTypeRaw,\n    deserializer: json => {\n      if (!json) return;\n      return CLTypeRaw.parseCLType(json);\n    },\n    serializer: (value: CLTypeRaw) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  clType: CLTypeRaw;\n\n  /**\n   * Constructs an `EntryPointArg` instance.\n   * @param name The name of the argument.\n   * @param clType The type of the argument.\n   */\n  constructor(name: string, clType: CLTypeRaw) {\n    this.name = name;\n    this.clType = clType;\n  }\n}\n\n/**\n * Class representing version 1 of an entry point in the Casper VM.\n * It contains the entry point's access, arguments, type, payment type, name, and return type.\n */\n@jsonObject\nexport class EntryPointV1 {\n  /**\n   * The access control for the entry point.\n   */\n  @jsonMember({\n    name: 'access',\n    constructor: AnyT\n  })\n  access: any;\n\n  /**\n   * A list of arguments for the entry point.\n   */\n  @jsonArrayMember(EntryPointArg, { name: 'args' })\n  args: EntryPointArg[];\n\n  /**\n   * The type of entry point (e.g., session, contract, etc.).\n   */\n  @jsonMember({\n    name: 'entry_point_type',\n    constructor: String\n  })\n  entryPointType: EntryPointType;\n\n  /**\n   * The payment method required to access this entry point.\n   */\n  @jsonMember({\n    name: 'entry_point_payment',\n    constructor: String\n  })\n  entryPointPayment: EntryPointPayment;\n\n  /**\n   * The name of the entry point.\n   */\n  @jsonMember({ name: 'name', constructor: String })\n  name: string;\n\n  /**\n   * The return type of the entry point.\n   */\n  @jsonMember({\n    name: 'ret',\n    constructor: CLTypeRaw,\n    deserializer: json => {\n      if (!json) return;\n      return CLTypeRaw.parseCLType(json);\n    },\n    serializer: (value: CLTypeRaw) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  ret: CLTypeRaw;\n\n  /**\n   * Constructs an `EntryPointV1` instance.\n   *\n   * @param access The access control for this entry point.\n   * @param args A list of arguments for the entry point.\n   * @param entryPointType The type of entry point.\n   * @param entryPointPayment The payment method for the entry point.\n   * @param name The name of the entry point.\n   * @param ret The return type of the entry point.\n   */\n  constructor(\n    access: any,\n    args: EntryPointArg[],\n    entryPointType: EntryPointType,\n    entryPointPayment: EntryPointPayment,\n    name: string,\n    ret: CLTypeRaw\n  ) {\n    this.access = access;\n    this.args = args;\n    this.entryPointType = entryPointType;\n    this.entryPointPayment = entryPointPayment;\n    this.name = name;\n    this.ret = ret;\n  }\n}\n\n/**\n * Class representing version 2 of an entry point in the Casper VM.\n * This version includes flags and a function index.\n */\n@jsonObject\nexport class EntryPointV2 {\n  /**\n   * Flags associated with this entry point.\n   */\n  @jsonMember({ name: 'flags', constructor: Number })\n  flags: number;\n\n  /**\n   * The function index for the entry point.\n   */\n  @jsonMember({ name: 'functionIndex', constructor: Number })\n  functionIndex: number;\n\n  /**\n   * Constructs an `EntryPointV2` instance.\n   *\n   * @param flags The flags for the entry point.\n   * @param functionIndex The function index for the entry point.\n   */\n  constructor(flags = 0, functionIndex = 0) {\n    this.flags = flags;\n    this.functionIndex = functionIndex;\n  }\n}\n\n/**\n * A wrapper class that can hold either version 1 or version 2 of an entry point.\n */\n@jsonObject\nexport class EntryPointValue {\n  /**\n   * Version 1 of the entry point, if available.\n   */\n  @jsonMember({\n    name: 'V1CasperVm',\n    constructor: EntryPointV1\n  })\n  v1CasperVm?: EntryPointV1;\n\n  /**\n   * Version 2 of the entry point, if available.\n   */\n  @jsonMember({\n    name: 'V2CasperVm',\n    constructor: EntryPointV2\n  })\n  v2CasperVm?: EntryPointV2;\n\n  /**\n   * Constructs an `EntryPointValue` instance.\n   *\n   * @param v1CasperVm Version 1 of the entry point, if available.\n   * @param v2CasperVm Version 2 of the entry point, if available.\n   */\n  constructor(v1CasperVm?: EntryPointV1, v2CasperVm?: EntryPointV2) {\n    this.v1CasperVm = v1CasperVm;\n    this.v2CasperVm = v2CasperVm;\n  }\n}\n","import {\n  jsonObject,\n  jsonMember,\n  jsonArrayMember,\n  jsonMapMember\n} from 'typedjson';\nimport { PublicKey } from './keypair';\nimport { ValidatorWeightEraEnd } from './ValidatorWeight';\nimport { CLValueUInt512 } from './clvalue';\nimport { deserializeRewards, serializeRewards } from './SerializationUtils';\n\n/**\n * Class representing the rewards associated with a validator in a given era.\n */\n@jsonObject\nexport class EraReward {\n  /**\n   * The public key of the validator receiving the reward.\n   */\n  @jsonMember({\n    name: 'validator',\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public validator: PublicKey;\n\n  /**\n   * The amount of reward given to the validator.\n   */\n  @jsonMember({\n    name: 'amount',\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public amount: CLValueUInt512;\n\n  /**\n   * Constructs an `EraReward` instance.\n   *\n   * @param validator The public key of the validator.\n   * @param amount The reward amount.\n   */\n  constructor(validator: PublicKey, amount: CLValueUInt512) {\n    this.validator = validator;\n    this.amount = amount;\n  }\n}\n\n/**\n * Class representing the era report containing information about equivocators, inactive validators, and rewards.\n */\n@jsonObject\nexport class EraReport {\n  /**\n   * List of validators that have been found to equivocate during the era.\n   */\n  @jsonArrayMember(PublicKey, {\n    name: 'equivocators',\n    serializer: (value: PublicKey[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) =>\n      json.map((it: string) => PublicKey.fromJSON(it))\n  })\n  public equivocators: PublicKey[];\n\n  /**\n   * List of inactive validators during the era.\n   */\n  @jsonArrayMember(PublicKey, {\n    name: 'inactive_validators',\n    serializer: (value: PublicKey[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) =>\n      json.map((it: string) => PublicKey.fromJSON(it))\n  })\n  public inactiveValidators: PublicKey[];\n\n  /**\n   * List of rewards distributed to validators during the era.\n   */\n  @jsonArrayMember(EraReward, { name: 'rewards' })\n  public rewards: EraReward[];\n\n  /**\n   * Constructs an `EraReport` instance.\n   *\n   * @param equivocators The list of equivocators.\n   * @param inactiveValidators The list of inactive validators.\n   * @param rewards The list of rewards distributed to validators.\n   */\n  constructor(\n    equivocators: PublicKey[] = [],\n    inactiveValidators: PublicKey[] = [],\n    rewards: EraReward[] = []\n  ) {\n    this.equivocators = equivocators;\n    this.inactiveValidators = inactiveValidators;\n    this.rewards = rewards;\n  }\n}\n\n/**\n * Class representing the details of an era's end, version 2. It includes information like equivocations, inactive validators, and rewards.\n */\n@jsonObject\nexport class EraEndV2 {\n  /**\n   * List of validators that have been found to equivocate during the era.\n   */\n  @jsonArrayMember(PublicKey, {\n    name: 'equivocators',\n    serializer: (value: PublicKey[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) =>\n      json.map((it: string) => PublicKey.fromJSON(it))\n  })\n  public equivocators: PublicKey[];\n\n  /**\n   * List of inactive validators during the era.\n   */\n  @jsonArrayMember(PublicKey, {\n    name: 'inactive_validators',\n    serializer: (value: PublicKey[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) =>\n      json.map((it: string) => PublicKey.fromJSON(it))\n  })\n  public inactiveValidators: PublicKey[];\n\n  /**\n   * List of validator weights for the next era.\n   */\n  @jsonArrayMember(ValidatorWeightEraEnd, {\n    name: 'next_era_validator_weights'\n  })\n  public nextEraValidatorWeights: ValidatorWeightEraEnd[];\n\n  /**\n   * A map of rewards for each validator, identified by their public key, in the next era.\n   */\n  @jsonMapMember(String, Array, {\n    name: 'rewards',\n    serializer: (map: Map<string, CLValueUInt512[]>) => serializeRewards(map),\n    deserializer: deserializeRewards\n  })\n  public rewards: Map<string, CLValueUInt512[]>;\n\n  /**\n   * The gas price for the next era.\n   */\n  @jsonMember({ name: 'next_era_gas_price', constructor: Number })\n  public nextEraGasPrice: number;\n\n  /**\n   * Constructs an `EraEndV2` instance.\n   *\n   * @param equivocators The list of equivocators.\n   * @param inactiveValidators The list of inactive validators.\n   * @param nextEraValidatorWeights The validator weights for the next era.\n   * @param rewards The map of rewards for each validator in the next era.\n   * @param nextEraGasPrice The gas price for the next era.\n   */\n  constructor(\n    equivocators: PublicKey[],\n    inactiveValidators: PublicKey[],\n    nextEraValidatorWeights: ValidatorWeightEraEnd[],\n    rewards: Map<string, CLValueUInt512[]>,\n    nextEraGasPrice: number\n  ) {\n    this.equivocators = equivocators;\n    this.inactiveValidators = inactiveValidators;\n    this.nextEraValidatorWeights = nextEraValidatorWeights;\n    this.rewards = rewards;\n    this.nextEraGasPrice = nextEraGasPrice;\n  }\n}\n\n/**\n * Class representing the details of an era's end, version 1.\n */\n@jsonObject\nexport class EraEndV1 {\n  /**\n   * The era report containing equivocators, inactive validators, and rewards.\n   */\n  @jsonMember({ name: 'era_report', constructor: EraReport })\n  public eraReport: EraReport;\n\n  /**\n   * The list of validator weights for the next era.\n   */\n  @jsonArrayMember(ValidatorWeightEraEnd, {\n    name: 'next_era_validator_weights'\n  })\n  public nextEraValidatorWeights: ValidatorWeightEraEnd[];\n\n  /**\n   * Constructs an `EraEndV1` instance.\n   *\n   * @param eraReport The era report.\n   * @param nextEraValidatorWeights The validator weights for the next era.\n   */\n  constructor(\n    eraReport: EraReport,\n    nextEraValidatorWeights: ValidatorWeightEraEnd[]\n  ) {\n    this.eraReport = eraReport;\n    this.nextEraValidatorWeights = nextEraValidatorWeights;\n  }\n}\n\n/**\n * A class that represents the end of an era with a unified structure.\n */\n@jsonObject\nexport class EraEnd {\n  /**\n   * List of validators that have been found to equivocate during the era.\n   */\n  @jsonArrayMember(PublicKey, {\n    name: 'equivocators',\n    serializer: (value: PublicKey[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) =>\n      json.map((it: string) => PublicKey.fromJSON(it))\n  })\n  public equivocators: PublicKey[];\n\n  /**\n   * List of inactive validators during the era.\n   */\n  @jsonArrayMember(PublicKey, {\n    name: 'inactive_validators',\n    serializer: (value: PublicKey[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) =>\n      json.map((it: string) => PublicKey.fromJSON(it))\n  })\n  public inactiveValidators: PublicKey[];\n\n  /**\n   * List of validator weights for the next era.\n   */\n  @jsonArrayMember(ValidatorWeightEraEnd, {\n    name: 'next_era_validator_weights'\n  })\n  public nextEraValidatorWeights: ValidatorWeightEraEnd[];\n\n  /**\n   * A map of rewards for each validator, identified by their public key.\n   */\n  @jsonMapMember(String, CLValueUInt512, {\n    name: 'rewards',\n    deserializer: deserializeRewards,\n    serializer: (map: Map<string, CLValueUInt512[]>) => serializeRewards(map)\n  })\n  public rewards: Map<string, CLValueUInt512[]>;\n\n  /**\n   * The gas price for the next era.\n   */\n  @jsonMember({ name: 'next_era_gas_price', constructor: Number })\n  public nextEraGasPrice: number;\n\n  /**\n   * Constructs an `EraEnd` instance.\n   *\n   * @param equivocators The list of equivocators.\n   * @param inactiveValidators The list of inactive validators.\n   * @param nextEraValidatorWeights The validator weights for the next era.\n   * @param rewards The map of rewards for each validator.\n   * @param nextEraGasPrice The gas price for the next era.\n   */\n  constructor(\n    equivocators: PublicKey[] = [],\n    inactiveValidators: PublicKey[] = [],\n    nextEraValidatorWeights: ValidatorWeightEraEnd[] = [],\n    rewards: Map<string, CLValueUInt512[]> = new Map(),\n    nextEraGasPrice = 1\n  ) {\n    this.equivocators = equivocators;\n    this.inactiveValidators = inactiveValidators;\n    this.nextEraValidatorWeights = nextEraValidatorWeights;\n    this.rewards = rewards;\n    this.nextEraGasPrice = nextEraGasPrice;\n  }\n\n  /**\n   * Converts an `EraEndV2` instance to `EraEnd`.\n   *\n   * @param eraEnd The `EraEndV2` instance.\n   * @returns A new `EraEnd` instance, or `null` if the `EraEndV2` is `null`.\n   */\n  static fromV2(eraEnd: EraEndV2 | null): EraEnd | null {\n    if (!eraEnd) return null;\n    const result = new EraEnd();\n    result.nextEraGasPrice = eraEnd.nextEraGasPrice;\n    result.equivocators = eraEnd.equivocators;\n    result.inactiveValidators = eraEnd.inactiveValidators;\n    result.nextEraValidatorWeights = eraEnd.nextEraValidatorWeights;\n    result.rewards = eraEnd.rewards;\n    return result;\n  }\n\n  /**\n   * Converts an `EraEndV1` instance to `EraEnd`.\n   *\n   * @param eraEnd The `EraEndV1` instance.\n   * @returns A new `EraEnd` instance, or `null` if the `EraEndV1` is `null`.\n   */\n  static fromV1(eraEnd: EraEndV1 | null): EraEnd | null {\n    if (!eraEnd) return null;\n\n    const rewardsMap = new Map<string, CLValueUInt512[]>();\n    for (const reward of eraEnd.eraReport.rewards) {\n      const validatorHex = reward.validator.toHex();\n      if (!rewardsMap.has(validatorHex)) {\n        rewardsMap.set(validatorHex, []);\n      }\n      rewardsMap.get(validatorHex)?.push(reward.amount);\n    }\n\n    const result = new EraEnd();\n    result.nextEraGasPrice = 1;\n    result.equivocators = eraEnd.eraReport.equivocators;\n    result.inactiveValidators = eraEnd.eraReport.inactiveValidators;\n    result.nextEraValidatorWeights = eraEnd.nextEraValidatorWeights;\n    result.rewards = rewardsMap;\n\n    return result;\n  }\n}\n","import { jsonArrayMember, jsonMember, jsonObject, TypedJSON } from 'typedjson';\nimport { PublicKey } from './keypair';\nimport { CLValueUInt512 } from './clvalue';\nimport { DelegationKind } from './Bid';\n\n/**\n * Class representing the allocation of seigniorage to a delegator.\n */\n@jsonObject\nexport class DelegatorAllocation {\n  /**\n   * Kinds of delegation bids.\n   */\n  @jsonMember({\n    name: 'delegator_kind',\n    constructor: DelegationKind,\n    deserializer: json => {\n      if (!json) return;\n      return DelegationKind.fromJSON(json);\n    }\n  })\n  delegatorKind: DelegationKind;\n\n  /**\n   * The public key of the validator associated with the delegator's allocation.\n   */\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  validatorPublicKey: PublicKey;\n\n  /**\n   * The amount of seigniorage allocated to the delegator.\n   */\n  @jsonMember({\n    name: 'amount',\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  amount: CLValueUInt512;\n\n  /**\n   * Constructs a `DelegatorAllocation` instance.\n   *\n   * @param delegatorKind Kinds of delegation bids.\n   * @param validatorPublicKey The public key of the associated validator.\n   * @param amount The amount of seigniorage allocated to the delegator.\n   */\n  constructor(\n    delegatorKind: DelegationKind,\n    validatorPublicKey: PublicKey,\n    amount: CLValueUInt512\n  ) {\n    this.delegatorKind = delegatorKind;\n    this.validatorPublicKey = validatorPublicKey;\n    this.amount = amount;\n  }\n}\n\n/**\n * Class representing the allocation of seigniorage to a validator.\n */\n@jsonObject\nexport class ValidatorAllocation {\n  /**\n   * The public key of the validator receiving the allocation.\n   */\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  validatorPublicKey: PublicKey;\n\n  /**\n   * The amount of seigniorage allocated to the validator.\n   */\n  @jsonMember({\n    name: 'amount',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  amount: CLValueUInt512;\n\n  /**\n   * Constructs a `ValidatorAllocation` instance.\n   *\n   * @param validatorPublicKey The public key of the validator.\n   * @param amount The amount of seigniorage allocated to the validator.\n   */\n  constructor(validatorPublicKey: PublicKey, amount: CLValueUInt512) {\n    this.validatorPublicKey = validatorPublicKey;\n    this.amount = amount;\n  }\n}\n\n/**\n * Represents the JSON structure when the key \"Delegator\" is present.\n */\n@jsonObject\nexport class DelegatorData {\n  @jsonMember({\n    name: 'delegator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  delegatorPublicKey?: PublicKey;\n\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  validatorPublicKey: PublicKey;\n\n  @jsonMember({\n    name: 'amount',\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  amount: CLValueUInt512;\n}\n\n/**\n * Temporary helper class to match the overall JSON structure.\n * The JSON may contain one of the following keys:\n * - \"Validator\" (a ValidatorAllocation)\n * - \"DelegatorKind\" (a DelegatorAllocation)\n * - \"Delegator\" (a DelegatorData, which will be converted to a DelegatorAllocation)\n */\n@jsonObject\nclass TempSeigniorageAllocation {\n  @jsonMember({ name: 'Validator', constructor: ValidatorAllocation })\n  validator?: ValidatorAllocation;\n\n  @jsonMember({ name: 'DelegatorKind', constructor: DelegatorAllocation })\n  delegatorKind?: DelegatorAllocation;\n\n  @jsonMember({ name: 'Delegator', constructor: DelegatorData })\n  delegator?: DelegatorData;\n}\n\n/**\n * Class representing the seigniorage allocation for a validator and delegator.\n */\n@jsonObject\nexport class SeigniorageAllocation {\n  /**\n   * The allocation for a validator.\n   */\n  @jsonMember({ name: 'Validator', constructor: ValidatorAllocation })\n  validator?: ValidatorAllocation;\n\n  /**\n   * The allocation for a delegator.\n   */\n  @jsonMember({ name: 'DelegatorKind', constructor: DelegatorAllocation })\n  delegator?: DelegatorAllocation;\n\n  /**\n   * Constructs a `SeigniorageAllocation` instance.\n   *\n   * @param validator The validator allocation.\n   * @param delegator The delegator allocation.\n   */\n  constructor(\n    validator?: ValidatorAllocation,\n    delegator?: DelegatorAllocation\n  ) {\n    this.validator = validator;\n    this.delegator = delegator;\n  }\n\n  /**\n   * Custom deserialization from a JSON.\n   *\n   * The JSON is expected to have one of the following structures:\n   * - A \"Delegator\" key with an object containing \"delegator_public_key\", \"validator_public_key\", and \"amount\".\n   * - A \"Validator\" key with an object matching ValidatorAllocation.\n   * - A \"DelegatorKind\" key with an object matching DelegatorAllocation.\n   *\n   * @param json A JSON.\n   * @returns A new SeigniorageAllocation instance.\n   * @throws Error if the JSON is empty, invalid, or does not match any expected structure.\n   */\n  public static fromJSON(json: any): SeigniorageAllocation {\n    if (!json) {\n      throw new Error(`Invalid JSON for SeigniorageAllocation: ${json}`);\n    }\n\n    const temp = new TypedJSON(TempSeigniorageAllocation).parse(json);\n    if (!temp) {\n      throw new Error('Failed to parse JSON');\n    }\n\n    const allocation = new SeigniorageAllocation();\n\n    if (temp?.delegator) {\n      const delegatorKind = new DelegationKind();\n      delegatorKind.publicKey = temp?.delegator?.delegatorPublicKey;\n      allocation.delegator = new DelegatorAllocation(\n        delegatorKind,\n        temp?.delegator?.validatorPublicKey,\n        temp?.delegator?.amount\n      );\n    } else if (temp.validator) {\n      allocation.validator = temp.validator;\n    } else if (temp.delegatorKind) {\n      allocation.delegator = temp.delegatorKind;\n    } else {\n      throw new Error('incorrect SeigniorageAllocation format structure');\n    }\n\n    return allocation;\n  }\n}\n\n/**\n * Class representing information about an era, including seigniorage allocations.\n */\n@jsonObject\nexport class EraInfo {\n  /**\n   * A list of seigniorage allocations for validators and delegators in the era.\n   */\n  @jsonArrayMember(SeigniorageAllocation, {\n    name: 'seigniorage_allocations',\n    deserializer: json => {\n      if (!json) return;\n      return json.map((it: SeigniorageAllocation) =>\n        SeigniorageAllocation.fromJSON(it)\n      );\n    }\n  })\n  seigniorageAllocations: SeigniorageAllocation[];\n\n  /**\n   * Constructs an `EraInfo` instance.\n   *\n   * @param seigniorageAllocations The list of seigniorage allocations for validators and delegators.\n   */\n  constructor(seigniorageAllocations: SeigniorageAllocation[] = []) {\n    this.seigniorageAllocations = seigniorageAllocations;\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { Hash } from './key';\nimport { StoredValue } from './StoredValue';\n\n/**\n * Class representing a summary of an era, including the block hash, era ID,\n * stored value, state root hash, and the associated Merkle proof.\n */\n@jsonObject\nexport class EraSummary {\n  /**\n   * The hash of the block for this era.\n   */\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public blockHash: Hash;\n\n  /**\n   * The unique identifier for the era.\n   */\n  @jsonMember({ name: 'era_id', constructor: Number })\n  public eraID: number;\n\n  /**\n   * The stored value for this era, representing data related to the state at the end of the era.\n   */\n  @jsonMember({ name: 'stored_value', constructor: StoredValue })\n  public storedValue: StoredValue;\n\n  /**\n   * The hash of the state root, which represents the state at the end of the era.\n   */\n  @jsonMember({\n    name: 'state_root_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public stateRootHash: Hash;\n\n  /**\n   * The Merkle proof associated with the block in this era, used to verify the integrity\n   * of the data stored in the block.\n   */\n  @jsonMember({ name: 'merkle_proof', constructor: String })\n  public merkleProof: string;\n\n  /**\n   * Constructs an `EraSummary` instance.\n   *\n   * @param blockHash The hash of the block for this era.\n   * @param eraID The unique identifier for the era.\n   * @param storedValue The stored value representing data associated with the era.\n   * @param stateRootHash The hash of the state root at the end of the era.\n   * @param merkleProof The Merkle proof for the block in the era.\n   */\n  constructor(\n    blockHash: Hash,\n    eraID: number,\n    storedValue: StoredValue,\n    stateRootHash: Hash,\n    merkleProof: string\n  ) {\n    this.blockHash = blockHash;\n    this.eraID = eraID;\n    this.storedValue = storedValue;\n    this.stateRootHash = stateRootHash;\n    this.merkleProof = merkleProof;\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { BigNumber, BigNumberish } from '@ethersproject/bignumber';\nimport { concat } from '@ethersproject/bytes';\n\nimport { Args } from './Args';\nimport { CLTypeOption, CLTypeUInt64, CLValue, CLValueOption } from './clvalue';\nimport { ContractHash, URef } from './key';\nimport {\n  byteArrayJsonDeserializer,\n  byteArrayJsonSerializer,\n  deserializeArgs,\n  serializeArgs\n} from './SerializationUtils';\nimport { PublicKey } from './keypair';\n\n/**\n * Enum representing the different types of executable deploy items.\n */\nenum ExecutableDeployItemType {\n  ModuleBytes,\n  StoredContractByHash,\n  StoredContractByName,\n  StoredVersionedContractByHash,\n  StoredVersionedContractByName,\n  Transfer\n}\n\n/**\n * Represents a deploy item containing module bytes and associated arguments.\n */\n@jsonObject\nexport class ModuleBytes {\n  /**\n   * The module bytes in hexadecimal format.\n   */\n  @jsonMember({\n    name: 'module_bytes',\n    constructor: Uint8Array,\n    serializer: (bytes: Uint8Array) => byteArrayJsonSerializer(bytes),\n    deserializer: byteArrayJsonDeserializer\n  })\n  moduleBytes!: Uint8Array;\n\n  /**\n   * The arguments passed to the module.\n   */\n  @jsonMember(() => Args, {\n    deserializer: deserializeArgs,\n    serializer: (args: Args) => serializeArgs(args, false)\n  })\n  args: Args;\n\n  /**\n   * Constructs a `ModuleBytes` instance with module bytes and arguments.\n   * @param moduleBytes The module bytes in hexadecimal format.\n   * @param args The arguments for the module.\n   */\n  constructor(moduleBytes: Uint8Array, args: Args) {\n    this.moduleBytes = moduleBytes;\n    this.args = args;\n  }\n\n  /**\n   * Serializes the `ModuleBytes` instance to a byte array.\n   * @returns The serialized byte array.\n   */\n  bytes(): Uint8Array {\n    const lengthBytes = CLValue.newCLUInt32(\n      BigNumber.from(this.moduleBytes.length)\n    ).bytes();\n    const bytesArrayBytes = CLValue.newCLByteArray(this.moduleBytes).bytes();\n\n    let result = concat([lengthBytes, bytesArrayBytes]);\n\n    if (this.args) {\n      const argBytes = this.args.toBytes();\n      result = concat([result, argBytes]);\n    }\n\n    return result;\n  }\n}\n\n/**\n * Represents a deploy item with a stored contract referenced by its hash.\n */\n@jsonObject\nexport class StoredContractByHash {\n  /**\n   * The hash of the stored contract.\n   */\n  @jsonMember({\n    name: 'hash',\n    constructor: ContractHash,\n    deserializer: json => ContractHash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  hash: ContractHash;\n\n  /**\n   * The entry point of the contract to invoke.\n   */\n  @jsonMember({ name: 'entry_point', constructor: String })\n  entryPoint: string;\n\n  /**\n   * The arguments for the contract call.\n   */\n  @jsonMember(() => Args, {\n    deserializer: deserializeArgs,\n    serializer: (args: Args) => serializeArgs(args, false)\n  })\n  args: Args;\n\n  /**\n   * Constructs a `StoredContractByHash` instance with the contract hash, entry point, and arguments.\n   * @param hash The contract hash.\n   * @param entryPoint The contract entry point.\n   * @param args The arguments for the contract.\n   */\n  constructor(hash: ContractHash, entryPoint: string, args: Args) {\n    this.hash = hash;\n    this.entryPoint = entryPoint;\n    this.args = args;\n  }\n\n  /**\n   * Serializes the `StoredContractByHash` instance to a byte array.\n   * @returns The serialized byte array.\n   */\n  bytes(): Uint8Array {\n    const hashBytes = this.hash.hash.toBytes();\n    const entryPointBytes = CLValue.newCLString(this.entryPoint).bytes();\n    const argBytes = this.args.toBytes();\n\n    return concat([hashBytes, entryPointBytes, argBytes]);\n  }\n}\n\n/**\n * Represents a deploy item with a stored contract referenced by its name.\n */\n@jsonObject\nexport class StoredContractByName {\n  /**\n   * The name of the stored contract.\n   */\n  @jsonMember({ name: 'name', constructor: String })\n  name: string;\n\n  /**\n   * The entry point of the contract to invoke.\n   */\n  @jsonMember({ name: 'entry_point', constructor: String })\n  entryPoint: string;\n\n  /**\n   * The arguments for the contract call.\n   */\n  @jsonMember(() => Args, {\n    deserializer: deserializeArgs,\n    serializer: (args: Args) => serializeArgs(args, false)\n  })\n  args: Args;\n\n  /**\n   * Constructs a `StoredContractByName` instance with the contract name, entry point, and arguments.\n   * @param name The contract name.\n   * @param entryPoint The contract entry point.\n   * @param args The arguments for the contract.\n   */\n  constructor(name: string, entryPoint: string, args: Args) {\n    this.name = name;\n    this.entryPoint = entryPoint;\n    this.args = args;\n  }\n\n  /**\n   * Serializes the `StoredContractByName` instance to a byte array.\n   * @returns The serialized byte array.\n   */\n  bytes(): Uint8Array {\n    const nameBytes = CLValue.newCLString(this.name).bytes();\n    const entryPointBytes = CLValue.newCLString(this.entryPoint).bytes();\n    const argBytes = this.args.toBytes();\n\n    return concat([nameBytes, entryPointBytes, argBytes]);\n  }\n}\n\n/**\n * Represents a deploy item with a stored versioned contract referenced by its hash.\n */\n@jsonObject\nexport class StoredVersionedContractByHash {\n  /**\n   * The hash of the stored contract.\n   */\n  @jsonMember({\n    name: 'hash',\n    constructor: ContractHash,\n    deserializer: json => ContractHash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  hash: ContractHash;\n\n  /**\n   * The entry point of the contract to invoke.\n   */\n  @jsonMember({ name: 'entry_point', constructor: String })\n  entryPoint: string;\n\n  /**\n   * The arguments for the contract call.\n   */\n  @jsonMember(() => Args, {\n    deserializer: deserializeArgs,\n    serializer: (args: Args) => serializeArgs(args, false)\n  })\n  args: Args;\n\n  /**\n   * The version of the contract.\n   */\n  @jsonMember({ name: 'version', constructor: Number })\n  version?: number;\n\n  /**\n   * Constructs a `StoredVersionedContractByHash` instance with the contract hash, entry point, arguments, and version.\n   * @param hash The contract hash.\n   * @param entryPoint The contract entry point.\n   * @param args The arguments for the contract.\n   * @param version The contract version.\n   */\n  constructor(\n    hash: ContractHash,\n    entryPoint: string,\n    args: Args,\n    version?: number\n  ) {\n    this.hash = hash;\n    this.entryPoint = entryPoint;\n    this.version = version;\n    this.args = args;\n  }\n\n  /**\n   * Serializes the `StoredVersionedContractByHash` instance to a byte array.\n   * @returns The serialized byte array.\n   */\n  bytes(): Uint8Array {\n    const hashBytes = this.hash.hash.toBytes();\n    const optionBytes = new CLValueOption(\n      this.version ? CLValue.newCLUInt32(BigNumber.from(this.version)) : null\n    ).bytes();\n    const entryPointBytes = CLValue.newCLString(this.entryPoint).bytes();\n    const argBytes = this.args?.toBytes() || new Uint8Array();\n\n    return concat([hashBytes, optionBytes, entryPointBytes, argBytes]);\n  }\n}\n\n/**\n * Represents a deploy item with a stored versioned contract referenced by its name.\n */\n@jsonObject\nexport class StoredVersionedContractByName {\n  /**\n   * The name of the stored contract.\n   */\n  @jsonMember({ name: 'name', constructor: String })\n  name: string;\n\n  /**\n   * The entry point of the contract to invoke.\n   */\n  @jsonMember({ name: 'entry_point', constructor: String })\n  entryPoint: string;\n\n  /**\n   * The version of the contract.\n   */\n  @jsonMember({ name: 'version', constructor: Number })\n  version?: number;\n\n  /**\n   * The arguments for the contract call.\n   */\n  @jsonMember(() => Args, {\n    deserializer: deserializeArgs,\n    serializer: (args: Args) => serializeArgs(args, false)\n  })\n  args: Args;\n\n  /**\n   * Constructs a `StoredVersionedContractByName` instance with the contract name, entry point, arguments, and version.\n   * @param name The contract name.\n   * @param entryPoint The contract entry point.\n   * @param args The arguments for the contract.\n   * @param version The contract version.\n   */\n  constructor(name: string, entryPoint: string, args: Args, version?: number) {\n    this.name = name;\n    this.entryPoint = entryPoint;\n    this.version = version;\n    this.args = args;\n  }\n\n  /**\n   * Serializes the `StoredVersionedContractByName` instance to a byte array.\n   * @returns The serialized byte array.\n   */\n  bytes(): Uint8Array {\n    const nameBytes = CLValue.newCLString(this.name).bytes();\n    const optionBytes = new CLValueOption(\n      this.version ? CLValue.newCLUInt32(BigNumber.from(this.version)) : null\n    ).bytes();\n    const entryPointBytes = CLValue.newCLString(this.entryPoint).bytes();\n    const argBytes = this.args?.toBytes() || new Uint8Array();\n\n    return concat([nameBytes, optionBytes, entryPointBytes, argBytes]);\n  }\n}\n\n/**\n * Represents a deploy item with a transfer of funds and associated arguments.\n */\n@jsonObject\nexport class TransferDeployItem {\n  /**\n   * The arguments for the transfer.\n   */\n  @jsonMember(() => Args, {\n    deserializer: deserializeArgs,\n    serializer: (args: Args) => serializeArgs(args, false)\n  })\n  args: Args;\n\n  /**\n   * Constructs a `TransferDeployItem` instance with arguments.\n   * @param args The arguments for the transfer.\n   */\n  constructor(args: Args) {\n    this.args = args;\n  }\n\n  /**\n   * Creates a new transfer deploy item with the specified amount, target, source purse, and transfer ID.\n   * @param amount The amount to transfer.\n   * @param target The target address (either a URef or a PublicKey).\n   * @param sourcePurse The source purse (optional).\n   * @param id The transfer ID.\n   * @returns A new `TransferDeployItem` instance.\n   * @throws Error if the target is not specified or the transfer ID is missing.\n   */\n  public static newTransfer(\n    amount: BigNumber | string,\n    target: URef | PublicKey,\n    sourcePurse: URef | null = null,\n    id?: BigNumberish\n  ): TransferDeployItem {\n    const runtimeArgs = Args.fromMap({});\n    runtimeArgs.insert('amount', CLValue.newCLUInt512(amount));\n    if (sourcePurse) {\n      runtimeArgs.insert('source', CLValue.newCLUref(sourcePurse));\n    }\n    if (target instanceof URef) {\n      runtimeArgs.insert('target', CLValue.newCLUref(target));\n    } else if (target instanceof PublicKey) {\n      runtimeArgs.insert('target', CLValue.newCLPublicKey(target));\n    } else {\n      throw new Error('Please specify target');\n    }\n\n    const optionType = new CLTypeOption(CLTypeUInt64);\n    const defaultClValue = new CLValue(optionType);\n    defaultClValue.option = new CLValueOption(null, optionType);\n\n    runtimeArgs.insert(\n      'id',\n      id ? CLValue.newCLOption(CLValue.newCLUint64(id)) : defaultClValue\n    );\n\n    return new TransferDeployItem(runtimeArgs);\n  }\n\n  /**\n   * Serializes the `TransferDeployItem` instance to a byte array.\n   * @returns The serialized byte array.\n   */\n  bytes(): Uint8Array {\n    return this.args.toBytes();\n  }\n}\n\n/**\n * Represents an executable deploy item, which can be one of several types such as `ModuleBytes`, `StoredContractByHash`, etc.\n */\n@jsonObject\nexport class ExecutableDeployItem {\n  /**\n   * A module bytes deploy item.\n   */\n  @jsonMember({ name: 'ModuleBytes', constructor: ModuleBytes })\n  moduleBytes?: ModuleBytes;\n\n  /**\n   * A stored contract deploy item referenced by hash.\n   */\n  @jsonMember({\n    name: 'StoredContractByHash',\n    constructor: StoredContractByHash\n  })\n  storedContractByHash?: StoredContractByHash;\n\n  /**\n   * A stored contract deploy item referenced by name.\n   */\n  @jsonMember({\n    name: 'StoredContractByName',\n    constructor: StoredContractByName\n  })\n  storedContractByName?: StoredContractByName;\n\n  /**\n   * A stored versioned contract deploy item referenced by hash.\n   */\n  @jsonMember({\n    name: 'StoredVersionedContractByHash',\n    constructor: StoredVersionedContractByHash\n  })\n  storedVersionedContractByHash?: StoredVersionedContractByHash;\n\n  /**\n   * A stored versioned contract deploy item referenced by name.\n   */\n  @jsonMember({\n    name: 'StoredVersionedContractByName',\n    constructor: StoredVersionedContractByName\n  })\n  storedVersionedContractByName?: StoredVersionedContractByName;\n\n  /**\n   * A transfer deploy item.\n   */\n  @jsonMember({ name: 'Transfer', constructor: TransferDeployItem })\n  transfer?: TransferDeployItem;\n\n  /**\n   * Retrieves an argument by name from the deploy item.\n   * @param name The name of the argument.\n   * @returns The argument value, or `undefined` if not found.\n   */\n  public getArgByName(name: string): CLValue | undefined {\n    const deployItemArgs = this.getArgs();\n    return deployItemArgs.args.get(name);\n  }\n\n  /**\n   * Sets an argument by name for the deploy item.\n   * @param name The name of the argument.\n   * @param value The value of the argument.\n   */\n  public setArg(name: string, value: CLValue) {\n    const deployItemArgs = this.getArgs();\n    deployItemArgs.insert(name, value);\n  }\n\n  /**\n   * Retrieves the arguments for the deploy item.\n   * @returns The arguments for the deploy item.\n   */\n  getArgs(): Args {\n    if (this.moduleBytes) return this.moduleBytes.args;\n    if (this.storedContractByHash) return this.storedContractByHash.args;\n    if (this.storedContractByName) return this.storedContractByName.args;\n    if (this.storedVersionedContractByHash)\n      return this.storedVersionedContractByHash.args;\n    if (this.storedVersionedContractByName)\n      return this.storedVersionedContractByName.args;\n    if (this.transfer) return this.transfer.args;\n    throw new Error('failed to serialize ExecutableDeployItemJsonWrapper');\n  }\n\n  /**\n   * Serializes the `ExecutableDeployItem` to a byte array.\n   * @returns The serialized byte array.\n   */\n  bytes(): Uint8Array {\n    let bytes: Uint8Array;\n\n    if (this.moduleBytes) {\n      bytes = this.moduleBytes.bytes();\n      return concat([\n        Uint8Array.of(ExecutableDeployItemType.ModuleBytes),\n        bytes\n      ]);\n    } else if (this.storedContractByHash) {\n      bytes = this.storedContractByHash.bytes();\n      return concat([\n        Uint8Array.of(ExecutableDeployItemType.StoredContractByHash),\n        bytes\n      ]);\n    } else if (this.storedContractByName) {\n      bytes = this.storedContractByName.bytes();\n      return concat([\n        Uint8Array.of(ExecutableDeployItemType.StoredContractByName),\n        bytes\n      ]);\n    } else if (this.storedVersionedContractByHash) {\n      bytes = this.storedVersionedContractByHash.bytes();\n      return concat([\n        Uint8Array.of(ExecutableDeployItemType.StoredVersionedContractByHash),\n        bytes\n      ]);\n    } else if (this.storedVersionedContractByName) {\n      bytes = this.storedVersionedContractByName.bytes();\n      return concat([\n        Uint8Array.of(ExecutableDeployItemType.StoredVersionedContractByName),\n        bytes\n      ]);\n    } else if (this.transfer) {\n      bytes = this.transfer.bytes();\n      return concat([Uint8Array.of(ExecutableDeployItemType.Transfer), bytes]);\n    }\n\n    return new Uint8Array();\n  }\n\n  /**\n   * Creates a standard payment `ExecutableDeployItem` with the specified amount.\n   * @param amount The amount to be transferred.\n   * @returns A new `ExecutableDeployItem` instance with the payment.\n   */\n  public static standardPayment(\n    amount: BigNumber | string\n  ): ExecutableDeployItem {\n    const executableDeployItem = new ExecutableDeployItem();\n    executableDeployItem.moduleBytes = new ModuleBytes(\n      Uint8Array.from([]),\n      Args.fromMap({ amount: CLValue.newCLUInt512(amount) })\n    );\n    return executableDeployItem;\n  }\n\n  /**\n   * Casts the `ExecutableDeployItem` to `ModuleBytes` if possible.\n   * @returns The `ModuleBytes` representation of the `ExecutableDeployItem`, or `undefined` if not possible.\n   */\n  public asModuleBytes(): ModuleBytes | undefined {\n    return this.moduleBytes;\n  }\n\n  /**\n   * Checks if the `ExecutableDeployItem` is of type `Transfer`.\n   * @returns `true` if the `ExecutableDeployItem` is a transfer item, `false` otherwise.\n   */\n  public isTransfer() {\n    return !!this.transfer;\n  }\n\n  /**\n   * Checks if the `ExecutableDeployItem` is of type `StoredVersionedContractByHash`.\n   * @returns `true` if the `ExecutableDeployItem` is a stored versioned contract by hash, `false` otherwise.\n   */\n  public isStoredVersionContractByHash(): boolean {\n    return !!this.storedVersionedContractByHash;\n  }\n\n  /**\n   * Checks if the `ExecutableDeployItem` is of type `StoredVersionedContractByName`.\n   * @returns `true` if the `ExecutableDeployItem` is a stored versioned contract by name, `false` otherwise.\n   */\n  public isStoredVersionContractByName(): boolean {\n    return !!this.storedVersionedContractByName;\n  }\n\n  /**\n   * Checks if the `ExecutableDeployItem` is of type `StoredContractByName`.\n   * @returns `true` if the `ExecutableDeployItem` is a stored contract by name, `false` otherwise.\n   */\n  public isStoredContractByName(): boolean {\n    return !!this.storedContractByName;\n  }\n\n  /**\n   * Checks if the `ExecutableDeployItem` is of type `StoredContractByHash`.\n   * @returns `true` if the `ExecutableDeployItem` is a stored contract by hash, `false` otherwise.\n   */\n  public isStoredContractByHash(): boolean {\n    return !!this.storedContractByHash;\n  }\n\n  /**\n   * Checks if the `ExecutableDeployItem` is of type `ModuleBytes`.\n   * @returns `true` if the `ExecutableDeployItem` is of type `ModuleBytes`, `false` otherwise.\n   */\n  public isModuleBytes(): boolean {\n    return !!this.moduleBytes;\n  }\n\n  /**\n   * Creates a new `ModuleBytes` object from a `Uint8Array` of module bytes and a set of `RuntimeArgs`\n   * @param moduleBytes A set of module bytes as a `Uint8Array`\n   * @param args The runtime arguments for the new `ModuleBytes` object\n   * @returns A new `ExecutableDeployItem` created from a new `ModuleBytes` object built using `moduleBytes` and `args`\n   */\n  public static newModuleBytes(\n    moduleBytes: Uint8Array,\n    args: Args\n  ): ExecutableDeployItem {\n    const executableDeployItem = new ExecutableDeployItem();\n    executableDeployItem.moduleBytes = new ModuleBytes(moduleBytes, args);\n\n    return executableDeployItem;\n  }\n}\n","import {\n  jsonObject,\n  jsonMember,\n  TypedJSON,\n  jsonArrayMember,\n  AnyT\n} from 'typedjson';\nimport { BigNumber } from '@ethersproject/bignumber';\n\nimport { Hash, TransferHash, Key } from './key';\nimport { InitiatorAddr } from './InitiatorAddr';\nimport { Transfer } from './Transfer';\nimport { Transform, TransformKey } from './Transform';\nimport { TransactionHash } from './Transaction';\nimport { Message } from './MessageTopic';\n\n/**\n * Represents an operation performed during a transaction.\n */\n@jsonObject\nexport class Operation {\n  /**\n   * The key associated with the operation.\n   */\n  @jsonMember({\n    name: 'key',\n    constructor: Key,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return Key.newKey(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toPrefixedString();\n    }\n  })\n  public key: Key;\n\n  /**\n   * The type of the operation (e.g., \"Write\", \"Transfer\").\n   */\n  @jsonMember({ name: 'kind', constructor: String })\n  public kind: string;\n}\n\n/**\n * Represents the effect of a transaction, including the operations and transformations.\n */\n@jsonObject\nexport class Effect {\n  /**\n   * The operations performed as part of this effect.\n   */\n  @jsonArrayMember(Operation, {\n    name: 'operations'\n  })\n  public operations: Operation[] = [];\n\n  /**\n   * The transformations applied as part of this effect.\n   */\n  @jsonArrayMember(TransformKey, {\n    name: 'transforms'\n  })\n  public transforms: TransformKey[] = [];\n}\n\n/**\n * Contains the result of a transaction's execution, including the effect and related transfers.\n */\n@jsonObject\nexport class ExecutionResultStatusData {\n  /**\n   * The effect of the transaction execution, including operations and transformations.\n   */\n  @jsonMember({\n    name: 'effect',\n    constructor: Effect\n  })\n  public effect: Effect;\n\n  /**\n   * The transfers that were part of the transaction execution.\n   */\n  @jsonArrayMember(TransferHash, {\n    name: 'transfers',\n    serializer: (value: TransferHash[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) =>\n      json.map((it: string) => TransferHash.fromJSON(it))\n  })\n  public transfers: TransferHash[] = [];\n\n  /**\n   * The cost of the transaction execution.\n   */\n  @jsonMember({\n    name: 'cost',\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => BigNumber.from(value).toString()\n  })\n  public cost: number;\n\n  /**\n   * The error message, if any, generated during the transaction execution.\n   */\n  @jsonMember({ name: 'error_message', constructor: String })\n  public errorMessage: string;\n}\n\n/**\n * Represents version 2 of the execution result, containing more detailed information.\n */\n@jsonObject\nexport class ExecutionResultV2 {\n  /**\n   * The address of the initiator of the execution.\n   */\n  @jsonMember({\n    name: 'initiator',\n    constructor: InitiatorAddr,\n    deserializer: json => InitiatorAddr.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public initiator: InitiatorAddr;\n\n  /**\n   * The error message, if any, generated during the execution.\n   */\n  @jsonMember({\n    name: 'error_message',\n    constructor: String,\n    preserveNull: true\n  })\n  public errorMessage?: string;\n\n  /**\n   * The execution limit for the transaction.\n   */\n  @jsonMember({\n    name: 'limit',\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => {\n      if (!value) return;\n      return BigNumber.from(value).toString();\n    }\n  })\n  public limit: number;\n\n  /**\n   * The amount of resources consumed during the transaction execution.\n   */\n  @jsonMember({\n    name: 'consumed',\n    constructor: Number,\n    deserializer: json => BigNumber.from(json).toNumber(),\n    serializer: value => BigNumber.from(value).toString()\n  })\n  public consumed: number;\n\n  @jsonMember({\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => {\n      if (!value) return;\n      return BigNumber.from(value).toString();\n    }\n  })\n  public refund: number;\n\n  /**\n   * The gas price of the era.\n   */\n  @jsonMember({\n    constructor: Number,\n    name: 'current_price'\n  })\n  public currentPrice: number;\n\n  /**\n   * The cost associated with the transaction execution.\n   */\n  @jsonMember({\n    name: 'cost',\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => {\n      if (!value) return;\n      return BigNumber.from(value).toString();\n    }\n  })\n  public cost: number;\n\n  /**\n   * The payment made for the transaction, if any.\n   */\n  @jsonMember({ name: 'payment', constructor: AnyT })\n  public payment?: any;\n\n  /**\n   * The transfers included in the transaction execution.\n   */\n  @jsonArrayMember(Transfer, {\n    name: 'transfers',\n    deserializer: (json: any) => json.map((it: string) => Transfer.fromJSON(it))\n  })\n  public transfers: Transfer[] = [];\n\n  /**\n   * The estimated size of the transaction execution.\n   */\n  @jsonMember({ name: 'size_estimate', constructor: Number })\n  public sizeEstimate: number;\n\n  /**\n   * The effects applied during the transaction execution.\n   */\n  @jsonArrayMember(Transform, {\n    name: 'effects'\n  })\n  public effects: Transform[] = [];\n}\n\n/**\n * Represents version 1 of the execution result, containing basic information on success or failure.\n */\n@jsonObject\nexport class ExecutionResultV1 {\n  /**\n   * The status data for a successful execution.\n   */\n  @jsonMember({\n    name: 'Success',\n    constructor: ExecutionResultStatusData\n  })\n  public success?: ExecutionResultStatusData;\n\n  /**\n   * The status data for a failed execution.\n   */\n  @jsonMember({\n    name: 'Failure',\n    constructor: ExecutionResultStatusData\n  })\n  public failure?: ExecutionResultStatusData;\n}\n\n/**\n * Contains the block hash and execution result of a deploy execution.\n */\n@jsonObject\nexport class DeployExecutionResult {\n  /**\n   * The block hash where the deploy was executed.\n   */\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public blockHash: Hash;\n\n  /**\n   * The execution result for the deploy.\n   */\n  @jsonMember({\n    name: 'result',\n    constructor: ExecutionResultV1\n  })\n  public result: ExecutionResultV1;\n}\n\n/**\n * Represents the result of a transaction execution, which includes the initiator, cost, transfers, and effects.\n */\n@jsonObject\nexport class ExecutionResult {\n  /**\n   * The address of the initiator of the execution.\n   */\n  @jsonMember({\n    constructor: InitiatorAddr,\n    deserializer: json => {\n      if (!json) return;\n      return InitiatorAddr.fromJSON(json);\n    },\n    serializer: (value: InitiatorAddr) => value.toJSON()\n  })\n  public initiator: InitiatorAddr;\n\n  /**\n   * The error message, if any, generated during the execution.\n   */\n  @jsonMember({\n    name: 'error_message',\n    constructor: String,\n    preserveNull: true\n  })\n  public errorMessage?: string;\n\n  /**\n   * The execution limit for the transaction.\n   */\n  @jsonMember({\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => BigNumber.from(value).toString()\n  })\n  public limit: number;\n\n  /**\n   * The amount of resources consumed during the transaction execution.\n   */\n  @jsonMember({\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => {\n      if (!value) return;\n      return BigNumber.from(value).toString();\n    }\n  })\n  public consumed: number;\n\n  @jsonMember({\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => {\n      if (!value) return;\n      return BigNumber.from(value).toString();\n    }\n  })\n  public refund: number;\n\n  /**\n   * The gas price of the era.\n   */\n  @jsonMember({\n    constructor: Number,\n    name: 'current_price'\n  })\n  public currentPrice: number;\n\n  /**\n   * The cost associated with the transaction execution.\n   */\n  @jsonMember({\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => BigNumber.from(value).toString()\n  })\n  public cost: number;\n\n  /**\n   * The payment made for the transaction, if any.\n   */\n  @jsonMember({ constructor: AnyT })\n  public payment?: any;\n\n  /**\n   * The transfers included in the transaction execution.\n   */\n  @jsonArrayMember(Transfer, {\n    name: 'transfers',\n    deserializer: (json: any) => json.map((it: string) => Transfer.fromJSON(it))\n  })\n  public transfers: Transfer[] = [];\n\n  /**\n   * The estimated size of the transaction execution.\n   */\n  @jsonMember({ constructor: Number })\n  public sizeEstimate: number;\n\n  /**\n   * The effects applied during the transaction execution.\n   */\n  @jsonArrayMember(Transform, {\n    name: 'effects'\n  })\n  public effects: Transform[] = [];\n\n  /**\n   * The original execution result in version 1 format, if applicable.\n   */\n  public originExecutionResultV1?: ExecutionResultV1;\n\n  /**\n   * The original execution result in version 2 format, if applicable.\n   */\n  public originExecutionResultV2?: ExecutionResultV2;\n\n  /**\n   * Deserializes an `ExecutionResult` from JSON data.\n   * Supports both version 1 and version 2 formats.\n   *\n   * @param data The JSON data representing the execution result.\n   * @returns The deserialized `ExecutionResult`.\n   * @throws Error if the data format is invalid or unknown.\n   */\n  public static fromJSON(data: any): ExecutionResult {\n    if (data?.Version2) {\n      const executionResultV2 = TypedJSON.parse(\n        data.Version2,\n        ExecutionResultV2\n      );\n\n      if (executionResultV2) {\n        const executionResult = new ExecutionResult();\n        executionResult.initiator = executionResultV2.initiator;\n        executionResult.errorMessage = executionResultV2.errorMessage;\n        executionResult.limit = executionResultV2.limit;\n        executionResult.consumed = executionResultV2.consumed;\n        executionResult.cost = executionResultV2.cost;\n        executionResult.payment = executionResultV2.payment;\n        executionResult.transfers = executionResultV2.transfers;\n        executionResult.sizeEstimate = executionResultV2.sizeEstimate;\n        executionResult.effects = executionResultV2.effects;\n        executionResult.currentPrice = executionResultV2?.currentPrice;\n        executionResult.refund = executionResultV2?.refund;\n        executionResult.originExecutionResultV2 = executionResultV2;\n        return executionResult;\n      }\n    } else if (data?.Version1) {\n      const executionResultV1 = TypedJSON.parse(\n        data.Version1,\n        ExecutionResultV1\n      );\n      if (executionResultV1) {\n        return ExecutionResult.fromV1(executionResultV1);\n      }\n    }\n\n    throw new Error('Incorrect RPC response structure');\n  }\n\n  /**\n   * Creates an `ExecutionResult` from version 1 of the execution result.\n   *\n   * @param v1 The version 1 execution result.\n   * @returns The `ExecutionResult` created from version 1 data.\n   */\n  public static fromV1(v1: ExecutionResultV1): ExecutionResult {\n    const result = new ExecutionResult();\n    const transforms: Transform[] = [];\n    const transfers: Transfer[] = [];\n\n    if (v1.success) {\n      for (const transform of v1.success.effect.transforms) {\n        transforms.push(new Transform(transform.key, transform.transform));\n\n        if (!transform.transform.isWriteTransfer()) {\n          continue;\n        }\n\n        const writeTransfer = transform.transform.parseAsWriteTransfer();\n\n        if (!writeTransfer) {\n          continue;\n        }\n\n        const transfer = new Transfer();\n        transfer.amount = writeTransfer.amount;\n        transfer.transactionHash = TransactionHash.fromDeployHash(\n          writeTransfer?.deployHash\n        );\n        transfer.from = new InitiatorAddr(undefined, writeTransfer.from);\n        transfer.gas = writeTransfer.gas;\n        transfer.id = writeTransfer.id;\n        transfer.source = writeTransfer.source;\n        transfer.target = writeTransfer.target;\n        transfer.to = writeTransfer.to;\n\n        transfers.push(transfer);\n      }\n\n      result.limit = 0; // limit is unknown field for V1 Deploy\n\n      // In ExecutionResultV1, the 'v1.Success.Cost' field actually represents the amount of consumed gas.\n      // However, in version 1.X, there is no distinction between 'cost' and 'consumed_gas'.\n      //\n      // For example, for failed deploys without execution results, 'cost' is reported as 0,\n      // but the penalty charge (which is a cost) is reflected in the execution effects.\n      //\n      // In version V2, 'Consumed' and 'Cost' are explicitly separated.\n      // So to maintain backward compatibility for V1, 'v1.Success.Cost' is used for both 'Consumed' and 'Cost'.\n      result.consumed = v1.success.cost;\n      result.cost = v1.success.cost;\n      result.payment = null;\n      result.transfers = transfers;\n      result.effects = transforms;\n      result.refund = 0;\n      result.currentPrice = 1;\n      result.originExecutionResultV1 = v1;\n\n      return result;\n    }\n\n    if (v1.failure) {\n      for (const transform of v1.failure.effect.transforms) {\n        // TODO: we should convert old Transform to new format\n        transforms.push(new Transform(transform.key, transform.transform));\n      }\n\n      result.errorMessage = v1.failure.errorMessage;\n      result.consumed = v1.failure.cost;\n      result.effects = transforms;\n      result.originExecutionResultV1 = v1;\n\n      return result;\n    }\n\n    throw new Error('Invalid ExecutionResultV1 structure');\n  }\n\n  /**\n   * Converts an `ExecutionResult` instance to a plain JSON object.\n   *\n   * This method serializes an `ExecutionResult` object into a plain JSON structure\n   * using the `TypedJSON` serializer. It allows for easy conversion of the\n   * `ExecutionResult` to a JSON-compatible format that can be used for logging,\n   * transmission over the network, or storage.\n   *\n   * @param executionResult - The `ExecutionResult` instance to be converted into a plain JSON object.\n   *\n   * @returns A plain JSON object representing the `ExecutionResult`.\n   *\n   */\n  public static toJSON(executionResult: ExecutionResult) {\n    const serializer = new TypedJSON(ExecutionResult);\n    return serializer.toPlainJson(executionResult);\n  }\n}\n\n@jsonObject\nexport class SpeculativeExecutionResult {\n  @jsonMember({\n    constructor: Hash,\n    name: 'block_hash',\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  public blockHash: Hash;\n\n  /**\n   * The transfers included in the transaction execution.\n   */\n  @jsonArrayMember(Transfer, {\n    name: 'transfers',\n    deserializer: (json: any) => json.map((it: string) => Transfer.fromJSON(it))\n  })\n  public transfers: Transfer[] = [];\n\n  /**\n   * The execution limit for the transaction.\n   */\n  @jsonMember({\n    name: 'limit',\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => {\n      if (!value) return;\n      return BigNumber.from(value).toString();\n    }\n  })\n  public limit: number;\n\n  /**\n   * The amount of resources consumed during the transaction execution.\n   */\n  @jsonMember({\n    name: 'consumed',\n    constructor: Number,\n    deserializer: json => {\n      if (!json) return;\n      return BigNumber.from(json).toNumber();\n    },\n    serializer: value => BigNumber.from(value).toString()\n  })\n  public consumed: number;\n\n  /**\n   * The effects applied during the transaction execution.\n   */\n  @jsonArrayMember(Transform, {\n    name: 'effects'\n  })\n  public effects: Transform[] = [];\n\n  @jsonArrayMember(Message, { name: 'messages' })\n  messages: Message[];\n\n  /**\n   * The error message, if any, generated during the execution.\n   */\n  @jsonMember({\n    name: 'error',\n    constructor: String,\n    preserveNull: true\n  })\n  public errorMessage?: string;\n}\n\n/**\n * Represents execution information about a deploy, including the block hash, height, and execution result.\n */\n@jsonObject\nexport class ExecutionInfo {\n  /**\n   * The block hash where the deploy was executed.\n   */\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public blockHash: Hash;\n\n  /**\n   * The block height at the time the deploy was executed.\n   */\n  @jsonMember({ name: 'block_height', constructor: Number })\n  public blockHeight: number;\n\n  /**\n   * The execution result associated with the deploy.\n   */\n  @jsonMember({\n    name: 'execution_result',\n    constructor: ExecutionResult,\n    deserializer: json => {\n      if (!json) return;\n      return ExecutionResult.fromJSON(json);\n    }\n  })\n  public executionResult: ExecutionResult;\n\n  constructor(\n    blockHash: Hash,\n    blockHeight: number,\n    executionResult: ExecutionResult\n  ) {\n    this.blockHash = blockHash;\n    this.blockHeight = blockHeight;\n    this.executionResult = executionResult;\n  }\n\n  public static fromV1(\n    results: DeployExecutionResult[],\n    height?: number\n  ): ExecutionInfo {\n    if (results.length === 0) {\n      throw new Error('Missing ExecutionInfo.fromV1 results');\n    }\n\n    const result = results[0];\n    const blockHeight = height ?? 0;\n\n    return new ExecutionInfo(\n      result.blockHash,\n      blockHeight,\n      ExecutionResult.fromV1(result.result)\n    );\n  }\n}\n\n/**\n * Represents execution information for a deploy, including the block hash, height, and execution result.\n */\n@jsonObject\nexport class DeployExecutionInfo {\n  /**\n   * The block hash where the deploy was executed.\n   */\n  @jsonMember({\n    name: 'block_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public blockHash: Hash;\n\n  /**\n   * The block height at the time the deploy was executed.\n   */\n  @jsonMember({ name: 'block_height', constructor: Number })\n  public blockHeight: number;\n\n  /**\n   * The execution result associated with the deploy.\n   */\n  @jsonMember({\n    name: 'execution_result',\n    constructor: ExecutionResult,\n    deserializer: json => {\n      if (!json) return;\n      return ExecutionResult.fromJSON(json);\n    }\n  })\n  public executionResult: ExecutionResult;\n\n  /**\n   * Creates a `DeployExecutionInfo` instance from version 1 data.\n   *\n   * @param results The results of the deploy execution.\n   * @param height The block height, if available.\n   * @returns The `DeployExecutionInfo` instance created from version 1 data.\n   */\n  public static fromV1(\n    results: DeployExecutionResult[],\n    height?: number\n  ): DeployExecutionInfo {\n    if (results.length === 0) {\n      return new DeployExecutionInfo();\n    }\n\n    const result = results[0];\n    const blockHeight = height ?? 0;\n\n    const deployExecutionInfo = new DeployExecutionInfo();\n    deployExecutionInfo.blockHash = result.blockHash;\n    deployExecutionInfo.blockHeight = blockHeight;\n    deployExecutionInfo.executionResult = ExecutionResult.fromV1(result.result);\n\n    return deployExecutionInfo;\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\n\n/**\n * Represents a collection of bytes stored as a `Uint8Array` with methods\n * to convert to/from hexadecimal and JSON.\n */\n@jsonObject\nexport class HexBytes {\n  /**\n   * The raw byte data stored in a `Uint8Array`.\n   */\n  @jsonMember(Uint8Array)\n  bytes: Uint8Array;\n\n  /**\n   * Creates a new instance of `HexBytes`.\n   *\n   * @param bytes The byte data as a `Uint8Array`.\n   */\n  constructor(bytes: Uint8Array) {\n    this.bytes = bytes;\n  }\n\n  /**\n   * Converts the stored bytes into a hexadecimal string.\n   *\n   * @returns The hexadecimal string representation of the byte data.\n   */\n  toHex(): string {\n    return Array.from(this.bytes)\n      .map(byte => byte.toString(16).padStart(2, '0'))\n      .join('');\n  }\n\n  /**\n   * Converts the stored bytes to a JSON string representation.\n   * This method returns the hexadecimal string of the byte data.\n   *\n   * @returns The hexadecimal string as a JSON string.\n   */\n  toJSON(): string {\n    return this.toHex();\n  }\n\n  /**\n   * Creates a `HexBytes` instance from a hexadecimal string.\n   *\n   * @param hexString The hexadecimal string to convert.\n   * @returns A new `HexBytes` instance.\n   */\n  static fromHex(hexString: string): HexBytes {\n    const bytes = new Uint8Array(\n      hexString.match(/.{1,2}/g)!.map(byte => parseInt(byte, 16))\n    );\n    return new HexBytes(bytes);\n  }\n\n  /**\n   * Creates a `HexBytes` instance from a JSON string.\n   * The JSON string should be a hexadecimal string.\n   *\n   * @param json The JSON string to convert.\n   * @returns A new `HexBytes` instance.\n   */\n  static fromJSON(json: string): HexBytes {\n    return HexBytes.fromHex(json);\n  }\n\n  /**\n   * Returns a string representation of the byte data as hexadecimal.\n   *\n   * @returns A string representing the byte data in hexadecimal format.\n   */\n  toString(): string {\n    return this.toHex();\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\n\nimport { PublicKey } from './keypair';\nimport { AccountHash } from './key';\nimport { CalltableSerialization } from './CalltableSerialization';\n\n/**\n * Represents an address for an initiator, which can either be a public key or an account hash.\n */\n@jsonObject\nexport class InitiatorAddr {\n  /**\n   * The public key of the initiator, if available.\n   */\n  @jsonMember({\n    name: 'PublicKey',\n    constructor: PublicKey\n  })\n  public publicKey?: PublicKey;\n\n  /**\n   * The account hash of the initiator, if available.\n   */\n  @jsonMember({\n    name: 'AccountHash',\n    constructor: AccountHash\n  })\n  public accountHash?: AccountHash;\n\n  /**\n   * Creates an instance of `InitiatorAddr` with an optional public key and account hash.\n   *\n   * @param publicKey The public key of the initiator.\n   * @param accountHash The account hash of the initiator.\n   */\n  constructor(publicKey?: PublicKey, accountHash?: AccountHash) {\n    this.publicKey = publicKey;\n    this.accountHash = accountHash;\n  }\n\n  /**\n   * Converts the `InitiatorAddr` instance to a byte array representation.\n   * The result depends on whether the address is a public key or an account hash.\n   *\n   * @returns A `Uint8Array` representing the initiator address.\n   */\n  public toBytes(): Uint8Array {\n    if (this.accountHash) {\n      const calltableSerialization = new CalltableSerialization();\n\n      calltableSerialization.addField(0, Uint8Array.of(1));\n      calltableSerialization.addField(1, this.accountHash.toBytes());\n\n      return calltableSerialization.toBytes();\n    } else if (this.publicKey) {\n      const calltableSerialization = new CalltableSerialization();\n\n      calltableSerialization.addField(0, Uint8Array.of(0));\n      calltableSerialization.addField(1, this.publicKey.bytes());\n\n      return calltableSerialization.toBytes();\n    }\n\n    throw new Error('Unable to serialize InitiatorAddr');\n  }\n\n  /**\n   * Creates an `InitiatorAddr` instance from a JSON object.\n   * The JSON object can contain either a `publicKey` or an `accountHash` string.\n   *\n   * @param json The JSON object containing the address data.\n   * @returns A new `InitiatorAddr` instance.\n   */\n  static fromJSON(json: any): InitiatorAddr {\n    const initiatorAddr = new InitiatorAddr();\n    const jsonPubKey = json?.publicKey || json?.PublicKey;\n    const jsonAccountHash = json?.accountHash || json?.AccountHash;\n\n    if (jsonPubKey) {\n      initiatorAddr.publicKey = PublicKey.fromHex(jsonPubKey);\n    } else if (jsonAccountHash) {\n      initiatorAddr.accountHash = AccountHash.fromString(jsonAccountHash);\n    }\n\n    return initiatorAddr;\n  }\n\n  /**\n   * Converts the `InitiatorAddr` instance to a JSON object.\n   * The JSON object will contain either a `publicKey` or an `accountHash` depending on which is available.\n   *\n   * @returns A JSON object representing the initiator address.\n   */\n  public toJSON(): unknown {\n    if (this.accountHash) {\n      return {\n        AccountHash: this.accountHash.toPrefixedString()\n      };\n    } else if (this.publicKey) {\n      return {\n        PublicKey: this.publicKey.toHex()\n      };\n    }\n    return undefined;\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { Hash } from './key';\nimport { ModuleBytes } from './ExecutableDeployItem';\n\n/**\n * Represents a summary of a message topic, including the number of messages and block time.\n */\n@jsonObject\nexport class MessageTopicSummary {\n  /**\n   * The total number of messages in this topic.\n   */\n  @jsonMember({ name: 'message_count', constructor: Number })\n  messageCount: number;\n\n  /**\n   * The block time associated with the topic.\n   */\n  @jsonMember({ name: 'blocktime', constructor: Number })\n  blockTime: number;\n}\n\n/**\n * Represents a checksum for a message, stored as a string.\n */\nexport type MessageChecksum = string;\n\n/**\n * Represents a message topic, including the topic name and its hash.\n */\n@jsonObject\nexport class MessageTopic {\n  /**\n   * The name of the message topic.\n   */\n  @jsonMember({ name: 'topic_name', constructor: String })\n  topicName: string;\n\n  /**\n   * The hash of the message topic name.\n   */\n  @jsonMember({\n    name: 'topic_name_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  topicNameHash: Hash;\n}\n\n/**\n * Represents the payload of a message, which can either be a string or bytes.\n */\n@jsonObject\nexport class MessagePayload {\n  /**\n   * The string payload of the message, if available.\n   */\n  @jsonMember({ name: 'String', constructor: String })\n  string?: string;\n\n  /**\n   * The bytes payload of the message, if available.\n   */\n  @jsonMember({\n    name: 'Bytes',\n    constructor: ModuleBytes\n  })\n  bytes?: ModuleBytes;\n}\n\n/**\n * Represents a message with a payload, topic, and related metadata.\n */\n@jsonObject\nexport class Message {\n  /**\n   * The payload of the message, which can either be a string or bytes.\n   */\n  @jsonMember({\n    name: 'message',\n    constructor: MessagePayload\n  })\n  message: MessagePayload;\n\n  /**\n   * The name of the topic associated with this message.\n   */\n  @jsonMember({ name: 'topic_name', constructor: String })\n  topicName: string;\n\n  /**\n   * The hash of the topic name, which is used to identify the topic.\n   */\n  @jsonMember({\n    name: 'topic_name_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  topicNameHash: Hash;\n\n  /**\n   * The entity address associated with the message, often the sender or origin.\n   */\n  @jsonMember({\n    name: 'hash_addr',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  hashAddr: Hash;\n\n  /**\n   * The index of the block where the message was included.\n   */\n  @jsonMember({ name: 'block_index', constructor: Number })\n  blockIndex: number;\n\n  /**\n   * The index of the topic within the block.\n   */\n  @jsonMember({ name: 'topic_index', constructor: Number })\n  topicIndex: number;\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { PublicKey } from './keypair';\nimport { Hash } from './key';\nimport { Timestamp } from './Time';\n\n/**\n * Represents minimal block information, including metadata such as the creator,\n * era ID, block hash, height, state root hash, and timestamp.\n */\n@jsonObject\nexport class MinimalBlockInfo {\n  /**\n   * The public key of the creator of the block.\n   * This represents the entity that created the block.\n   */\n  @jsonMember({\n    name: 'creator',\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  creator: PublicKey;\n\n  /**\n   * The era ID of the block, representing the era in which this block was created.\n   */\n  @jsonMember({ name: 'era_id', constructor: Number })\n  eraID: number;\n\n  /**\n   * The hash of the block, used to uniquely identify it.\n   */\n  @jsonMember({\n    name: 'hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  hash: Hash;\n\n  /**\n   * The height of the block, indicating its position in the blockchain.\n   */\n  @jsonMember({ name: 'height', constructor: Number })\n  height: number;\n\n  /**\n   * The state root hash of the block, representing the state of the blockchain\n   * after processing the block.\n   */\n  @jsonMember({\n    name: 'state_root_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  stateRootHash: Hash;\n\n  /**\n   * The timestamp when the block was created.\n   * This is typically the time when the block was finalized or validated.\n   */\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp,\n    deserializer: json => Timestamp.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  timestamp: Timestamp;\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { Key } from './key';\nimport { CLValue, CLValueParser } from './clvalue';\n\n/**\n * Represents a named key, consisting of a name and an associated key.\n */\n@jsonObject\nexport class NamedKey {\n  /**\n   * The name of the named key.\n   */\n  @jsonMember({ name: 'name', constructor: String })\n  name: string;\n\n  /**\n   * The key associated with the named key.\n   */\n  @jsonMember({\n    name: 'key',\n    constructor: Key,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return Key.newKey(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toPrefixedString();\n    }\n  })\n  key: Key;\n\n  /**\n   * Creates a new instance of `NamedKey` with a name and key.\n   *\n   * @param name The name of the key.\n   * @param key The associated key.\n   */\n  constructor(name: string, key: Key) {\n    this.name = name;\n    this.key = key;\n  }\n}\n\n/**\n * Represents a value of a named key, where both the name and key value are `CLValue` types.\n */\n@jsonObject\nexport class NamedKeyValue {\n  /**\n   * The name of the named key represented as a `CLValue`.\n   */\n  @jsonMember({\n    name: 'name',\n    constructor: CLValue,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueParser.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return CLValueParser.toJSON(value);\n    }\n  })\n  name: CLValue;\n\n  /**\n   * The value of the named key represented as a `CLValue`.\n   */\n  @jsonMember({\n    name: 'named_key',\n    constructor: CLValue,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueParser.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return CLValueParser.toJSON(value);\n    }\n  })\n  namedKey: CLValue;\n\n  /**\n   * Creates a new `NamedKeyValue` instance with a name and named key value.\n   *\n   * @param name The name of the named key as a `CLValue`.\n   * @param namedKey The value of the named key as a `CLValue`.\n   */\n  constructor(name: CLValue, namedKey: CLValue) {\n    this.name = name;\n    this.namedKey = namedKey;\n  }\n}\n","import { jsonObject, jsonMember, jsonArrayMember } from 'typedjson';\nimport { EntityAddr, URef } from './key';\n\n/**\n * Represents a key that uniquely identifies the version of an entity, including both the entity version and the protocol version.\n */\n@jsonObject\nexport class EntityVersionKey {\n  /**\n   * The version of the entity.\n   */\n  @jsonMember({ name: 'entity_version', constructor: Number })\n  entityVersion: number;\n\n  /**\n   * The major version of the protocol used by the entity.\n   */\n  @jsonMember({ name: 'protocol_version_major', constructor: Number })\n  protocolVersionMajor: number;\n\n  /**\n   * Creates a new instance of `EntityVersionKey` with an entity version and protocol version major.\n   *\n   * @param entityVersion The version of the entity.\n   * @param protocolVersionMajor The major version of the protocol used by the entity.\n   */\n  constructor(entityVersion: number, protocolVersionMajor: number) {\n    this.entityVersion = entityVersion;\n    this.protocolVersionMajor = protocolVersionMajor;\n  }\n}\n\n/**\n * Represents an entity version and its associated addressable entity hash.\n */\n@jsonObject\nexport class EntityVersionAndHash {\n  /**\n   * The addressable entity hash associated with the entity.\n   * This is used to uniquely identify an entity in a decentralized environment.\n   */\n  @jsonMember({\n    name: 'entity_addr',\n    constructor: EntityAddr,\n    deserializer: json => EntityAddr.fromJSON(json),\n    serializer: (value: EntityAddr) => value.toJSON()\n  })\n  addressableEntity: EntityAddr;\n\n  /**\n   * The key representing the version of the entity.\n   */\n  @jsonMember({\n    name: 'entity_version_key',\n    constructor: EntityVersionKey\n  })\n  entityVersionKey: EntityVersionKey;\n\n  /**\n   * Creates a new instance of `EntityVersionAndHash` with an addressable entity hash and an entity version key.\n   *\n   * @param addressableEntity The addressable entity hash for the entity.\n   * @param entityVersionKey The version key of the entity.\n   */\n  constructor(\n    addressableEntity: EntityAddr,\n    entityVersionKey: EntityVersionKey\n  ) {\n    this.addressableEntity = addressableEntity;\n    this.entityVersionKey = entityVersionKey;\n  }\n}\n\n/**\n * Represents a package with its versions and disabled versions, along with its lock status and associated groups.\n */\n@jsonObject\nexport class Package {\n  /**\n   * A list of versions associated with this package.\n   */\n  @jsonArrayMember(EntityVersionAndHash, { name: 'versions' })\n  versions: EntityVersionAndHash[];\n\n  /**\n   * A list of disabled versions of this package.\n   */\n  @jsonArrayMember(EntityVersionAndHash, { name: 'disabled_versions' })\n  disabledVersions: EntityVersionAndHash[];\n\n  /**\n   * The lock status of the package (e.g., whether it's locked or unlocked).\n   */\n  @jsonMember({ name: 'lock_status', constructor: String })\n  lockStatus: string;\n\n  /**\n   * The groups associated with the package.\n   */\n  @jsonArrayMember(String, { name: 'groups' })\n  groups: string[];\n}\n\n/**\n * Represents a user group with its associated name and users (identified by their URefs).\n */\n@jsonObject\nexport class NamedUserGroup {\n  /**\n   * The name of the user group.\n   */\n  @jsonMember({ name: 'group_name', constructor: String })\n  groupName: string;\n\n  /**\n   * A list of users in the group, represented by their URefs (Universal References).\n   */\n  @jsonArrayMember(URef, {\n    name: 'group_users',\n    serializer: (value: URef[]) => value.map(it => it.toJSON()),\n    deserializer: (json: any) => {\n      if (!json) return;\n      return json.map((it: string) => URef.fromJSON(it));\n    }\n  })\n  groupUsers: URef[];\n\n  /**\n   * Creates a new `NamedUserGroup` instance with a group name and a list of group users (URefs).\n   *\n   * @param groupName The name of the user group.\n   * @param groupUsers The list of users in the group, identified by their URefs.\n   */\n  constructor(groupName: string, groupUsers: URef[]) {\n    this.groupName = groupName;\n    this.groupUsers = groupUsers;\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { HexBytes } from './HexBytes';\nimport { Hash } from './key';\n\n/**\n * Represents a gas pre-payment in the blockchain system.\n *\n * This container includes details about the receipt, prepayment kind,\n * and associated data required for the gas pre-payment process.\n */\n@jsonObject\nexport class PrepaymentKind {\n  /**\n   * The receipt identifier for the gas pre-payment.\n   *\n   * This is a string representation that uniquely identifies the pre-payment receipt.\n   */\n  @jsonMember({\n    name: 'receipt',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  receipt: Hash;\n\n  /**\n   * The kind of pre-payment, represented as a byte.\n   *\n   * This value specifies the type or category of the pre-payment.\n   */\n  @jsonMember({\n    name: 'prepayment_data',\n    constructor: HexBytes,\n    deserializer: json => HexBytes.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  prepaymentData: HexBytes;\n\n  /**\n   * The pre-payment data associated with this transaction.\n   *\n   * This is a string containing additional information or metadata for the pre-payment.\n   */\n  @jsonMember({ name: 'prepayment_kind', constructor: Number })\n  prepaymentKind: number;\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { Hash } from './key';\nimport { CLValue } from './clvalue';\nimport { CalltableSerialization } from './CalltableSerialization';\n\n/**\n * Represents the payment limited ( classic before ) pricing mode, including parameters for gas price tolerance,\n * payment amount, and standard payment.\n */\n@jsonObject\nexport class PaymentLimitedMode {\n  /**\n   * The tolerance for gas price fluctuations in classic pricing mode.\n   */\n  @jsonMember({ name: 'gas_price_tolerance', constructor: Number })\n  gasPriceTolerance: number;\n\n  /**\n   * The payment amount associated with classic pricing mode.\n   */\n  @jsonMember({ name: 'payment_amount', constructor: Number })\n  paymentAmount: number;\n\n  /**\n   * Whether the payment is a standard payment.\n   */\n  @jsonMember({ name: 'standard_payment', constructor: Boolean })\n  standardPayment: boolean;\n\n  public toBytes(): Uint8Array {\n    const calltableSerializer = new CalltableSerialization();\n    calltableSerializer.addField(0, CLValue.newCLUint8(0).bytes());\n    calltableSerializer.addField(\n      1,\n      CLValue.newCLUint64(this.paymentAmount).bytes()\n    );\n    calltableSerializer.addField(\n      2,\n      CLValue.newCLUint8(this.gasPriceTolerance).bytes()\n    );\n    calltableSerializer.addField(\n      3,\n      CLValue.newCLValueBool(this.standardPayment).bytes()\n    );\n\n    return calltableSerializer.toBytes();\n  }\n}\n\n/**\n * Represents the fixed pricing mode, including a parameter for gas price tolerance.\n */\n@jsonObject\nexport class FixedMode {\n  /**\n   * The tolerance for gas price fluctuations in fixed pricing mode.\n   */\n  @jsonMember({ name: 'gas_price_tolerance', constructor: Number })\n  gasPriceTolerance: number;\n\n  /**\n   * User-specified additional computation factor (minimum 0).\n   *\n   * - If `0` is provided, no additional logic is applied to the computation limit.\n   * - Each value above `0` tells the node that it needs to treat the transaction\n   *   as if it uses more gas than its serialized size indicates.\n   * - Each increment of `1` increases the \"wasm lane\" size bucket for this transaction by `1`.\n   *\n   * For example:\n   * - If the transaction's size indicates bucket `0` and `additionalComputationFactor = 2`,\n   *   the transaction will be treated as if it belongs to bucket `2`.\n   */\n  @jsonMember({ name: 'additional_computation_factor', constructor: Number })\n  additionalComputationFactor!: number;\n\n  public toBytes(): Uint8Array {\n    const calltableSerializer = new CalltableSerialization();\n    calltableSerializer.addField(0, CLValue.newCLUint8(1).bytes());\n    calltableSerializer.addField(\n      1,\n      CLValue.newCLUint8(this.gasPriceTolerance).bytes()\n    );\n    calltableSerializer.addField(\n      2,\n      CLValue.newCLUint8(this.additionalComputationFactor).bytes()\n    );\n\n    return calltableSerializer.toBytes();\n  }\n}\n\n/**\n * Represents the prepair ( reserved before ) pricing mode, which includes a receipt hash.\n */\n@jsonObject\nexport class PrepaidMode {\n  /**\n   * The receipt associated with the reserved pricing mode.\n   */\n  @jsonMember({\n    name: 'receipt',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  receipt: Hash;\n\n  public toBytes(): Uint8Array {\n    const calltableSerializer = new CalltableSerialization();\n    calltableSerializer.addField(0, CLValue.newCLUint8(2).bytes());\n    calltableSerializer.addField(1, this.receipt.toBytes());\n\n    return calltableSerializer.toBytes();\n  }\n}\n\n/**\n * Represents the pricing mode, which can be one of the following: PaymentLimited, Fixed, or Prepaid.\n */\n@jsonObject\nexport class PricingMode {\n  /**\n   * The PaymentLimited pricing mode, if applicable.\n   */\n  @jsonMember({ name: 'PaymentLimited', constructor: PaymentLimitedMode })\n  paymentLimited?: PaymentLimitedMode;\n\n  /**\n   * The fixed pricing mode, if applicable.\n   */\n  @jsonMember({ name: 'Fixed', constructor: FixedMode })\n  fixed?: FixedMode;\n\n  /**\n   * The Prepaid pricing mode, if applicable.\n   */\n  @jsonMember({ name: 'Prepaid', constructor: PrepaidMode })\n  prepaid?: PrepaidMode;\n\n  /**\n   * Converts the pricing mode instance into a byte array representation.\n   * This method serializes the current pricing mode into bytes that can be used for transactions.\n   *\n   * @returns A `Uint8Array` representing the serialized pricing mode.\n   */\n  toBytes(): Uint8Array {\n    if (this.paymentLimited) {\n      return this.paymentLimited.toBytes();\n    } else if (this.fixed) {\n      return this.fixed.toBytes();\n    } else if (this.prepaid) {\n      return this.prepaid.toBytes();\n    }\n\n    throw new Error('Unable to serialize PricingMode');\n  }\n}\n","import { TypedJSON } from 'typedjson';\nimport humanizeDuration from 'humanize-duration';\nimport { Args } from './Args';\nimport { Conversions } from './Conversions';\nimport { CLValueUInt512 } from './clvalue';\nimport { IDisabledVersion } from './ContractPackage';\n\n/**\n * Serializes a `Uint8Array` into a hexadecimal string.\n *\n * @param bytes The `Uint8Array` to be serialized.\n * @returns A base-16 encoded string of the provided byte array.\n */\nexport const byteArrayJsonSerializer: (bytes: Uint8Array) => string = (\n  bytes: Uint8Array\n) => {\n  return Conversions.encodeBase16(bytes);\n};\n\n/**\n * Serializes a `Uint8Array` into a hexadecimal string, but only if the value is not `undefined`.\n *\n * @param bytes The `Uint8Array` to be serialized (or `undefined`).\n * @returns A base-16 encoded string of the provided byte array, or `undefined` if input is `undefined`.\n *\n * @note It's suggested to swap the names of this function with `byteArrayJsonSerializer` for better clarity. This function handles `undefined` inputs, while `byteArrayJsonSerializer` should handle only `Uint8Array` directly.\n */\nexport const undefinedSafeByteArrayJsonSerializer: (\n  bytes: Uint8Array | undefined\n) => string | undefined = (bytes: Uint8Array | undefined) => {\n  if (!bytes) {\n    return undefined;\n  }\n  return Conversions.encodeBase16(bytes);\n};\n\n/**\n * Deserializes a hexadecimal string into a `Uint8Array`.\n *\n * @param str The base-16 encoded string to be deserialized.\n * @returns The decoded `Uint8Array` corresponding to the hexadecimal string.\n */\nexport const byteArrayJsonDeserializer: (str: string) => Uint8Array = (\n  str: string\n) => {\n  return Conversions.decodeBase16(str);\n};\n\n/**\n * Deserializes a hexadecimal string into a `Uint8Array`, but only if the value is not `undefined`.\n *\n * @param str The base-16 encoded string to be deserialized (or `undefined`).\n * @returns The decoded `Uint8Array` corresponding to the hexadecimal string, or `undefined` if input is `undefined`.\n */\nexport const undefinedSafeByteArrayJsonDeserializer: (\n  str: string | undefined\n) => Uint8Array | undefined = (str: string | undefined) => {\n  if (!str) {\n    return undefined;\n  }\n  return Conversions.decodeBase16(str);\n};\n\n/**\n * A humanizer configuration for time durations in short English format (days, hours, minutes, seconds, milliseconds).\n */\nconst shortEnglishHumanizer = humanizeDuration.humanizer({\n  spacer: '',\n  serialComma: false,\n  conjunction: ' ',\n  delimiter: ' ',\n  language: 'shortEn',\n  languages: {\n    // Mapping of duration units to shorter names\n    shortEn: {\n      d: () => 'day',\n      h: () => 'h',\n      m: () => 'm',\n      s: () => 's',\n      ms: () => 'ms'\n    }\n  }\n});\n\n/**\n * Returns a human-readable time duration for a given time-to-live (TTL) in milliseconds.\n *\n * @param ttl The TTL in milliseconds.\n * @returns A human-readable string representation of the TTL, such as \"1d 2h 3m 4s\".\n */\nexport const humanizerTTL = (ttl: number) => {\n  return shortEnglishHumanizer(ttl);\n};\n\n/**\n * Converts a human-readable time duration (e.g., \"1d 2h 3m 4s\") back to a time-to-live (TTL) in milliseconds.\n *\n * @param ttl The human-readable string representing the time duration.\n * @returns The TTL in milliseconds.\n * @throws Error if an unsupported TTL unit is encountered.\n */\nexport const dehumanizerTTL = (ttl: string): number => {\n  const dehumanizeUnit = (s: string): number => {\n    if (s.includes('ms')) {\n      return Number(s.replace('ms', ''));\n    }\n    if (s.includes('s') && !s.includes('m')) {\n      return Number(s.replace('s', '')) * 1000;\n    }\n    if (s.includes('m') && !s.includes('s')) {\n      return Number(s.replace('m', '')) * 60 * 1000;\n    }\n    if (s.includes('h')) {\n      return Number(s.replace('h', '')) * 60 * 60 * 1000;\n    }\n    if (s.includes('day')) {\n      return Number(s.replace('day', '')) * 24 * 60 * 60 * 1000;\n    }\n    throw Error('Unsupported TTL unit');\n  };\n\n  return ttl\n    .split(' ')\n    .map(dehumanizeUnit)\n    .reduce((acc, val) => (acc += val));\n};\n\n/**\n * Deserializes an array of runtime arguments to a `RuntimeArgs` object.\n *\n * @param arr The array of serialized runtime arguments or a Named wrapper.\n * @returns A `RuntimeArgs` object containing the deserialized arguments.\n * @throws Error if the input format is invalid.\n */\nexport const deserializeArgs = (arr: any): Args | undefined => {\n  const raSerializer = new TypedJSON(Args);\n\n  if (arr.Named && Array.isArray(arr.Named)) {\n    // If the arguments are wrapped in a \"Named\" property\n    return raSerializer.parse({ args: arr.Named });\n  }\n\n  if (Array.isArray(arr)) {\n    // If the input is directly an array of arguments\n    return raSerializer.parse({ args: arr });\n  }\n\n  throw new Error('Invalid argument format for deserialization.');\n};\n\n/**\n * Serializes a `RuntimeArgs` object to a byte array or an object representation.\n *\n * This function converts the `RuntimeArgs` (or `Args`) object into a serialized format.\n * If `asNamed` is set to `true`, the serialized arguments are wrapped in a `Named` property\n * for more structured output. Otherwise, the plain array of serialized arguments is returned.\n *\n * @param ra - The `Args` object to be serialized. It contains the runtime arguments.\n * @param asNamed - A boolean flag indicating whether to wrap the serialized output in a `Named` property. Defaults to `false`.\n * @returns A serialized representation of the runtime arguments.\n * If `asNamed` is `true`, the output is an object with a `Named` property. Otherwise, it is a plain array.\n *\n */\nexport const serializeArgs = (ra: Args, asNamed = false) => {\n  const raSerializer = new TypedJSON(Args);\n  const json = raSerializer.toPlainJson(ra);\n  const argsArray = Object.values(json as any)[0];\n\n  if (asNamed) {\n    return {\n      Named: argsArray\n    };\n  }\n\n  return argsArray;\n};\n\n/**\n * Deserializes an array of rewards into a Map.\n * @param arr - The array to be deserialized, where each element is a tuple containing a key and an array of rewards.\n * @returns A Map where each key corresponds to an array of CLValueUInt512 rewards.\n * @throws Will throw an error if duplicate keys are detected.\n */\nexport const deserializeRewards = (arr: any) => {\n  const parsed = new Map(\n    Array.from(arr, ([key, value]) => {\n      const valuesArray = value.map((item: any) =>\n        CLValueUInt512.fromJSON(item)\n      );\n      return [key, valuesArray];\n    })\n  );\n\n  if (parsed.size !== Array.from(arr).length) {\n    throw Error(`Duplicate key exists.`);\n  }\n\n  return parsed;\n};\n\n/**\n * Serializes a Map of rewards into an array format suitable for JSON storage.\n * @param map - A Map where each key corresponds to an array of CLValueUInt512 rewards.\n * @returns An array where each element is a tuple containing a key and an array of rewards in JSON format.\n */\nexport const serializeRewards = (map: Map<string, CLValueUInt512[]>) => {\n  return Array.from(map, ([key, value]) => {\n    const serializedValue = value.map(item => item.toJSON());\n    return [key, serializedValue];\n  });\n};\n\n/**\n * Parses disabled versions into a standardized array of tuples.\n *\n * @param disabledVersions - The input array, which can be:\n *   - An array of tuples (`[number, number][]`), or\n *   - An array of objects with `protocol_version_major` and `contract_version` properties.\n * @returns An array of tuples (`[number, number][]`) representing `[protocol_version_major, contract_version]`.\n */\nexport const deserializeDisabledVersions = (\n  disabledVersions: [number, number][] | IDisabledVersion[]\n): [number, number][] => {\n  // V2 Compatible\n  if (Array.isArray(disabledVersions) && Array.isArray(disabledVersions[0])) {\n    return disabledVersions as [number, number][];\n  }\n\n  // V1 Compatible\n  return (disabledVersions as IDisabledVersion[]).map(\n    ({ protocol_version_major, contract_version }) => [\n      contract_version,\n      protocol_version_major\n    ]\n  );\n};\n","import { jsonArrayMember, jsonMember, jsonObject } from 'typedjson';\n\nimport { Account } from './Account';\nimport { Transfer } from './Transfer';\nimport { DeployInfo } from './DeployInfo';\nimport { EraInfo } from './EraInfo';\nimport { Bid } from './Bid';\nimport { UnbondingPurse } from './UnbondingPurse';\nimport { AddressableEntity } from './AddressableEntity';\nimport { BidKind } from './BidKind';\nimport { Package } from './Package';\nimport { MessageChecksum, MessageTopicSummary } from './MessageTopic';\nimport { NamedKeyValue } from './NamedKey';\nimport { EntryPointValue } from './EntryPoint';\nimport { PrepaymentKind } from './Prepayment';\nimport { Contract } from './Contract';\nimport { ContractPackage } from './ContractPackage';\nimport { CLValue, CLValueParser } from './clvalue';\nimport { SystemByteCode } from './ByteCode';\nimport { ContractWasm } from './ContractWasm';\n\n/**\n * Represents a stored value in a decentralized system. The value can be of different types\n * like `Account`, `Contract`, `Transfer`, etc. Each field corresponds to a specific type of\n * stored data in the system.\n */\n@jsonObject\nexport class StoredValue {\n  /**\n   * The stored `CLValue`, which is a general-purpose value that can represent various types of data.\n   */\n  @jsonMember({\n    name: 'CLValue',\n    constructor: CLValue,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueParser.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return CLValueParser.toJSON(value);\n    }\n  })\n  clValue?: CLValue;\n\n  /**\n   * The stored account information.\n   */\n  @jsonMember({ name: 'Account', constructor: Account })\n  account?: Account;\n\n  /**\n   * The stored contract information.\n   */\n  @jsonMember({ name: 'Contract', constructor: Contract })\n  contract?: Contract;\n\n  /**\n   * The WebAssembly (WASM) bytecode for the contract, represented as `AnyT`.\n   */\n  @jsonMember({ name: 'ContractWasm', constructor: ContractWasm })\n  ContractWasm?: ContractWasm;\n\n  /**\n   * The stored contract package information.\n   */\n  @jsonMember({ name: 'ContractPackage', constructor: ContractPackage })\n  contractPackage?: ContractPackage;\n\n  /**\n   * The transfer information, representing a historical transfer.\n   */\n  @jsonMember({\n    name: 'Transfer',\n    constructor: Transfer,\n    deserializer: json => {\n      if (!json) return;\n      return Transfer.fromJSON(json);\n    }\n  })\n  transfer?: Transfer;\n\n  /**\n   * The information related to a deploy operation.\n   */\n  @jsonMember({ name: 'DeployInfo', constructor: DeployInfo })\n  deployInfo?: DeployInfo;\n\n  /**\n   * The information related to an era.\n   */\n  @jsonMember({ name: 'EraInfo', constructor: EraInfo })\n  eraInfo?: EraInfo;\n\n  /**\n   * The stored bid information, typically related to a staking or auction process.\n   */\n  @jsonMember({ name: 'Bid', constructor: Bid })\n  bid?: Bid;\n\n  /**\n   * An array of unbonding purses, which represent assets being unbonded.\n   */\n  @jsonArrayMember(UnbondingPurse, { name: 'Withdraw' })\n  withdraw?: UnbondingPurse[];\n\n  /**\n   * The stored unbonding purse, representing assets being unbonded.\n   */\n  @jsonMember({ name: 'Unbonding', constructor: UnbondingPurse })\n  unbonding?: UnbondingPurse;\n\n  /**\n   * The stored addressable entity information, which is a reference to a contract or other addressable entity.\n   */\n  @jsonMember({ name: 'AddressableEntity', constructor: AddressableEntity })\n  addressableEntity?: AddressableEntity;\n\n  /**\n   * The stored bid kind, representing the type or class of a bid.\n   */\n  @jsonMember({ name: 'BidKind', constructor: BidKind })\n  bidKind?: BidKind;\n\n  /**\n   * The stored package information, typically a contract or executable package.\n   */\n  @jsonMember({ name: 'Package', constructor: Package })\n  package?: Package;\n\n  /**\n   * The stored bytecode, representing compiled contract or executable code.\n   */\n  @jsonMember({\n    name: 'ByteCode',\n    constructor: SystemByteCode,\n    serializer: (value: SystemByteCode) => {\n      if (!value) return;\n      return value.toString();\n    }\n  })\n  byteCode?: SystemByteCode;\n\n  /**\n   * The stored message topic summary, containing a summary of the message topic.\n   */\n  @jsonMember({ name: 'MessageTopic', constructor: MessageTopicSummary })\n  messageTopic?: MessageTopicSummary;\n\n  /**\n   * A checksum of the stored message, typically used for validation purposes.\n   */\n  @jsonMember({ name: 'Message', constructor: String })\n  message?: MessageChecksum;\n\n  /**\n   * The stored named key value, representing a key-value pair within a contract or other entity.\n   */\n  @jsonMember({ name: 'NamedKey', constructor: NamedKeyValue })\n  namedKey?: NamedKeyValue;\n\n  /**\n   * Stores location, type and data for a gas pre-payment.\n   */\n  @jsonMember({ name: 'Prepayment', constructor: PrepaymentKind })\n  prepayment?: PrepaymentKind;\n\n  /**\n   * The stored entry point value, typically representing an entry point in a smart contract.\n   */\n  @jsonMember({ name: 'EntryPoint', constructor: EntryPointValue })\n  entryPoint?: EntryPointValue;\n\n  /**\n   * Raw bytes. Similar to a [`crate::StoredValue::CLValue`] but does not incur overhead of a [`crate::CLValue`] and [`crate::CLType`].\n   */\n  @jsonMember({ name: 'RawBytes', constructor: String })\n  rawBytes?: string;\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { dehumanizerTTL, humanizerTTL } from './SerializationUtils';\n\n/**\n * Represents a timestamp as a specific point in time (Date).\n */\n@jsonObject\nexport class Timestamp {\n  /**\n   * The Date object representing the timestamp.\n   */\n  @jsonMember({ constructor: Date })\n  date: Date;\n\n  /**\n   * Creates a new instance of `Timestamp` with the specified Date.\n   *\n   * @param date The `Date` object representing the timestamp.\n   */\n  constructor(date: Date) {\n    this.date = date;\n  }\n\n  /**\n   * Converts the timestamp to milliseconds (Unix timestamp).\n   *\n   * @returns The timestamp in milliseconds.\n   */\n  toMilliseconds(): number {\n    return this.date.getTime();\n  }\n\n  /**\n   * Converts the timestamp to a JSON string (ISO 8601 format).\n   *\n   * @returns A JSON string representing the timestamp.\n   */\n  toJSON(): string {\n    return this.date.toISOString();\n  }\n\n  /**\n   * Creates a `Timestamp` instance from a JSON string.\n   *\n   * @param data The JSON string representing the timestamp in ISO 8601 format.\n   * @returns A `Timestamp` object.\n   */\n  static fromJSON(data: string): Timestamp {\n    return new Timestamp(new Date(data));\n  }\n\n  /**\n   * Returns the underlying `Date` object of the timestamp.\n   *\n   * @returns The `Date` object representing the timestamp.\n   */\n  toDate(): Date {\n    return this.date;\n  }\n}\n\n/**\n * Represents a duration, typically in milliseconds, with utility methods for parsing and formatting.\n */\n@jsonObject\nexport class Duration {\n  /**\n   * The duration in milliseconds.\n   */\n  @jsonMember({ constructor: Number })\n  duration: number;\n\n  /**\n   * Creates a new instance of `Duration` with the specified duration in milliseconds.\n   *\n   * @param duration The duration in milliseconds.\n   */\n  constructor(duration: number) {\n    this.duration = duration;\n  }\n\n  /**\n   * Converts the duration to a human-readable string.\n   *\n   * @returns A string representing the duration in a human-readable format (e.g., \"1d 2h 3m 4s\").\n   */\n  toJSON(): string {\n    return humanizerTTL(this.duration);\n  }\n\n  /**\n   * Creates a `Duration` instance from a human-readable string representing the duration.\n   *\n   * @param data The human-readable string representing the duration (e.g., \"1d 2h 3m 4s\").\n   * @returns A `Duration` object.\n   */\n  static fromJSON(data: string): Duration {\n    const duration = dehumanizerTTL(data);\n\n    return new Duration(duration);\n  }\n\n  /**\n   * Converts the duration to a string in the format `hh:mm:ss`.\n   *\n   * @returns A string representing the duration in `hh:mm:ss` format.\n   */\n  toDurationString(): string {\n    return new Date(this.duration).toISOString().substring(11, 19);\n  }\n\n  /**\n   * Parses a duration string (e.g., \"1d 2h 3m\") and converts it to milliseconds.\n   *\n   * @param durationStr The string representing the duration in a human-readable format.\n   * @returns The duration in milliseconds.\n   * @throws Error if the duration format is invalid.\n   */\n  static parseDurationString(durationStr: string): number {\n    const parts = durationStr.match(/(\\d+)([smhd])/g);\n    if (!parts) throw new Error('Invalid duration format');\n\n    let totalMs = 0;\n    for (const part of parts) {\n      const value = parseInt(part.slice(0, -1));\n      const unit = part.slice(-1);\n      switch (unit) {\n        case 's':\n          totalMs += value * 1000;\n          break;\n        case 'm':\n          totalMs += value * 60000;\n          break;\n        case 'h':\n          totalMs += value * 3600000;\n          break;\n        case 'd':\n          totalMs += value * 86400000;\n          break;\n      }\n    }\n    return totalMs;\n  }\n\n  /**\n   * Returns the duration in milliseconds.\n   *\n   * @returns The duration in milliseconds.\n   */\n  toMilliseconds(): number {\n    return this.duration;\n  }\n}\n","import { jsonObject, jsonMember, jsonArrayMember, TypedJSON } from 'typedjson';\nimport { concat } from '@ethersproject/bytes';\n\nimport { Hash } from './key';\nimport { Deploy } from './Deploy';\nimport { Duration, Timestamp } from './Time';\nimport { InitiatorAddr } from './InitiatorAddr';\nimport { PricingMode } from './PricingMode';\nimport { TransactionTarget } from './TransactionTarget';\nimport { TransactionEntryPoint } from './TransactionEntryPoint';\nimport { TransactionScheduling } from './TransactionScheduling';\nimport { PublicKey, PrivateKey } from './keypair';\nimport { HexBytes } from './HexBytes';\nimport { Args } from './Args';\nimport { byteHash, toBytesU32 } from './ByteConverters';\nimport { TransactionV1Payload } from './TransactionV1Payload';\nimport { CalltableSerialization } from './CalltableSerialization';\n\n/**\n * Custom error class for handling transaction-related errors.\n */\nexport class TransactionError extends Error {}\n\n/**\n * Error to indicate an invalid transaction hash.\n */\nexport const ErrInvalidTransactionHash = new TransactionError(\n  'invalid transaction hash'\n);\n\n/**\n * Error to indicate an invalid approval signature in a transaction.\n */\nexport const ErrInvalidApprovalSignature = new TransactionError(\n  'invalid approval signature'\n);\n\n/**\n * Error to indicate an issue parsing JSON as a TransactionV1.\n */\nexport const ErrTransactionV1FromJson = new TransactionError(\n  \"The JSON can't be parsed as a TransactionV1.\"\n);\n\n/**\n * Enum representing the categories of transactions.\n */\nexport enum TransactionCategory {\n  Mint = 0,\n  Auction,\n  InstallUpgrade,\n  Large,\n  Medium,\n  Small\n}\n\n/**\n * Enum representing the versions of transactions.\n */\nexport enum TransactionVersion {\n  V1 = 0,\n  Deploy\n}\n\n/**\n * Represents a transaction hash, which can either be associated with a `Deploy` or a `TransactionV1`.\n */\n@jsonObject\nexport class TransactionHash extends Hash {\n  /**\n   * The hash associated with the deploy transaction, if applicable.\n   * This will contain the hash of the `Deploy` transaction.\n   */\n  @jsonMember({\n    name: 'Deploy',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public deploy?: Hash;\n\n  /**\n   * The hash associated with the version 1 transaction, if applicable.\n   * This will contain the hash of the `TransactionV1`.\n   */\n  @jsonMember({\n    name: 'Version1',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public transactionV1?: Hash;\n\n  /**\n   * Constructs a new `TransactionHash` instance, which can hold either a `Deploy` hash or a `TransactionV1` hash.\n   * @param deploy The hash of the deploy transaction, if applicable.\n   * @param transactionV1 The hash of the version 1 transaction, if applicable.\n   */\n  private constructor(deploy?: Hash, transactionV1?: Hash) {\n    if (deploy) {\n      super(deploy.toBytes());\n      this.deploy = deploy;\n    }\n    if (transactionV1) {\n      super(transactionV1.toBytes());\n      this.transactionV1 = transactionV1;\n    }\n  }\n\n  /**\n   * Creates a TransactionHash from a Deploy hash.\n   * @param hash The Deploy hash instance.\n   * @returns A new TransactionHash instance with the deploy hash.\n   */\n  public static fromDeployHash(hash: Hash): TransactionHash {\n    return new TransactionHash(hash, undefined);\n  }\n\n  /**\n   * Creates a TransactionHash from a TransactionV1 hash.\n   * @param hash The TransactionV1 hash instance.\n   * @returns A new TransactionHash instance with the transactionV1 hash.\n   */\n  public static fromTransactionHash(hash: Hash): TransactionHash {\n    return new TransactionHash(undefined, hash);\n  }\n  /**\n   * Returns the hash (either deploy or transactionV1).\n   * This method is useful when you want to get the hash regardless of type.\n   */\n  public getHash(): Hash | undefined {\n    return this.deploy || this.transactionV1;\n  }\n\n  /**\n   * Converts the `TransactionHash` to a hexadecimal string representation.\n   * @returns The hexadecimal string of the deploy or transactionV1 hash, or an empty string if neither is available.\n   */\n  public toHex(): string {\n    return this.getHash()?.toHex() || '';\n  }\n\n  /**\n   * Converts the `TransactionHash` to a byte array representation.\n   * @returns The byte array of the deploy or transactionV1 hash, or an empty byte array if neither is available.\n   */\n  public toBytes(): Uint8Array {\n    return this.getHash()?.toBytes() || new Uint8Array();\n  }\n\n  /**\n   * Converts the `TransactionHash` to a JSON string (hex format).\n   * @returns The hexadecimal string representation of the hash.\n   */\n  public toJSON(): string {\n    return this.toHex();\n  }\n\n  /**\n   * Checks if the current transaction hash is equal to another hash.\n   * @param other The hash to compare with.\n   * @returns True if the hashes are equal, otherwise false.\n   */\n  public equals(other: Hash): boolean {\n    const thisBytes = this.getHash()?.toBytes();\n    const otherBytes = other.toBytes();\n    if (!thisBytes || thisBytes.length !== otherBytes.length) return false;\n\n    return thisBytes.every((byte, index) => byte === otherBytes[index]);\n  }\n}\n\n/**\n * Represents an approval for a transaction with a signer and signature.\n */\n@jsonObject\nexport class Approval {\n  /**\n   * The public key of the signer.\n   */\n  @jsonMember({\n    name: 'signer',\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public signer: PublicKey;\n\n  /**\n   * The signature of the transaction signed by the signer.\n   */\n  @jsonMember({\n    name: 'signature',\n    constructor: HexBytes,\n    deserializer: json => HexBytes.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public signature: HexBytes;\n\n  /**\n   * Constructs an `Approval` instance with a signer and signature.\n   * @param signer The public key of the signer.\n   * @param signature The signature of the transaction.\n   */\n  constructor(signer: PublicKey, signature: HexBytes) {\n    this.signer = signer;\n    this.signature = signature;\n  }\n\n  /**\n   * Serializes an array of `Approval`s into a `Uint8Array` typed byte array.\n   * This is used to store or transmit the approvals associated with a deploy.\n   *\n   * @param approvals An array of `Approval` objects that represent signatures from accounts that have approved the deploy.\n   * @returns A `Uint8Array` typed byte array that can be deserialized back into an array of `Approval` objects.\n   *\n   * @example\n   * const approvals = [new Approval(publicKey, signature)];\n   * const serializedApprovals = Approval.toBytes(approvals);\n   */\n  public static toBytes(approvals: Approval[]): Uint8Array {\n    const len = toBytesU32(approvals.length);\n    const bytes = concat(\n      approvals.map(approval => {\n        return concat([\n          Uint8Array.from(Buffer.from(approval.signer.toString(), 'hex')),\n          Uint8Array.from(Buffer.from(approval.signature.toString(), 'hex'))\n        ]);\n      })\n    );\n    return concat([len, bytes]);\n  }\n}\n\n/**\n * Represents a TransactionV1 object, including its hash, payload, and approvals.\n */\n@jsonObject\nexport class TransactionV1 {\n  /**\n   * The hash of the transaction.\n   */\n  @jsonMember({\n    name: 'hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public hash: Hash;\n\n  /**\n   * The payload of the transaction.\n   * A merge of header and body concepts from before.\n   */\n  @jsonMember({\n    name: 'payload',\n    constructor: TransactionV1Payload\n  })\n  public payload: TransactionV1Payload;\n\n  /**\n   * The approvals for the transaction.\n   */\n  @jsonArrayMember(() => Approval)\n  public approvals: Approval[];\n\n  constructor(\n    hash: Hash,\n    payload: TransactionV1Payload,\n    approvals: Approval[]\n  ) {\n    this.hash = hash;\n    this.payload = payload;\n    this.approvals = approvals;\n  }\n\n  /**\n   * Validates the transaction by checking the transaction hash and the approval signatures.\n   * @throws {TransactionError} Throws errors if validation fails.\n   */\n  public validate(): boolean {\n    const payloadBytes = this.payload!.toBytes();\n    const calculatedHash = new Hash(byteHash(payloadBytes));\n\n    if (!this.hash.equals(calculatedHash)) throw ErrInvalidTransactionHash;\n\n    for (const approval of this.approvals) {\n      if (\n        !approval.signer.verifySignature(\n          this.hash.toBytes(),\n          approval.signature.bytes\n        )\n      ) {\n        throw ErrInvalidApprovalSignature;\n      }\n    }\n\n    return true;\n  }\n\n  /**\n   * Signs the transaction using the provided private key.\n   * @param keys The private key to sign the transaction.\n   */\n  sign(keys: PrivateKey): void {\n    const signatureBytes = keys.signAndAddAlgorithmBytes(this.hash.toBytes());\n    const signature = new HexBytes(signatureBytes);\n\n    if (!this.approvals) {\n      this.approvals = [];\n    }\n\n    this.approvals.push(new Approval(keys.publicKey, signature));\n  }\n\n  private static readonly HASH_FIELD_INDEX = 0;\n  private static readonly PAYLOAD_FIELD_INDEX = 1;\n  private static readonly APPROVALS_FIELD_INDEX = 2;\n\n  /**\n   * Converts the TransactionV1 to a byte array for transmission or storage.\n   * @returns A `Uint8Array` representing the TransactionV1 instance in byte format.\n   */\n  public toBytes(): Uint8Array {\n    return new CalltableSerialization()\n      .addField(TransactionV1.HASH_FIELD_INDEX, this.hash.toBytes())\n      .addField(TransactionV1.PAYLOAD_FIELD_INDEX, this.payload.toBytes())\n      .addField(\n        TransactionV1.APPROVALS_FIELD_INDEX,\n        Approval.toBytes(this.approvals)\n      )\n      .toBytes();\n  }\n\n  /**\n   * Sets an already generated signature to the transaction.\n   * @param transaction The `TransactionV1` instance.\n   * @param signature The Ed25519 or Secp256K1 signature.\n   * @param publicKey The public key used to generate the signature.\n   * @returns The updated `TransactionV1`.\n   */\n  static setSignature(\n    transaction: TransactionV1,\n    signature: Uint8Array,\n    publicKey: PublicKey\n  ): TransactionV1 {\n    const hex = new HexBytes(signature);\n    transaction.approvals.push(new Approval(publicKey, hex));\n\n    return transaction;\n  }\n\n  /**\n   * Creates a new `TransactionV1` instance.\n   * @param hash The hash of the transaction.\n   * @param payload The payload of the transaction. A merge of header and body concepts from before.\n   * @param approvals The approvals for the transaction.\n   * @returns A new `TransactionV1` instance.\n   */\n  static newTransactionV1(\n    hash: Hash,\n    payload: TransactionV1Payload,\n    approvals: Approval[]\n  ): TransactionV1 {\n    return new TransactionV1(hash, payload, approvals);\n  }\n\n  /**\n   * Creates a new `TransactionV1` instance with a header and body.\n   * @param payload The payload of the transaction. A merge of header and body concepts from before.\n   * @returns A new `TransactionV1` instance.\n   */\n  static makeTransactionV1(payload: TransactionV1Payload): TransactionV1 {\n    const payloadBytes = payload.toBytes();\n    const transactionHash = new Hash(byteHash(payloadBytes));\n    return new TransactionV1(transactionHash, payload, []);\n  }\n\n  /**\n   * Converts a JSON representation of a `TransactionV1` to a `TransactionV1` object.\n   * @param json A JSON representation of a `TransactionV1`.\n   * @returns A `TransactionV1` object.\n   * @throws {TransactionError} If parsing fails.\n   */\n  public static fromJSON(json: any): TransactionV1 {\n    let tx: TransactionV1 | undefined;\n\n    try {\n      const data: Record<string, any> =\n        typeof json === 'string' ? JSON.parse(json) : json;\n      const txData: Record<string, any> | null =\n        data?.transaction?.Version1 ?? data?.Version1 ?? data ?? null;\n\n      if (!(txData?.hash && txData?.payload?.initiator_addr)) {\n        throw ErrTransactionV1FromJson;\n      }\n\n      const serializer = new TypedJSON(TransactionV1);\n      tx = serializer.parse(txData);\n\n      if (!tx) {\n        throw ErrTransactionV1FromJson;\n      }\n    } catch (e) {\n      throw new Error(`Serialization error: ${e.message}`);\n    }\n\n    tx.validate();\n\n    return tx;\n  }\n\n  /**\n   * Converts the `TransactionV1` object to a JSON representation.\n   * @param transaction The `TransactionV1` object.\n   * @returns A JSON version of the `TransactionV1`.\n   */\n  public static toJSON = (transaction: TransactionV1) => {\n    const serializer = new TypedJSON(TransactionV1);\n\n    return serializer.toPlainJson(transaction);\n  };\n}\n\n/**\n * A wrapper for a TransactionV1 or Deploy.\n */\n@jsonObject\nexport class Transaction {\n  /**\n   * The hash of the transaction.\n   */\n  @jsonMember({\n    name: 'hash',\n    constructor: TransactionHash\n  })\n  public hash: TransactionHash;\n\n  /**\n   * The name of the blockchain chain associated with this transaction.\n   */\n  @jsonMember({ name: 'chain_name', constructor: String })\n  public chainName: string;\n\n  /**\n   * The timestamp when the transaction was created.\n   */\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp\n  })\n  public timestamp: Timestamp;\n\n  /**\n   * The time-to-live (TTL) duration of the transaction. It defines the expiration time for the transaction.\n   */\n  @jsonMember({\n    name: 'ttl',\n    constructor: Duration\n  })\n  public ttl: Duration;\n\n  /**\n   * The address of the initiator of the transaction.\n   */\n  @jsonMember({\n    name: 'initiator_addr',\n    constructor: InitiatorAddr\n  })\n  public initiatorAddr: InitiatorAddr;\n\n  /**\n   * The pricing mode used for the transaction, which may involve different cost mechanisms.\n   */\n  @jsonMember({ name: 'pricing_mode', constructor: PricingMode })\n  public pricingMode: PricingMode;\n\n  /**\n   * The arguments for the transaction, which can be a map of values required by the entry point.\n   */\n  @jsonMember(() => Args)\n  public args: Args;\n\n  /**\n   * The target of the transaction, which specifies where the transaction is directed (e.g., a contract or account).\n   */\n  @jsonMember({\n    name: 'target',\n    constructor: TransactionTarget\n  })\n  public target: TransactionTarget;\n\n  /**\n   * The entry point of the transaction, specifying the method or action to be executed.\n   */\n  @jsonMember({\n    name: 'entry_point',\n    constructor: TransactionEntryPoint\n  })\n  public entryPoint: TransactionEntryPoint;\n\n  /**\n   * The scheduling information for when the transaction should be executed.\n   */\n  @jsonMember({\n    name: 'scheduling',\n    constructor: TransactionScheduling\n  })\n  public scheduling: TransactionScheduling;\n\n  /**\n   * The list of approvals for this transaction.\n   */\n  @jsonArrayMember(Approval)\n  public approvals: Approval[];\n\n  /**\n   * The original deployment associated with this transaction, if applicable.\n   * This is optional and only populated if the transaction originated from a deploy.\n   */\n  private originDeployV1?: Deploy;\n\n  /**\n   * The original TransactionV1 associated with this transaction, if applicable.\n   * This is optional and only populated if the transaction is based on a TransactionV1.\n   */\n  private originTransactionV1?: TransactionV1;\n\n  /**\n   * Creates a new `Transaction` instance with the specified values.\n   * @param hash The hash of the transaction.\n   * @param chainName The blockchain chain name associated with this transaction.\n   * @param timestamp The timestamp of transaction creation.\n   * @param ttl The time-to-live duration of the transaction.\n   * @param initiatorAddr The address of the transaction initiator.\n   * @param pricingMode The pricing mode for this transaction.\n   * @param args The arguments for the transaction.\n   * @param target The target of the transaction.\n   * @param entryPoint The entry point of the transaction.\n   * @param scheduling The scheduling information for the transaction.\n   * @param approvals The list of approvals for this transaction.\n   * @param originTransactionV1 The original TransactionV1, if applicable.\n   * @param originDeployV1 The original deploy, if applicable.\n   */\n  constructor(\n    hash: TransactionHash,\n    chainName: string,\n    timestamp: Timestamp,\n    ttl: Duration,\n    initiatorAddr: InitiatorAddr,\n    pricingMode: PricingMode,\n    args: Args,\n    target: TransactionTarget,\n    entryPoint: TransactionEntryPoint,\n    scheduling: TransactionScheduling,\n    approvals: Approval[],\n    originTransactionV1?: TransactionV1,\n    originDeployV1?: Deploy\n  ) {\n    this.hash = hash;\n    this.chainName = chainName;\n    this.timestamp = timestamp;\n    this.ttl = ttl;\n    this.initiatorAddr = initiatorAddr;\n    this.pricingMode = pricingMode;\n    this.args = args;\n    this.target = target;\n    this.entryPoint = entryPoint;\n    this.scheduling = scheduling;\n    this.approvals = approvals;\n\n    this.originDeployV1 = originDeployV1;\n    this.originTransactionV1 = originTransactionV1;\n\n    if (!(this.originDeployV1 || this.originTransactionV1)) {\n      throw new Error(\n        'Incorrect Transaction instance. Missing originTransactionV1 or originDeploy'\n      );\n    }\n\n    if (this.originDeployV1 && this.originTransactionV1) {\n      throw new Error(\n        'Incorrect Transaction instance. Should be only one of originTransactionV1 or originDeploy'\n      );\n    }\n  }\n\n  /**\n   * Gets the original deployment associated with this transaction, if available.\n   * @returns The original deploy or `undefined` if not available.\n   */\n  public getDeploy(): Deploy | undefined {\n    return this.originDeployV1;\n  }\n\n  /**\n   * Gets the original TransactionV1 associated with this transaction, if available.\n   * @returns The original TransactionV1 or `undefined` if not available.\n   */\n  public getTransactionV1(): TransactionV1 | undefined {\n    return this.originTransactionV1;\n  }\n\n  public getTransactionWrapper(): TransactionWrapper {\n    return new TransactionWrapper(\n      this.originDeployV1,\n      this.originTransactionV1\n    );\n  }\n\n  /**\n   * Validates the transaction by checking the transaction hash and the approval signatures.\n   * @throws {TransactionError} Throws errors if validation fails.\n   */\n  public validate(): boolean {\n    if (this.originTransactionV1) {\n      return this.originTransactionV1.validate();\n    } else if (this.originDeployV1) {\n      return this.originDeployV1.validate();\n    }\n\n    throw new Error('Incorrect Transaction instance. Missing origin value');\n  }\n\n  /**\n   * Signs the transaction using the provided private key.\n   * @param key The private key to sign the transaction.\n   */\n  sign(key: PrivateKey): void {\n    const signatureBytes = key.signAndAddAlgorithmBytes(this.hash.toBytes());\n    this.setSignature(signatureBytes, key.publicKey);\n  }\n\n  /**\n   * Sets an already generated signature to the transaction.\n   * @param signature The Ed25519 or Secp256K1 signature.\n   * @param publicKey The public key used to generate the signature.\n   */\n  setSignature(signature: Uint8Array, publicKey: PublicKey) {\n    const hex = new HexBytes(signature);\n    const approval = new Approval(publicKey, hex);\n\n    if (this.originTransactionV1) {\n      this.originTransactionV1.approvals.push(approval);\n    } else if (this.originDeployV1) {\n      this.originDeployV1.approvals.push(approval);\n    } else {\n      throw new Error('Incorrect Transaction instance. Missing origin value');\n    }\n  }\n\n  /**\n   * Converts the Transaction to a byte array for transmission or storage.\n   * @returns A `Uint8Array` representing the Transaction instance in byte format.\n   */\n  public toBytes(): Uint8Array {\n    if (this.originDeployV1) {\n      return concat([Uint8Array.of(0x00), this.originDeployV1.toBytes()]);\n    } else if (this.originTransactionV1) {\n      return concat([Uint8Array.of(0x01), this.originTransactionV1.toBytes()]);\n    } else {\n      throw new Error('Incorrect Transaction instance. Missing origin value');\n    }\n  }\n\n  /**\n   * Converts a `TransactionV1` to a `Transaction` object.\n   * @param v1 The `TransactionV1` to convert.\n   * @returns A new `Transaction` instance created from the given `TransactionV1`.\n   */\n  static fromTransactionV1(v1: TransactionV1): Transaction {\n    return new Transaction(\n      TransactionHash.fromTransactionHash(v1.hash),\n      v1.payload.chainName,\n      v1.payload.timestamp,\n      v1.payload.ttl,\n      v1.payload.initiatorAddr,\n      v1.payload.pricingMode,\n      v1.payload.fields.args,\n      v1.payload.fields.target,\n      v1.payload.fields.entryPoint,\n      v1.payload.fields.scheduling,\n      v1.approvals,\n      v1, // originTransactionV1\n      undefined // originDeployV1 is not applicable for this method\n    );\n  }\n\n  /**\n   * Converts a `TransactionV1` to a `Transaction` object.\n   * @param deploy The `Deploy` to convert.\n   * @returns A new `Transaction` instance created from the given `Deploy`.\n   */\n  static fromDeploy(deploy: Deploy): Transaction {\n    return Deploy.newTransactionFromDeploy(deploy);\n  }\n\n  static fromJSON(json: any): Transaction {\n    try {\n      const txV1 = TransactionV1.fromJSON(json);\n\n      return Transaction.fromTransactionV1(txV1);\n    } catch (e) {}\n\n    try {\n      const deploy = Deploy.fromJSON(json);\n\n      return Transaction.fromDeploy(deploy);\n    } catch (e) {}\n\n    throw new Error(\"The JSON can't be parsed as a Transaction.\");\n  }\n\n  toJSON() {\n    if (this.originTransactionV1) {\n      return TransactionV1.toJSON(this.originTransactionV1);\n    }\n\n    if (this.originDeployV1) {\n      return Deploy.toJSON(this.originDeployV1);\n    }\n\n    throw new Error('Incorrect Transaction instance. Missing origin value');\n  }\n}\n\n/**\n * Wrapper class for transactions, allowing for both `Deploy` and `TransactionV1` to be stored\n * in the same object. This can be useful when working with multiple versions of transactions.\n */\n@jsonObject\nexport class TransactionWrapper {\n  /**\n   * The deployment object associated with the transaction, if applicable.\n   * This will contain the details of the deploy transaction.\n   */\n  @jsonMember(() => Deploy, { name: 'Deploy' })\n  deploy?: Deploy;\n\n  /**\n   * The version 1 transaction object, if applicable.\n   * This will contain the details of a TransactionV1, which represents the first version of a transaction.\n   */\n  @jsonMember({\n    name: 'Version1',\n    constructor: TransactionV1,\n    deserializer: json => {\n      if (!json) return;\n      return TransactionV1.fromJSON(json);\n    }\n  })\n  transactionV1?: TransactionV1;\n\n  /**\n   * Constructs a new `TransactionWrapper` instance with the provided `Deploy` and `TransactionV1` values.\n   * @param deploy The `Deploy` object, if applicable.\n   * @param transactionV1 The `TransactionV1` object, if applicable.\n   */\n  constructor(deploy?: Deploy, transactionV1?: TransactionV1) {\n    this.deploy = deploy;\n    this.transactionV1 = transactionV1;\n  }\n\n  static toJSON(wrapper: TransactionWrapper) {\n    const serializer = new TypedJSON(TransactionWrapper);\n    return serializer.toPlainJson(wrapper);\n  }\n}\n","import { BigNumber, BigNumberish } from '@ethersproject/bignumber';\n\nimport { InitiatorAddr } from './InitiatorAddr';\nimport { PaymentLimitedMode, PricingMode } from './PricingMode';\nimport {\n  ByPackageHashInvocationTarget,\n  ByPackageNameInvocationTarget,\n  SessionTarget,\n  StoredTarget,\n  TransactionInvocationTarget,\n  TransactionRuntime,\n  TransactionTarget\n} from './TransactionTarget';\nimport {\n  TransactionEntryPoint,\n  TransactionEntryPointEnum\n} from './TransactionEntryPoint';\nimport { TransactionScheduling } from './TransactionScheduling';\nimport { Args } from './Args';\nimport { PublicKey } from './keypair';\nimport { AccountHash, ContractHash, Hash } from './key';\nimport { Transaction, TransactionV1 } from './Transaction';\nimport { TransactionV1Payload } from './TransactionV1Payload';\nimport { Duration, Timestamp } from './Time';\nimport { CLValue } from './clvalue';\nimport {\n  ExecutableDeployItem,\n  StoredContractByHash,\n  StoredContractByName,\n  StoredVersionedContractByHash,\n  StoredVersionedContractByName,\n  TransferDeployItem\n} from './ExecutableDeployItem';\nimport { Deploy, DeployHeader } from './Deploy';\nimport { AuctionManagerContractHashMap } from '../utils';\nimport { AuctionManagerEntryPoint, CasperNetworkName } from '../@types';\n\n/**\n * Abstract base class for building Transaction V1 instances.\n * Provides common functionality for all transaction builders including\n * initiator management, chain configuration, timing, and payment settings.\n *\n * @template T - The concrete builder type that extends this class\n */\nabstract class TransactionBuilder<T extends TransactionBuilder<T>> {\n  protected _initiatorAddr!: InitiatorAddr;\n  protected _chainName!: string;\n  protected _timestamp = new Timestamp(new Date());\n  protected _ttl = new Duration(1800000);\n  protected _pricingMode!: PricingMode;\n  protected _invocationTarget!: TransactionTarget;\n  protected _entryPoint!: TransactionEntryPoint;\n  protected _scheduling: TransactionScheduling = new TransactionScheduling({}); // Standard\n  protected _runtimeArgs: Args;\n  protected _contractHash: string;\n\n  /**\n   * Sets the initiator address using a public key.\n   *\n   * @param publicKey - The public key of the transaction initiator\n   * @returns The builder instance for method chaining\n   */\n  public from(publicKey: PublicKey): T {\n    this._initiatorAddr = new InitiatorAddr(publicKey);\n    return (this as unknown) as T;\n  }\n\n  /**\n   * Sets the initiator address using an account hash.\n   *\n   * @param accountHashKey - The account hash of the transaction initiator\n   * @returns The builder instance for method chaining\n   */\n  public fromAccountHash(accountHashKey: AccountHash): T {\n    this._initiatorAddr = new InitiatorAddr(undefined, accountHashKey);\n    return (this as unknown) as T;\n  }\n\n  /**\n   * Sets the chain name for the transaction.\n   *\n   * @param chainName - The name of the Casper network chain (e.g., 'casper-test', 'casper')\n   * @returns The builder instance for method chaining\n   */\n  public chainName(chainName: string): T {\n    this._chainName = chainName;\n    return (this as unknown) as T;\n  }\n\n  /**\n   * Sets the contract hash for the transaction.\n   *\n   * @param contractHash - The contract hash in hexadecimal format\n   * @returns The builder instance for method chaining\n   */\n  public contractHash(contractHash: string): T {\n    this._contractHash = contractHash;\n    return (this as unknown) as T;\n  }\n\n  /**\n   * Sets the timestamp for the transaction.\n   *\n   * @param timestamp - The transaction timestamp\n   * @returns The builder instance for method chaining\n   */\n  public timestamp(timestamp: Timestamp): T {\n    this._timestamp = timestamp;\n    return (this as unknown) as T;\n  }\n\n  /**\n   * Sets the time-to-live for the transaction.\n   *\n   * @param ttl - Time-to-live in milliseconds (default: 1800000ms = 30 minutes)\n   * @returns The builder instance for method chaining\n   */\n  public ttl(ttl: number): T {\n    this._ttl = new Duration(ttl);\n    return (this as unknown) as T;\n  }\n\n  /**\n   * Sets the payment amount for the transaction using a limited payment mode.\n   *\n   * @param paymentAmount - The payment amount in motes\n   * @param gasPriceTolerance - Gas price tolerance multiplier (default: 1)\n   * @returns The builder instance for method chaining\n   */\n  public payment(paymentAmount: number, gasPriceTolerance = 1): T {\n    const pricingMode = new PricingMode();\n    const paymentLimited = new PaymentLimitedMode();\n    paymentLimited.standardPayment = true;\n    paymentLimited.paymentAmount = paymentAmount;\n    paymentLimited.gasPriceTolerance = gasPriceTolerance;\n\n    pricingMode.paymentLimited = paymentLimited;\n    this._pricingMode = pricingMode;\n    return (this as unknown) as T;\n  }\n\n  /**\n   * Creates a default deploy header with the configured transaction settings.\n   *\n   * @returns A deploy header with account, chain name, timestamp, TTL, and gas price\n   * @protected\n   */\n  protected _getDefaultDeployHeader(): DeployHeader {\n    const deployHeader = DeployHeader.default();\n    deployHeader.account = this._initiatorAddr.publicKey;\n    deployHeader.chainName = this._chainName;\n    deployHeader.timestamp = this._timestamp;\n    deployHeader.ttl = this._ttl;\n\n    if (this._pricingMode.paymentLimited?.gasPriceTolerance) {\n      deployHeader.gasPrice = this._pricingMode.paymentLimited?.gasPriceTolerance;\n    }\n\n    return deployHeader;\n  }\n\n  /**\n   * Creates a standard payment executable deploy item.\n   *\n   * @returns An executable deploy item configured for standard payment\n   * @throws {Error} If payment amount is not specified\n   * @protected\n   */\n  protected _getStandardPayment(): ExecutableDeployItem {\n    if (!this._pricingMode?.paymentLimited?.paymentAmount) {\n      throw new Error('PaymentAmount is not specified');\n    }\n\n    return ExecutableDeployItem.standardPayment(\n      this._pricingMode.paymentLimited.paymentAmount.toString()\n    );\n  }\n\n  /**\n   * Builds and returns the Transaction instance.\n   *\n   * @returns A complete Transaction object ready to be signed and submitted\n   */\n  public build(): Transaction {\n    const transactionPayload = TransactionV1Payload.build({\n      initiatorAddr: this._initiatorAddr,\n      timestamp: this._timestamp,\n      ttl: this._ttl,\n      chainName: this._chainName,\n      pricingMode: this._pricingMode,\n      args: this._runtimeArgs,\n      transactionTarget: this._invocationTarget,\n      entryPoint: this._entryPoint,\n      scheduling: this._scheduling\n    });\n\n    const transactionV1 = TransactionV1.makeTransactionV1(transactionPayload);\n    return Transaction.fromTransactionV1(transactionV1);\n  }\n}\n\n/**\n * Builder for creating Native Transfer transactions.\n * Enables transferring CSPR tokens from one account to another on the Casper network.\n *\n * @example\n * ```typescript\n * const transaction = new NativeTransferBuilder()\n *   .from(senderPublicKey)\n *   .target(recipientPublicKey)\n *   .amount('2500000000') // 2.5 CSPR in motes\n *   .id(Date.now())\n *   .chainName('casper-test')\n *   .payment(100_000_000)\n *   .build();\n * ```\n */\nexport class NativeTransferBuilder extends TransactionBuilder<\n  NativeTransferBuilder\n> {\n  private _target!: CLValue;\n  private _publicKey: PublicKey;\n  private _amount: CLValue = CLValue.newCLUInt512('0');\n  private _amountRow: BigNumber | string = '0';\n  private _idTransfer?: number;\n\n  constructor() {\n    super();\n    this._invocationTarget = new TransactionTarget({}); // Native\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.Transfer\n    );\n  }\n\n  /**\n   * Sets the target public key for the transfer.\n   *\n   * @param publicKey - The recipient's public key\n   * @returns The builder instance for method chaining\n   */\n  public target(publicKey: PublicKey): NativeTransferBuilder {\n    this._publicKey = publicKey;\n    this._target = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Sets the target account hash for the transfer.\n   *\n   * @param accountHashKey - The recipient's account hash\n   * @returns The builder instance for method chaining\n   */\n  public targetAccountHash(accountHashKey: AccountHash): NativeTransferBuilder {\n    this._target = CLValue.newCLByteArray(accountHashKey.toBytes());\n    return this;\n  }\n\n  /**\n   * Sets the amount to transfer in motes.\n   *\n   * @param amount - The transfer amount (1 CSPR = 1,000,000,000 motes)\n   * @returns The builder instance for method chaining\n   */\n  public amount(amount: BigNumber | string): NativeTransferBuilder {\n    this._amountRow = amount;\n    this._amount = CLValue.newCLUInt512(amount);\n    return this;\n  }\n\n  /**\n   * Sets the transfer ID for tracking purposes.\n   *\n   * @param id - A unique identifier for this transfer\n   * @returns The builder instance for method chaining\n   */\n  public id(id: number): NativeTransferBuilder {\n    this._idTransfer = id;\n    return this;\n  }\n\n  /**\n   * Builds and returns the Native Transfer transaction for Casper 2.0+.\n   *\n   * @returns A complete Transaction object ready to be signed and submitted\n   */\n  public build(): Transaction {\n    const runtimeArgs = Args.fromMap({});\n\n    runtimeArgs.insert('target', this._target);\n    runtimeArgs.insert('amount', this._amount);\n\n    if (this._idTransfer) {\n      runtimeArgs.insert(\n        'id',\n        CLValue.newCLOption(CLValue.newCLUint64(this._idTransfer))\n      );\n    }\n\n    this._runtimeArgs = runtimeArgs;\n    return super.build();\n  }\n\n  /**\n   * Builds and returns the Native Transfer transaction for Casper 1.5.\n   * Uses the legacy deploy format for backward compatibility.\n   *\n   * @returns A Transaction object compatible with Casper 1.5\n   */\n  public buildFor1_5(): Transaction {\n    const session = new ExecutableDeployItem();\n    session.transfer = TransferDeployItem.newTransfer(\n      this._amountRow,\n      this._publicKey,\n      undefined,\n      this._idTransfer\n    );\n\n    let payment: ExecutableDeployItem;\n    try {\n      payment = this._getStandardPayment();\n    } catch (error) {\n      if (error.message === 'PaymentAmount is not specified') {\n        payment = ExecutableDeployItem.standardPayment('100000000'); // Assign default payment value\n      } else {\n        throw error;\n      }\n    }\n\n    const deploy = Deploy.makeDeploy(\n      this._getDefaultDeployHeader(),\n      payment,\n      session\n    );\n\n    return Transaction.fromDeploy(deploy);\n  }\n}\n\n/**\n * Builder for creating Native Add Bid transactions.\n * Used by validators to submit or increase their bid in the Casper auction system.\n *\n * @example\n * ```typescript\n * const transaction = new NativeAddBidBuilder()\n *   .from(validatorPublicKey)\n *   .validator(validatorPublicKey)\n *   .amount('1000000000000') // 1000 CSPR\n *   .delegationRate(10) // 10% commission\n *   .chainName('casper')\n *   .payment(5_000_000_000)\n *   .build();\n * ```\n */\nexport class NativeAddBidBuilder extends TransactionBuilder<\n  NativeAddBidBuilder\n> {\n  private _validator!: CLValue;\n  private _amount!: CLValue;\n  private _delegationRate!: CLValue;\n  private _minimumDelegationAmount?: CLValue;\n  private _maximumDelegationAmount?: CLValue;\n  private _reservedSlots?: CLValue;\n\n  constructor() {\n    super();\n    this._invocationTarget = new TransactionTarget({}); // Native\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.AddBid\n    );\n  }\n\n  /**\n   * Sets the validator's public key for the bid.\n   *\n   * @param publicKey - The validator's public key\n   * @returns The builder instance for method chaining\n   */\n  public validator(publicKey: PublicKey): NativeAddBidBuilder {\n    this._validator = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Sets the bid amount in motes.\n   *\n   * @param amount - The bid amount (minimum varies by network)\n   * @returns The builder instance for method chaining\n   */\n  public amount(amount: BigNumber | string): NativeAddBidBuilder {\n    this._amount = CLValue.newCLUInt512(amount);\n    return this;\n  }\n\n  /**\n   * Sets the delegation rate (commission percentage).\n   *\n   * @param delegationRate - Commission rate as a percentage (0-100)\n   * @returns The builder instance for method chaining\n   */\n  public delegationRate(delegationRate: number): NativeAddBidBuilder {\n    this._delegationRate = CLValue.newCLUint8(delegationRate);\n    return this;\n  }\n\n  /**\n   * Sets the minimum delegation amount for delegators.\n   *\n   * @param minimumDelegationAmount - Minimum amount delegators can stake\n   * @returns The builder instance for method chaining\n   */\n  public minimumDelegationAmount(\n    minimumDelegationAmount: BigNumberish\n  ): NativeAddBidBuilder {\n    this._minimumDelegationAmount = CLValue.newCLUint64(\n      minimumDelegationAmount\n    );\n    return this;\n  }\n\n  /**\n   * Sets the maximum delegation amount for delegators.\n   *\n   * @param maximumDelegationAmount - Maximum amount delegators can stake\n   * @returns The builder instance for method chaining\n   */\n  public maximumDelegationAmount(\n    maximumDelegationAmount: BigNumberish\n  ): NativeAddBidBuilder {\n    this._maximumDelegationAmount = CLValue.newCLUint64(\n      maximumDelegationAmount\n    );\n    return this;\n  }\n\n  /**\n   * Sets the number of reserved delegation slots.\n   *\n   * @param reservedSlots - Number of slots reserved for specific delegators\n   * @returns The builder instance for method chaining\n   */\n  public reservedSlots(reservedSlots: BigNumber): NativeAddBidBuilder {\n    this._reservedSlots = CLValue.newCLUInt32(reservedSlots);\n    return this;\n  }\n\n  /**\n   * Builds and returns the Add Bid transaction for Casper 2.0+.\n   *\n   * @returns A complete Transaction object ready to be signed and submitted\n   */\n  public build(): Transaction {\n    const runtimeArgs = Args.fromMap({});\n\n    runtimeArgs.insert('public_key', this._validator);\n    runtimeArgs.insert('amount', this._amount);\n    runtimeArgs.insert('delegation_rate', this._delegationRate);\n\n    if (this._minimumDelegationAmount) {\n      runtimeArgs.insert(\n        'minimum_delegation_amount',\n        this._minimumDelegationAmount\n      );\n    }\n\n    if (this._maximumDelegationAmount) {\n      runtimeArgs.insert(\n        'maximum_delegation_amount',\n        this._maximumDelegationAmount\n      );\n    }\n\n    if (this._reservedSlots) {\n      runtimeArgs.insert('reserved_slots', this._reservedSlots);\n    }\n\n    this._runtimeArgs = runtimeArgs;\n\n    return super.build();\n  }\n\n  /**\n   * Builds and returns the Add Bid transaction for Casper 1.5.\n   * Uses the auction manager contract for backward compatibility.\n   *\n   * @returns A Transaction object compatible with Casper 1.5\n   * @throws {Error} If initiator address or contract hash is not specified\n   */\n  public buildFor1_5(): Transaction {\n    if (!this._initiatorAddr.publicKey) {\n      throw new Error('Initiator addr is not specified');\n    }\n\n    const runtimeArgs = Args.fromMap({});\n\n    runtimeArgs.insert('public_key', this._validator);\n    runtimeArgs.insert('amount', this._amount);\n    runtimeArgs.insert('delegation_rate', this._delegationRate);\n\n    if (this._minimumDelegationAmount) {\n      runtimeArgs.insert(\n        'minimum_delegation_amount',\n        this._minimumDelegationAmount\n      );\n    }\n\n    if (this._maximumDelegationAmount) {\n      runtimeArgs.insert(\n        'maximum_delegation_amount',\n        this._maximumDelegationAmount\n      );\n    }\n\n    if (this._reservedSlots) {\n      runtimeArgs.insert('reserved_slots', this._reservedSlots);\n    }\n\n    this._runtimeArgs = runtimeArgs;\n\n    const contractHash =\n      this._contractHash ??\n      AuctionManagerContractHashMap[this._chainName as CasperNetworkName] ??\n      AuctionManagerContractHashMap.casper;\n\n    if (!contractHash) {\n      throw new Error(\n        `Contract hash is undefined. Check _contractHash or _chainName: ${this._chainName}`\n      );\n    }\n\n    const session = new ExecutableDeployItem();\n    session.storedContractByHash = new StoredContractByHash(\n      ContractHash.newContract(contractHash),\n      AuctionManagerEntryPoint.addBid,\n      runtimeArgs\n    );\n\n    const deploy = Deploy.makeDeploy(\n      this._getDefaultDeployHeader(),\n      this._getStandardPayment(),\n      session\n    );\n\n    return Transaction.fromDeploy(deploy);\n  }\n}\n\n/**\n * Builder for creating Native Withdraw Bid transactions.\n * Used by validators to withdraw or reduce their bid in the Casper auction system.\n *\n * @example\n * ```typescript\n * const transaction = new NativeWithdrawBidBuilder()\n *   .from(validatorPublicKey)\n *   .validator(validatorPublicKey)\n *   .amount('500000000000') // 500 CSPR\n *   .chainName('casper')\n *   .payment(2_500_000_000)\n *   .build();\n * ```\n */\nexport class NativeWithdrawBidBuilder extends TransactionBuilder<\n  NativeWithdrawBidBuilder\n> {\n  private _validator!: CLValue;\n  private _amount: CLValue = CLValue.newCLUInt512('0');\n\n  constructor() {\n    super();\n    this._invocationTarget = new TransactionTarget({}); // Native\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.WithdrawBid\n    );\n  }\n\n  /**\n   * Sets the validator's public key for the withdrawal.\n   *\n   * @param publicKey - The validator's public key\n   * @returns The builder instance for method chaining\n   */\n  public validator(publicKey: PublicKey): NativeWithdrawBidBuilder {\n    this._validator = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Sets the amount to withdraw in motes.\n   *\n   * @param amount - The withdrawal amount\n   * @returns The builder instance for method chaining\n   */\n  public amount(amount: BigNumber | string): NativeWithdrawBidBuilder {\n    this._amount = CLValue.newCLUInt512(amount);\n    return this;\n  }\n\n  /**\n   * Builds and returns the Withdraw Bid transaction for Casper 2.0+.\n   *\n   * @returns A complete Transaction object ready to be signed and submitted\n   */\n  public build(): Transaction {\n    this._runtimeArgs = Args.fromMap({\n      public_key: this._validator,\n      amount: this._amount\n    });\n\n    return super.build();\n  }\n\n  /**\n   * Builds and returns the Withdraw Bid transaction for Casper 1.5.\n   * Uses the auction manager contract for backward compatibility.\n   *\n   * @returns A Transaction object compatible with Casper 1.5\n   * @throws {Error} If contract hash cannot be determined\n   */\n  public buildFor1_5(): Transaction {\n    this._runtimeArgs = Args.fromMap({\n      public_key: this._validator,\n      amount: this._amount\n    });\n\n    const contractHash =\n      this._contractHash ??\n      AuctionManagerContractHashMap[this._chainName as CasperNetworkName] ??\n      AuctionManagerContractHashMap.casper;\n\n    if (!contractHash) {\n      throw new Error(\n        `Contract hash is undefined. Check _contractHash or _chainName: ${this._chainName}`\n      );\n    }\n\n    const session = new ExecutableDeployItem();\n    session.storedContractByHash = new StoredContractByHash(\n      ContractHash.newContract(contractHash),\n      AuctionManagerEntryPoint.withdrawBid,\n      this._runtimeArgs\n    );\n\n    const deploy = Deploy.makeDeploy(\n      this._getDefaultDeployHeader(),\n      this._getStandardPayment(),\n      session\n    );\n\n    return Transaction.fromDeploy(deploy);\n  }\n}\n\n/**\n * Builder for creating Native Delegate transactions.\n * Allows accounts to delegate their CSPR tokens to a validator for staking.\n *\n * @example\n * ```typescript\n * const transaction = new NativeDelegateBuilder()\n *   .from(delegatorPublicKey)\n *   .validator(validatorPublicKey)\n *   .amount('500000000000') // 500 CSPR\n *   .chainName('casper')\n *   .payment(2_500_000_000)\n *   .build();\n * ```\n */\nexport class NativeDelegateBuilder extends TransactionBuilder<\n  NativeDelegateBuilder\n> {\n  private _validator!: CLValue;\n  private _amount: CLValue = CLValue.newCLUInt512('0');\n\n  constructor() {\n    super();\n    this._invocationTarget = new TransactionTarget({});\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.Delegate\n    );\n  }\n\n  /**\n   * Sets the validator's public key to delegate to.\n   *\n   * @param publicKey - The validator's public key\n   * @returns The builder instance for method chaining\n   */\n  public validator(publicKey: PublicKey): NativeDelegateBuilder {\n    this._validator = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Sets the amount to delegate in motes.\n   *\n   * @param amount - The delegation amount (minimum varies by network)\n   * @returns The builder instance for method chaining\n   */\n  public amount(amount: BigNumber | string): NativeDelegateBuilder {\n    this._amount = CLValue.newCLUInt512(amount);\n    return this;\n  }\n\n  /**\n   * Builds and returns the Delegate transaction for Casper 2.0+.\n   *\n   * @returns A complete Transaction object ready to be signed and submitted\n   * @throws {Error} If initiator address is not specified\n   */\n  public build(): Transaction {\n    if (!this._initiatorAddr.publicKey) {\n      throw new Error('Initiator addr is not specified');\n    }\n\n    this._runtimeArgs = Args.fromMap({\n      delegator: CLValue.newCLPublicKey(this._initiatorAddr.publicKey),\n      validator: this._validator,\n      amount: this._amount\n    });\n\n    return super.build();\n  }\n\n  /**\n   * Builds and returns the Delegate transaction for Casper 1.5.\n   * Uses the auction manager contract for backward compatibility.\n   *\n   * @returns A Transaction object compatible with Casper 1.5\n   * @throws {Error} If initiator address or contract hash is not specified\n   */\n  public buildFor1_5(): Transaction {\n    if (!this._initiatorAddr.publicKey) {\n      throw new Error('Initiator addr is not specified');\n    }\n\n    const contractHash =\n      this._contractHash ??\n      AuctionManagerContractHashMap[this._chainName as CasperNetworkName] ??\n      AuctionManagerContractHashMap.casper;\n\n    if (!contractHash) {\n      throw new Error(\n        `Contract hash is undefined. Check _contractHash or _chainName: ${this._chainName}`\n      );\n    }\n\n    const session = new ExecutableDeployItem();\n    session.storedContractByHash = new StoredContractByHash(\n      ContractHash.newContract(contractHash),\n      AuctionManagerEntryPoint.delegate,\n      Args.fromMap({\n        validator: this._validator,\n        delegator: CLValue.newCLPublicKey(this._initiatorAddr.publicKey),\n        amount: this._amount\n      })\n    );\n\n    const deploy = Deploy.makeDeploy(\n      this._getDefaultDeployHeader(),\n      this._getStandardPayment(),\n      session\n    );\n\n    return Transaction.fromDeploy(deploy);\n  }\n}\n\n/**\n * Builder for creating Native Undelegate transactions.\n * Allows accounts to undelegate their staked CSPR tokens from a validator.\n *\n * @example\n * ```typescript\n * const transaction = new NativeUndelegateBuilder()\n *   .from(delegatorPublicKey)\n *   .validator(validatorPublicKey)\n *   .amount('250000000000') // 250 CSPR\n *   .chainName('casper')\n *   .payment(2_500_000_000)\n *   .build();\n * ```\n */\nexport class NativeUndelegateBuilder extends TransactionBuilder<\n  NativeUndelegateBuilder\n> {\n  private _validator!: CLValue;\n  private _amount: CLValue = CLValue.newCLUInt512('0');\n\n  constructor() {\n    super();\n    this._invocationTarget = new TransactionTarget({});\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.Undelegate\n    );\n  }\n\n  /**\n   * Sets the validator's public key to undelegate from.\n   *\n   * @param publicKey - The validator's public key\n   * @returns The builder instance for method chaining\n   */\n  public validator(publicKey: PublicKey): NativeUndelegateBuilder {\n    this._validator = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Sets the amount to undelegate in motes.\n   *\n   * @param amount - The undelegation amount\n   * @returns The builder instance for method chaining\n   */\n  public amount(amount: BigNumber | string): NativeUndelegateBuilder {\n    this._amount = CLValue.newCLUInt512(amount);\n    return this;\n  }\n\n  /**\n   * Builds and returns the Undelegate transaction for Casper 2.0+.\n   *\n   * @returns A complete Transaction object ready to be signed and submitted\n   * @throws {Error} If initiator address is not specified\n   */\n  public build(): Transaction {\n    if (!this._initiatorAddr.publicKey) {\n      throw new Error('Initiator addr is not specified');\n    }\n\n    this._runtimeArgs = Args.fromMap({\n      delegator: CLValue.newCLPublicKey(this._initiatorAddr.publicKey),\n      validator: this._validator,\n      amount: this._amount\n    });\n\n    return super.build();\n  }\n\n  /**\n   * Builds and returns the Undelegate transaction for Casper 1.5.\n   * Uses the auction manager contract for backward compatibility.\n   *\n   * @returns A Transaction object compatible with Casper 1.5\n   * @throws {Error} If initiator address or contract hash is not specified\n   */\n  public buildFor1_5(): Transaction {\n    if (!this._initiatorAddr.publicKey) {\n      throw new Error('Initiator addr is not specified');\n    }\n\n    const contractHash =\n      this._contractHash ??\n      AuctionManagerContractHashMap[this._chainName as CasperNetworkName] ??\n      AuctionManagerContractHashMap.casper;\n\n    if (!contractHash) {\n      throw new Error(\n        `Contract hash is undefined. Check _contractHash or _chainName: ${this._chainName}`\n      );\n    }\n\n    const session = new ExecutableDeployItem();\n    session.storedContractByHash = new StoredContractByHash(\n      ContractHash.newContract(contractHash),\n      AuctionManagerEntryPoint.undelegate,\n      Args.fromMap({\n        validator: this._validator,\n        delegator: CLValue.newCLPublicKey(this._initiatorAddr.publicKey),\n        amount: this._amount\n      })\n    );\n\n    const deploy = Deploy.makeDeploy(\n      this._getDefaultDeployHeader(),\n      this._getStandardPayment(),\n      session\n    );\n\n    return Transaction.fromDeploy(deploy);\n  }\n}\n\n/**\n * Builder for creating Native Redelegate transactions.\n * Allows accounts to move their delegated stake from one validator to another\n * without waiting for the undelegation period.\n *\n * @example\n * ```typescript\n * const transaction = new NativeRedelegateBuilder()\n *   .from(delegatorPublicKey)\n *   .validator(oldValidatorPublicKey)\n *   .newValidator(newValidatorPublicKey)\n *   .amount('500000000000') // 500 CSPR\n *   .chainName('casper')\n *   .payment(2_500_000_000)\n *   .build();\n * ```\n */\nexport class NativeRedelegateBuilder extends TransactionBuilder<\n  NativeRedelegateBuilder\n> {\n  private _validator!: CLValue;\n  private _newValidator!: CLValue;\n  private _amount: CLValue = CLValue.newCLUInt512('0');\n\n  constructor() {\n    super();\n    this._invocationTarget = new TransactionTarget({});\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.Redelegate\n    );\n  }\n\n  /**\n   * Sets the current validator's public key (the validator to redelegate from).\n   *\n   * @param publicKey - The current validator's public key\n   * @returns The builder instance for method chaining\n   */\n  public validator(publicKey: PublicKey): NativeRedelegateBuilder {\n    this._validator = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Sets the new validator's public key (the validator to redelegate to).\n   *\n   * @param publicKey - The new validator's public key\n   * @returns The builder instance for method chaining\n   */\n  public newValidator(publicKey: PublicKey): NativeRedelegateBuilder {\n    this._newValidator = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Sets the amount to redelegate in motes.\n   *\n   * @param amount - The redelegation amount\n   * @returns The builder instance for method chaining\n   */\n  public amount(amount: BigNumber | string): NativeRedelegateBuilder {\n    this._amount = CLValue.newCLUInt512(amount);\n    return this;\n  }\n\n  /**\n   * Builds and returns the Redelegate transaction for Casper 2.0+.\n   *\n   * @returns A complete Transaction object ready to be signed and submitted\n   * @throws {Error} If initiator address is not specified\n   */\n  public build(): Transaction {\n    if (!this._initiatorAddr.publicKey) {\n      throw new Error('Initiator addr is not specified');\n    }\n\n    this._runtimeArgs = Args.fromMap({\n      delegator: CLValue.newCLPublicKey(this._initiatorAddr.publicKey),\n      validator: this._validator,\n      amount: this._amount,\n      new_validator: this._newValidator\n    });\n\n    return super.build();\n  }\n\n  /**\n   * Builds and returns the Redelegate transaction for Casper 1.5.\n   * Uses the auction manager contract for backward compatibility.\n   *\n   * @returns A Transaction object compatible with Casper 1.5\n   * @throws {Error} If initiator address or contract hash is not specified\n   */\n  public buildFor1_5(): Transaction {\n    if (!this._initiatorAddr.publicKey) {\n      throw new Error('Initiator addr is not specified');\n    }\n\n    const contractHash =\n      this._contractHash ??\n      AuctionManagerContractHashMap[this._chainName as CasperNetworkName] ??\n      AuctionManagerContractHashMap.casper;\n\n    if (!contractHash) {\n      throw new Error(\n        `Contract hash is undefined. Check _contractHash or _chainName: ${this._chainName}`\n      );\n    }\n\n    const session = new ExecutableDeployItem();\n    session.storedContractByHash = new StoredContractByHash(\n      ContractHash.newContract(contractHash),\n      AuctionManagerEntryPoint.redelegate,\n      Args.fromMap({\n        validator: this._validator,\n        new_validator: this._newValidator,\n        delegator: CLValue.newCLPublicKey(this._initiatorAddr.publicKey),\n        amount: this._amount\n      })\n    );\n\n    const deploy = Deploy.makeDeploy(\n      this._getDefaultDeployHeader(),\n      this._getStandardPayment(),\n      session\n    );\n\n    return Transaction.fromDeploy(deploy);\n  }\n}\n\n/**\n * Builder for creating Native Activate Bid transactions.\n * Used by validators to activate their bid after it has been deactivated.\n *\n * @example\n * ```typescript\n * const transaction = new NativeActivateBidBuilder()\n *   .from(validatorPublicKey)\n *   .validator(validatorPublicKey)\n *   .chainName('casper')\n *   .payment(2_500_000_000)\n *   .build();\n * ```\n */\nexport class NativeActivateBidBuilder extends TransactionBuilder<\n  NativeActivateBidBuilder\n> {\n  private _validator!: CLValue;\n\n  constructor() {\n    super();\n    this._invocationTarget = new TransactionTarget({}); // Native\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.ActivateBid\n    );\n  }\n\n  /**\n   * Sets the validator's public key to activate.\n   *\n   * @param publicKey - The validator's public key\n   * @returns The builder instance for method chaining\n   */\n  public validator(publicKey: PublicKey): NativeActivateBidBuilder {\n    this._validator = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Builds and returns the Activate Bid transaction for Casper 2.0+.\n   *\n   * @returns A complete Transaction object ready to be signed and submitted\n   */\n  public build(): Transaction {\n    this._runtimeArgs = Args.fromMap({\n      validator: this._validator\n    });\n\n    return super.build();\n  }\n\n  /**\n   * Builds and returns the Activate Bid transaction for Casper 1.5.\n   * Uses the auction manager contract for backward compatibility.\n   *\n   * @returns A Transaction object compatible with Casper 1.5\n   * @throws {Error} If contract hash cannot be determined\n   */\n  public buildFor1_5(): Transaction {\n    this._runtimeArgs = Args.fromMap({\n      validator: this._validator\n    });\n\n    const contractHash =\n      this._contractHash ??\n      AuctionManagerContractHashMap[this._chainName as CasperNetworkName] ??\n      AuctionManagerContractHashMap.casper;\n\n    if (!contractHash) {\n      throw new Error(\n        `Contract hash is undefined. Check _contractHash or _chainName: ${this._chainName}`\n      );\n    }\n\n    const session = new ExecutableDeployItem();\n    session.storedContractByHash = new StoredContractByHash(\n      ContractHash.newContract(contractHash),\n      AuctionManagerEntryPoint.activateBid,\n      this._runtimeArgs\n    );\n\n    const deploy = Deploy.makeDeploy(\n      this._getDefaultDeployHeader(),\n      this._getStandardPayment(),\n      session\n    );\n\n    return Transaction.fromDeploy(deploy);\n  }\n}\n\n/**\n * Builder for creating Native Change Bid Public Key transactions.\n * Allows validators to change their public key while maintaining their bid.\n *\n * @example\n * ```typescript\n * const transaction = new NativeChangeBidPublicKeyBuilder()\n *   .from(validatorPublicKey)\n *   .previousPublicKey(oldPublicKey)\n *   .newPublicKey(newPublicKey)\n *   .chainName('casper')\n *   .payment(2_500_000_000)\n *   .build();\n * ```\n */\nexport class NativeChangeBidPublicKeyBuilder extends TransactionBuilder<\n  NativeChangeBidPublicKeyBuilder\n> {\n  private _public_key!: CLValue;\n  private _new_public_key!: CLValue;\n\n  constructor() {\n    super();\n    this._invocationTarget = new TransactionTarget({});\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.ChangeBidPublicKey\n    );\n  }\n\n  /**\n   * Sets the previous (current) public key of the validator.\n   *\n   * @param publicKey - The validator's current public key\n   * @returns The builder instance for method chaining\n   */\n  public previousPublicKey(\n    publicKey: PublicKey\n  ): NativeChangeBidPublicKeyBuilder {\n    this._public_key = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Sets the new public key for the validator.\n   *\n   * @param publicKey - The validator's new public key\n   * @returns The builder instance for method chaining\n   */\n  public newPublicKey(publicKey: PublicKey): NativeChangeBidPublicKeyBuilder {\n    this._new_public_key = CLValue.newCLPublicKey(publicKey);\n    return this;\n  }\n\n  /**\n   * Builds and returns the Change Bid Public Key transaction for Casper 2.0+.\n   *\n   * @returns A complete Transaction object ready to be signed and submitted\n   */\n  public build(): Transaction {\n    this._runtimeArgs = Args.fromMap({\n      public_key: this._public_key,\n      new_public_key: this._new_public_key\n    });\n\n    return super.build();\n  }\n}\n\n/**\n * Builder for creating Contract Call transactions.\n * Enables calling entry points on deployed smart contracts.\n * Supports multiple addressing modes: by hash, by name, by package hash, and by package name.\n *\n * @example\n * ```typescript\n * const transaction = new ContractCallBuilder()\n *   .from(callerPublicKey)\n *   .byHash(contractHash)\n *   .entryPoint('transfer')\n *   .runtimeArgs(args)\n *   .chainName('casper')\n *   .payment(3_000_000_000)\n *   .build();\n * ```\n */\nexport class ContractCallBuilder extends TransactionBuilder<\n  ContractCallBuilder\n> {\n  constructor() {\n    super();\n  }\n\n  private _transactionInvocationTarget: TransactionInvocationTarget;\n\n  /**\n   * Sets the contract to call using its hash.\n   *\n   * @param contractHash - The contract hash in hexadecimal format\n   * @returns The builder instance for method chaining\n   */\n  public byHash(contractHash: string): ContractCallBuilder {\n    const invocationTarget = new TransactionInvocationTarget();\n    invocationTarget.byHash = Hash.fromHex(contractHash);\n    this._transactionInvocationTarget = invocationTarget;\n\n    const storedTarget = new StoredTarget();\n    storedTarget.id = invocationTarget;\n    storedTarget.runtime = TransactionRuntime.vmCasperV1();\n\n    this._invocationTarget = new TransactionTarget(undefined, storedTarget);\n    return this;\n  }\n\n  /**\n   * Sets the contract to call using its name.\n   *\n   * @param name - The named key under which the contract is stored\n   * @returns The builder instance for method chaining\n   */\n  public byName(name: string): ContractCallBuilder {\n    const invocationTarget = new TransactionInvocationTarget();\n    invocationTarget.byName = name;\n    this._transactionInvocationTarget = invocationTarget;\n\n    const storedTarget = new StoredTarget();\n    storedTarget.id = invocationTarget;\n    storedTarget.runtime = TransactionRuntime.vmCasperV1();\n\n    this._invocationTarget = new TransactionTarget(undefined, storedTarget);\n    return this;\n  }\n\n  /**\n   * Sets the contract to call using its package hash and optional version.\n   *\n   * @param contractHash - The contract package hash in hexadecimal format\n   * @param version - Optional specific version of the contract to call\n   * @param protocolVersionMajor - Optional protocol version major number\n   * @returns The builder instance for method chaining\n   */\n  public byPackageHash(\n    contractHash: string,\n    version?: number,\n    protocolVersionMajor: number | null = null\n  ): ContractCallBuilder {\n    const packageHashInvocationTarget = new ByPackageHashInvocationTarget();\n    packageHashInvocationTarget.addr = Hash.fromHex(contractHash);\n    packageHashInvocationTarget.version = version;\n    packageHashInvocationTarget.protocolVersionMajor = protocolVersionMajor;\n    const transactionInvocationTarget = new TransactionInvocationTarget();\n    transactionInvocationTarget.byPackageHash = packageHashInvocationTarget;\n    this._transactionInvocationTarget = transactionInvocationTarget;\n\n    const storedTarget = new StoredTarget();\n\n    storedTarget.id = transactionInvocationTarget;\n    storedTarget.runtime = TransactionRuntime.vmCasperV1();\n\n    this._invocationTarget = new TransactionTarget(undefined, storedTarget);\n    return this;\n  }\n\n  /**\n   * Sets the contract to call using its package name and optional version.\n   *\n   * @param name - The package name under which the contract is stored\n   * @param version - Optional specific version of the contract to call\n   * @param protocolVersionMajor - Optional protocol version major number\n   * @returns The builder instance for method chaining\n   */\n  public byPackageName(\n    name: string,\n    version?: number,\n    protocolVersionMajor: number | null = null\n  ): ContractCallBuilder {\n    const packageNameInvocationTarget = new ByPackageNameInvocationTarget();\n    packageNameInvocationTarget.name = name;\n    packageNameInvocationTarget.version = version;\n    packageNameInvocationTarget.protocolVersionMajor = protocolVersionMajor;\n    const transactionInvocationTarget = new TransactionInvocationTarget();\n    transactionInvocationTarget.byPackageName = packageNameInvocationTarget;\n    this._transactionInvocationTarget = transactionInvocationTarget;\n\n    const storedTarget = new StoredTarget();\n\n    storedTarget.id = transactionInvocationTarget;\n    storedTarget.runtime = TransactionRuntime.vmCasperV1();\n\n    this._invocationTarget = new TransactionTarget(undefined, storedTarget);\n\n    return this;\n  }\n\n  /**\n   * Sets the entry point name to call on the contract.\n   *\n   * @param name - The name of the contract entry point\n   * @returns The builder instance for method chaining\n   */\n  public entryPoint(name: string): ContractCallBuilder {\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.Custom,\n      name\n    );\n    return this;\n  }\n\n  /**\n   * Sets the runtime arguments to pass to the contract entry point.\n   *\n   * @param args - The arguments to pass to the contract\n   * @returns The builder instance for method chaining\n   */\n  public runtimeArgs(args: Args): ContractCallBuilder {\n    this._runtimeArgs = args;\n    return this;\n  }\n\n  /**\n   * Builds and returns the Contract Call transaction for Casper 1.5.\n   * Uses the legacy deploy format for backward compatibility.\n   *\n   * @returns A Transaction object compatible with Casper 1.5\n   * @throws {Error} If entry point is not specified\n   */\n  public buildFor1_5(): Transaction {\n    if (!this._entryPoint.customEntryPoint) {\n      throw new Error('EntryPoint is not specified');\n    }\n\n    const session = new ExecutableDeployItem();\n\n    if (this._transactionInvocationTarget.byHash) {\n      session.storedContractByHash = new StoredContractByHash(\n        ContractHash.newContract(\n          this._transactionInvocationTarget.byHash.toHex()\n        ),\n        this._entryPoint.customEntryPoint,\n        this._runtimeArgs\n      );\n    } else if (this._transactionInvocationTarget.byPackageHash) {\n      session.storedVersionedContractByHash = new StoredVersionedContractByHash(\n        ContractHash.newContract(\n          this._transactionInvocationTarget.byPackageHash.addr.toHex()\n        ),\n        this._entryPoint.customEntryPoint,\n        this._runtimeArgs,\n        this._transactionInvocationTarget.byPackageHash.version\n      );\n    } else if (this._transactionInvocationTarget.byName) {\n      session.storedContractByName = new StoredContractByName(\n        this._transactionInvocationTarget.byName,\n        this._entryPoint.customEntryPoint,\n        this._runtimeArgs\n      );\n    } else if (this._transactionInvocationTarget.byPackageName) {\n      session.storedVersionedContractByName = new StoredVersionedContractByName(\n        this._transactionInvocationTarget.byPackageName.name,\n        this._entryPoint.customEntryPoint,\n        this._runtimeArgs,\n        this._transactionInvocationTarget.byPackageName.version\n      );\n    }\n\n    const deploy = Deploy.makeDeploy(\n      this._getDefaultDeployHeader(),\n      this._getStandardPayment(),\n      session\n    );\n\n    return Transaction.fromDeploy(deploy);\n  }\n}\n\n/**\n * Builder for creating Session transactions.\n * Used to deploy new smart contracts or upgrade existing ones from WebAssembly bytecode.\n *\n * @example\n * ```typescript\n * const wasmBytes = await fs.readFile('contract.wasm');\n * const transaction = new SessionBuilder()\n *   .from(deployerPublicKey)\n *   .wasm(wasmBytes)\n *   .installOrUpgrade()\n *   .runtimeArgs(args)\n *   .chainName('casper')\n *   .payment(100_000_000_000)\n *   .build();\n * ```\n */\nexport class SessionBuilder extends TransactionBuilder<SessionBuilder> {\n  private _isInstallOrUpgrade = false;\n\n  constructor() {\n    super();\n    this._entryPoint = new TransactionEntryPoint(\n      TransactionEntryPointEnum.Call\n    );\n  }\n\n  /**\n   * Sets the WebAssembly bytecode for the session.\n   *\n   * @param wasmBytes - The compiled WebAssembly contract bytecode\n   * @returns The builder instance for method chaining\n   */\n  public wasm(wasmBytes: Uint8Array): SessionBuilder {\n    const sessionTarget = new SessionTarget();\n    sessionTarget.moduleBytes = wasmBytes;\n    sessionTarget.isInstallUpgrade = this._isInstallOrUpgrade;\n    sessionTarget.runtime = TransactionRuntime.vmCasperV1();\n\n    this._invocationTarget = new TransactionTarget(\n      undefined,\n      undefined,\n      sessionTarget\n    );\n\n    return this;\n  }\n\n  /**\n   * Marks this session as an install or upgrade operation.\n   * Should be called when deploying a new contract or upgrading an existing one.\n   *\n   * @returns The builder instance for method chaining\n   */\n  public installOrUpgrade(): SessionBuilder {\n    this._isInstallOrUpgrade = true;\n    if (this._invocationTarget?.session) {\n      this._invocationTarget.session.isInstallUpgrade = true;\n    }\n    return this;\n  }\n\n  /**\n   * Sets the runtime arguments to pass to the session.\n   *\n   * @param args - The arguments to pass to the contract installer\n   * @returns The builder instance for method chaining\n   */\n  public runtimeArgs(args: Args): SessionBuilder {\n    this._runtimeArgs = args;\n    return this;\n  }\n\n  /**\n   * Builds and returns the Session transaction for Casper 1.5.\n   * Uses the legacy deploy format for backward compatibility.\n   *\n   * @returns A Transaction object compatible with Casper 1.5\n   * @throws {Error} If WASM bytecode is not specified\n   */\n  public buildFor1_5(): Transaction {\n    if (!this._invocationTarget.session?.moduleBytes) {\n      throw new Error('EntryPoint is not specified');\n    }\n\n    const session = ExecutableDeployItem.newModuleBytes(\n      this._invocationTarget.session.moduleBytes,\n      this._runtimeArgs\n    );\n\n    const deploy = Deploy.makeDeploy(\n      this._getDefaultDeployHeader(),\n      this._getStandardPayment(),\n      session\n    );\n\n    return Transaction.fromDeploy(deploy);\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { CLValue, CLValueString } from './clvalue';\nimport { CalltableSerialization } from './CalltableSerialization';\n\n/**\n * Enum representing the available transaction entry points, each representing a different operation in the system.\n */\nexport enum TransactionEntryPointEnum {\n  Custom = 'Custom',\n  Transfer = 'Transfer',\n  AddBid = 'AddBid',\n  WithdrawBid = 'WithdrawBid',\n  Delegate = 'Delegate',\n  Undelegate = 'Undelegate',\n  Redelegate = 'Redelegate',\n  ActivateBid = 'ActivateBid',\n  ChangeBidPublicKey = 'ChangeBidPublicKey',\n  Call = 'Call',\n  AddReservations = 'AddReservations',\n  CancelReservations = 'CancelReservations'\n}\n\n/**\n * Enum representing the unique tags associated with each transaction entry point.\n * These tags are used to simplify storage and facilitate efficient comparison of entry points.\n */\nexport enum TransactionEntryPointTag {\n  Call = 0,\n  Custom = 1,\n  Transfer = 2,\n  AddBid = 3,\n  WithdrawBid = 4,\n  Delegate = 5,\n  Undelegate = 6,\n  Redelegate = 7,\n  ActivateBid = 8,\n  ChangeBidPublicKey = 9,\n  AddReservations = 10,\n  CancelReservations = 11\n}\n\n/**\n * Represents a transaction entry point, which defines an action to be executed within the system.\n * This class supports predefined entry points as well as custom-defined actions.\n */\n@jsonObject\nexport class TransactionEntryPoint {\n  /**\n   * The type of transaction entry point, represented as an enum.\n   */\n  @jsonMember({ constructor: String })\n  type: TransactionEntryPointEnum;\n\n  /**\n   * Custom entry point identifier, used when the `type` is `Custom`.\n   */\n  @jsonMember({ constructor: String })\n  customEntryPoint?: string;\n\n  /**\n   * Initializes a new `TransactionEntryPoint` instance.\n   *\n   * @param type - The type of transaction entry point.\n   * @param customEntryPoint - An optional identifier for custom entry points.\n   */\n  constructor(type: TransactionEntryPointEnum, customEntryPoint?: string) {\n    if (type === TransactionEntryPointEnum.Custom && !customEntryPoint) {\n      throw new Error(\n        'When specifying Custom entry point, customEntryPoint must be provided'\n      );\n    }\n    this.type = type;\n    this.customEntryPoint = customEntryPoint;\n  }\n\n  /**\n   * Retrieves the unique tag associated with the transaction entry point.\n   * Tags are used to identify entry points in a compact and efficient manner.\n   *\n   * @returns The tag number for the entry point.\n   * @throws An error if the entry point is unknown.\n   */\n  public tag(): number {\n    switch (this.type) {\n      case TransactionEntryPointEnum.Transfer:\n        return TransactionEntryPointTag.Transfer;\n      case TransactionEntryPointEnum.AddBid:\n        return TransactionEntryPointTag.AddBid;\n      case TransactionEntryPointEnum.WithdrawBid:\n        return TransactionEntryPointTag.WithdrawBid;\n      case TransactionEntryPointEnum.Delegate:\n        return TransactionEntryPointTag.Delegate;\n      case TransactionEntryPointEnum.Undelegate:\n        return TransactionEntryPointTag.Undelegate;\n      case TransactionEntryPointEnum.Redelegate:\n        return TransactionEntryPointTag.Redelegate;\n      case TransactionEntryPointEnum.ActivateBid:\n        return TransactionEntryPointTag.ActivateBid;\n      case TransactionEntryPointEnum.ChangeBidPublicKey:\n        return TransactionEntryPointTag.ChangeBidPublicKey;\n      case TransactionEntryPointEnum.Call:\n        return TransactionEntryPointTag.Call;\n      case TransactionEntryPointEnum.AddReservations:\n        return TransactionEntryPointTag.AddReservations;\n      case TransactionEntryPointEnum.CancelReservations:\n        return TransactionEntryPointTag.CancelReservations;\n      case TransactionEntryPointEnum.Custom:\n        return TransactionEntryPointTag.Custom;\n      default:\n        throw new Error('Unknown TransactionEntryPointTag');\n    }\n  }\n\n  /**\n   * Serializes the transaction entry point into a byte array.\n   *\n   * @returns A `Uint8Array` representing the transaction entry point and any associated data.\n   */\n  toBytes(): Uint8Array {\n    const calltableSerialization = new CalltableSerialization();\n    const tag = this.tag();\n    calltableSerialization.addField(0, Uint8Array.from([tag]));\n\n    if (\n      this.type === TransactionEntryPointEnum.Custom &&\n      this.customEntryPoint\n    ) {\n      const entryPointBytes = CLValue.newCLString(\n        this.customEntryPoint\n      ).bytes();\n      calltableSerialization.addField(1, entryPointBytes);\n    }\n\n    return calltableSerialization.toBytes();\n  }\n\n  /**\n   * Converts the transaction entry point to a JSON-compatible format.\n   *\n   * @returns A JSON object representing the transaction entry point.\n   */\n  toJSON(): unknown {\n    if (\n      this.type === TransactionEntryPointEnum.Custom &&\n      this.customEntryPoint\n    ) {\n      return { Custom: this.customEntryPoint };\n    }\n\n    return this.type;\n  }\n\n  /**\n   * Creates a `TransactionEntryPoint` instance from a JSON representation.\n   *\n   * @param json - The JSON representation of the transaction entry point.\n   * @returns A `TransactionEntryPoint` instance.\n   * @throws An error if the JSON is invalid or the entry point is unknown.\n   */\n  static fromJSON(json: any): TransactionEntryPoint {\n    if (json?.Custom) {\n      return new TransactionEntryPoint(\n        TransactionEntryPointEnum.Custom,\n        json.Custom\n      );\n    }\n\n    switch (json) {\n      case TransactionEntryPointEnum.Transfer:\n        return new TransactionEntryPoint(TransactionEntryPointEnum.Transfer);\n      case TransactionEntryPointEnum.AddBid:\n        return new TransactionEntryPoint(TransactionEntryPointEnum.AddBid);\n      case TransactionEntryPointEnum.WithdrawBid:\n        return new TransactionEntryPoint(TransactionEntryPointEnum.WithdrawBid);\n      case TransactionEntryPointEnum.Delegate:\n        return new TransactionEntryPoint(TransactionEntryPointEnum.Delegate);\n      case TransactionEntryPointEnum.Undelegate:\n        return new TransactionEntryPoint(TransactionEntryPointEnum.Undelegate);\n      case TransactionEntryPointEnum.Redelegate:\n        return new TransactionEntryPoint(TransactionEntryPointEnum.Redelegate);\n      case TransactionEntryPointEnum.ActivateBid:\n        return new TransactionEntryPoint(TransactionEntryPointEnum.ActivateBid);\n      case TransactionEntryPointEnum.ChangeBidPublicKey:\n        return new TransactionEntryPoint(\n          TransactionEntryPointEnum.ChangeBidPublicKey\n        );\n      case TransactionEntryPointEnum.Call:\n        return new TransactionEntryPoint(TransactionEntryPointEnum.Call);\n      case TransactionEntryPointEnum.AddReservations:\n        return new TransactionEntryPoint(\n          TransactionEntryPointEnum.AddReservations\n        );\n      case TransactionEntryPointEnum.CancelReservations:\n        return new TransactionEntryPoint(\n          TransactionEntryPointEnum.CancelReservations\n        );\n      default:\n        throw new Error('Unknown entry point');\n    }\n  }\n\n  /**\n   * Deserializes a `TransactionEntryPoint` from its byte representation.\n   *\n   * This method takes a serialized byte array and reconstructs a `TransactionEntryPoint` object.\n   * It supports multiple entry point types, including both predefined and custom entry points.\n   *\n   * @param bytes - The byte array representing the serialized `TransactionEntryPoint`.\n   * @returns A deserialized `TransactionEntryPoint` instance.\n   * @throws Will throw an error if the byte array is invalid or has missing fields.\n   *\n   * ### Example\n   * ```typescript\n   * const serializedBytes = new Uint8Array([0, 1, 2, 3, ...]);\n   * const entryPoint = TransactionEntryPoint.fromBytes(serializedBytes);\n   * console.log(entryPoint.type); // Logs the entry point type\n   * ```\n   */\n  static fromBytes(bytes: Uint8Array): TransactionEntryPoint {\n    const calltableSerialization = CalltableSerialization.fromBytes(bytes);\n    const tagBytes = calltableSerialization.getField(0);\n\n    if (!tagBytes || tagBytes.length !== 1) {\n      throw new Error('Invalid tag bytes');\n    }\n\n    const tag = tagBytes[0];\n\n    const type = (() => {\n      switch (tag) {\n        case TransactionEntryPointTag.Transfer:\n          return TransactionEntryPointEnum.Transfer;\n        case TransactionEntryPointTag.AddBid:\n          return TransactionEntryPointEnum.AddBid;\n        case TransactionEntryPointTag.WithdrawBid:\n          return TransactionEntryPointEnum.WithdrawBid;\n        case TransactionEntryPointTag.Delegate:\n          return TransactionEntryPointEnum.Delegate;\n        case TransactionEntryPointTag.Undelegate:\n          return TransactionEntryPointEnum.Undelegate;\n        case TransactionEntryPointTag.Redelegate:\n          return TransactionEntryPointEnum.Redelegate;\n        case TransactionEntryPointTag.ActivateBid:\n          return TransactionEntryPointEnum.ActivateBid;\n        case TransactionEntryPointTag.ChangeBidPublicKey:\n          return TransactionEntryPointEnum.ChangeBidPublicKey;\n        case TransactionEntryPointTag.Call:\n          return TransactionEntryPointEnum.Call;\n        case TransactionEntryPointTag.AddReservations:\n          return TransactionEntryPointEnum.AddReservations;\n        case TransactionEntryPointTag.CancelReservations:\n          return TransactionEntryPointEnum.CancelReservations;\n        case TransactionEntryPointTag.Custom:\n          return TransactionEntryPointEnum.Custom;\n        default:\n          throw new Error('Unknown tag');\n      }\n    })();\n\n    if (type === TransactionEntryPointEnum.Custom) {\n      const customBytes = calltableSerialization.getField(1);\n\n      if (!customBytes) {\n        throw new Error('Missing custom entry point bytes for Custom type');\n      }\n\n      const customSerialization = CalltableSerialization.fromBytes(customBytes);\n\n      const customFlag = customSerialization.getField(0);\n\n      if (!customFlag || customFlag[0] !== 1) {\n        throw new Error('Invalid flag for Custom type');\n      }\n\n      const customEntryPointBytes = customSerialization.getField(1);\n\n      if (!customEntryPointBytes) {\n        throw new Error('Invalid custom entry point bytes');\n      }\n\n      const customEntryPoint = CLValueString.fromBytes(\n        customEntryPointBytes\n      ).result.toString();\n\n      return new TransactionEntryPoint(type, customEntryPoint);\n    }\n\n    return new TransactionEntryPoint(type);\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\n\nimport { Timestamp } from './Time';\nimport { CLValue } from './clvalue';\nimport { CalltableSerialization } from './CalltableSerialization';\nimport { fromBytesU64, toBytesU64 } from './ByteConverters';\n\n/**\n * Enum representing the scheduling tags for transaction scheduling types.\n */\nexport enum TransactionSchedulingTag {\n  /** Native scheduling, meaning no future scheduling is applied. */\n  Native = 0,\n  /** Future scheduling based on the era ID. */\n  FutureEra,\n  /** Future scheduling based on a specific timestamp. */\n  FutureTimestamp\n}\n\n/**\n * Represents the scheduling for a transaction in a future era.\n */\n@jsonObject\nexport class FutureEraScheduling {\n  /**\n   * The ID of the future era when the transaction is scheduled to occur.\n   */\n  @jsonMember({ constructor: Number, name: 'EraID' })\n  eraID: number;\n\n  /**\n   * Creates a new instance of `FutureEraScheduling`.\n   *\n   * @param eraID The era ID when the transaction is scheduled.\n   */\n  constructor(eraID: number) {\n    this.eraID = eraID;\n  }\n\n  public toBytes(): Uint8Array {\n    const calltableSerialization = new CalltableSerialization();\n    calltableSerialization.addField(0, Uint8Array.of(1));\n    calltableSerialization.addField(1, CLValue.newCLUint64(this.eraID).bytes());\n\n    return calltableSerialization.toBytes();\n  }\n}\n\n/**\n * Represents the scheduling for a transaction in a future timestamp.\n */\n@jsonObject\nexport class FutureTimestampScheduling {\n  /**\n   * The timestamp when the transaction is scheduled to occur.\n   */\n  @jsonMember({\n    name: 'FutureTimestamp',\n    constructor: Timestamp,\n    deserializer: json => Timestamp.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  timestamp: Timestamp;\n\n  /**\n   * Creates a new instance of `FutureTimestampScheduling`.\n   *\n   * @param timestamp The timestamp when the transaction is scheduled.\n   */\n  constructor(timestamp: Timestamp) {\n    this.timestamp = timestamp;\n  }\n\n  public toBytes(): Uint8Array {\n    const calltableSerialization = new CalltableSerialization();\n    calltableSerialization.addField(0, Uint8Array.of(2));\n    calltableSerialization.addField(\n      1,\n      toBytesU64(Date.parse(this.timestamp.toJSON()))\n    );\n\n    return calltableSerialization.toBytes();\n  }\n}\n\n/**\n * Represents a transaction scheduling, which could be either immediate (standard), scheduled for a future era, or scheduled for a future timestamp.\n */\n@jsonObject\nexport class TransactionScheduling {\n  /**\n   * Represents the standard (immediate) scheduling with no future scheduling.\n   */\n  @jsonMember({ name: 'Standard', constructor: Object })\n  standard?: object;\n\n  /**\n   * Represents scheduling to a future era with a specified `eraID`.\n   */\n  @jsonMember({ name: 'FutureEra', constructor: FutureEraScheduling })\n  futureEra?: FutureEraScheduling;\n\n  /**\n   * Represents scheduling to a future timestamp with a specified `timestamp`.\n   */\n  @jsonMember({\n    name: 'FutureTimestamp',\n    constructor: FutureTimestampScheduling\n  })\n  futureTimestamp?: FutureTimestampScheduling;\n\n  /**\n   * Creates a new instance of `TransactionScheduling`.\n   *\n   * @param standard The standard scheduling with no delay.\n   * @param futureEra The future era scheduling.\n   * @param futureTimestamp The future timestamp scheduling.\n   */\n  constructor(\n    standard?: object,\n    futureEra?: FutureEraScheduling,\n    futureTimestamp?: FutureTimestampScheduling\n  ) {\n    this.standard = standard;\n    this.futureEra = futureEra;\n    this.futureTimestamp = futureTimestamp;\n  }\n\n  /**\n   * Determines the tag that corresponds to the current scheduling type.\n   *\n   * @returns The corresponding tag for the scheduling type.\n   */\n  tag(): TransactionSchedulingTag {\n    if (this.standard) return TransactionSchedulingTag.Native;\n    if (this.futureEra) return TransactionSchedulingTag.FutureEra;\n    if (this.futureTimestamp) return TransactionSchedulingTag.FutureTimestamp;\n    return 0;\n  }\n\n  /**\n   * Serializes the transaction scheduling into a byte array representation.\n   *\n   * @returns A `Uint8Array` representing the transaction scheduling.\n   */\n  toBytes(): Uint8Array {\n    if (this.standard) {\n      const calltableSerialization = new CalltableSerialization();\n      calltableSerialization.addField(0, Uint8Array.of(0));\n      return calltableSerialization.toBytes();\n    } else if (this.futureEra) {\n      return this.futureEra.toBytes();\n    } else if (this.futureTimestamp) {\n      return this.futureTimestamp.toBytes();\n    }\n\n    throw new Error('Unable to serialize TransactionScheduling');\n  }\n\n  /**\n   * Creates a `TransactionScheduling` instance from a JSON object.\n   *\n   * @param json The JSON object to deserialize into a `TransactionScheduling` instance.\n   * @returns The deserialized `TransactionScheduling` object.\n   * @throws Error if the JSON format is invalid.\n   */\n  static fromJSON(json: any): TransactionScheduling {\n    if (json === 'Standard') {\n      return new TransactionScheduling({});\n    }\n    if (typeof json === 'object') {\n      if ('FutureEra' in json) {\n        return new TransactionScheduling(\n          undefined,\n          new FutureEraScheduling(json.FutureEra)\n        );\n      }\n      if ('FutureTimestamp' in json) {\n        return new TransactionScheduling(\n          undefined,\n          undefined,\n          new FutureTimestampScheduling(json.FutureEra)\n        );\n      }\n    }\n    throw new Error('Invalid JSON format for TransactionScheduling');\n  }\n\n  /**\n   * Converts the transaction scheduling into a JSON-compatible format.\n   *\n   * @returns The JSON representation of the transaction scheduling.\n   * @throws Error if the scheduling type is unknown.\n   */\n  toJSON(): unknown {\n    if (this.standard) {\n      return 'Standard';\n    }\n    if (this.futureTimestamp) {\n      return {\n        FutureTimestamp: this.futureTimestamp.timestamp.date.toISOString()\n      };\n    }\n    if (this.futureEra) {\n      return { FutureEra: this.futureEra.eraID };\n    }\n    throw new Error('Unknown scheduling type');\n  }\n\n  /**\n   * Deserializes a `Uint8Array` into a `TransactionScheduling` instance.\n   *\n   * This method parses a byte array representation of a `TransactionScheduling`\n   * object, determines the type of scheduling based on the tag, and reconstructs\n   * the appropriate instance.\n   *\n   * @param bytes - The byte array to be deserialized.\n   * @returns A `TransactionScheduling` instance based on the serialized data.\n   * @throws Error - If the byte array is invalid, missing required fields, or contains\n   *                 an unrecognized scheduling tag.\n   *\n   * ### Tags and Their Associated Schedulers:\n   * - `TransactionSchedulingTag.Native`: Represents a native scheduling target.\n   * - `TransactionSchedulingTag.FutureEra`: Represents a scheduling target tied to a future era.\n   * - `TransactionSchedulingTag.FutureTimestamp`: Represents a scheduling target tied to a future timestamp.\n   *\n   * ### Example\n   * ```typescript\n   * const bytes = new Uint8Array([...]); // Provide valid TransactionScheduling bytes\n   * const scheduling = TransactionScheduling.fromBytes(bytes);\n   * console.log(scheduling); // Parsed TransactionScheduling instance\n   * ```\n   */\n  static fromBytes(bytes: Uint8Array): TransactionScheduling {\n    const calltable = CalltableSerialization.fromBytes(bytes);\n\n    const tagBytes = calltable.getField(0);\n    if (!tagBytes || tagBytes.length !== 1) {\n      throw new Error(\n        'Invalid or missing tag in serialized TransactionScheduling'\n      );\n    }\n    const tag = tagBytes[0];\n\n    switch (tag) {\n      case TransactionSchedulingTag.Native:\n        return new TransactionScheduling({});\n\n      case TransactionSchedulingTag.FutureEra: {\n        const eraIDBytes = calltable.getField(1);\n        if (!eraIDBytes) {\n          throw new Error('Missing eraID field for FutureEra scheduling');\n        }\n        const eraID = fromBytesU64(eraIDBytes).toNumber();\n        return new TransactionScheduling(\n          undefined,\n          new FutureEraScheduling(eraID)\n        );\n      }\n\n      case TransactionSchedulingTag.FutureTimestamp: {\n        const timestampBytes = calltable.getField(1);\n        if (!timestampBytes) {\n          throw new Error(\n            'Missing timestamp field for FutureTimestamp scheduling'\n          );\n        }\n        const timestampMs = fromBytesU64(timestampBytes).toNumber();\n        const timestamp = new Timestamp(new Date(timestampMs));\n        return new TransactionScheduling(\n          undefined,\n          undefined,\n          new FutureTimestampScheduling(timestamp)\n        );\n      }\n\n      default:\n        throw new Error(`Unknown TransactionSchedulingTag: ${tag}`);\n    }\n  }\n}\n","import isNull from 'lodash/isNull';\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { concat } from '@ethersproject/bytes';\n\nimport { jsonMember, jsonObject, TypedJSON } from 'typedjson';\nimport { Hash } from './key';\nimport {\n  CLTypeOption,\n  CLTypeUInt32,\n  CLValue,\n  CLValueOption,\n  CLValueString,\n  CLValueUInt32\n} from './clvalue';\nimport { ExecutableDeployItem } from './ExecutableDeployItem';\nimport { CalltableSerialization } from './CalltableSerialization';\nimport {\n  byteArrayJsonDeserializer,\n  byteArrayJsonSerializer\n} from './SerializationUtils';\n\n/**\n * Represents a runtime environment for Casper transactions.\n * This class distinguishes between different versions of the Casper Virtual Machine (VM).\n */\n@jsonObject\nexport class TransactionRuntime {\n  /**\n   * Internal tag representing Casper VM Version 1.\n   */\n  private static readonly VM_CASPER_V1_TAG = 0;\n\n  /**\n   * Internal tag representing Casper VM Version 2.\n   */\n  private static readonly VM_CASPER_V2_TAG = 1;\n\n  /**\n   * The tag used to identify the current VM version.\n   */\n  private _tag: number = TransactionRuntime.VM_CASPER_V1_TAG;\n\n  /**\n   * The index of the field used for tag serialization.\n   */\n  private static readonly TAG_FIELD_INDEX = 0;\n\n  /**\n   * Creates an instance of `TransactionRuntime` from a JSON string.\n   *\n   * @param json - The JSON string representing the type of the transaction runtime.\n   * @returns A `TransactionRuntime` instance matching the specified type.\n   * @throws Will throw an error if the provided JSON does not match known VM versions.\n   */\n  public static fromJSON(json: string): TransactionRuntime {\n    switch (json) {\n      case 'VmCasperV1':\n        return TransactionRuntime.vmCasperV1();\n      case 'VmCasperV2':\n        return TransactionRuntime.vmCasperV2();\n      default:\n        throw new Error(`Unknown TransactionRuntime '${json}'`);\n    }\n  }\n\n  /**\n   * Serializes the current `TransactionRuntime` to a JSON string.\n   *\n   * @returns A JSON string representing the type of the transaction runtime.\n   * @throws Will throw an error if the tag does not match known VM versions.\n   */\n  public toJSON(): string {\n    switch (this._tag) {\n      case TransactionRuntime.VM_CASPER_V1_TAG:\n        return 'VmCasperV1';\n      case TransactionRuntime.VM_CASPER_V2_TAG:\n        return 'VmCasperV2';\n      default:\n        throw new Error(`Unknown TransactionRuntime '${this._tag}'`);\n    }\n  }\n\n  /**\n   * Creates a new instance representing the Casper Version 1 Virtual Machine.\n   *\n   * @returns A `TransactionRuntime` instance configured for VM Version 1.\n   */\n  public static vmCasperV1(): TransactionRuntime {\n    const instance = new TransactionRuntime();\n    instance._tag = TransactionRuntime.VM_CASPER_V1_TAG;\n    return instance;\n  }\n\n  /**\n   * Creates a new instance representing the Casper Version 2 Virtual Machine.\n   *\n   * @returns A `TransactionRuntime` instance configured for VM Version 2.\n   */\n  public static vmCasperV2(): TransactionRuntime {\n    const instance = new TransactionRuntime();\n    instance._tag = TransactionRuntime.VM_CASPER_V2_TAG;\n    return instance;\n  }\n\n  /**\n   * Serializes the current `TransactionRuntime` to a byte array.\n   *\n   * @returns A `Uint8Array` containing the serialized transaction runtime data.\n   */\n  public toBytes(): Uint8Array {\n    return new CalltableSerialization()\n      .addField(TransactionRuntime.TAG_FIELD_INDEX, Uint8Array.of(this._tag))\n      .toBytes();\n  }\n}\n\n/**\n * Represents the invocation target for a transaction identified by a package hash.\n */\n@jsonObject\nexport class ByPackageHashInvocationTarget {\n  /**\n   * The address of the package in the form of a hash.\n   */\n  @jsonMember({\n    name: 'addr',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  addr: Hash;\n\n  /**\n   * The version of the package, if specified.\n   */\n  @jsonMember({ name: 'version', isRequired: false, constructor: Number })\n  version?: number;\n\n  @jsonMember({\n    name: 'protocol_version_major',\n    constructor: Number,\n    isRequired: false,\n    preserveNull: false\n  })\n  public protocolVersionMajor: number | null;\n\n  public toBytes(): Uint8Array {\n    const calltableSerialization = new CalltableSerialization();\n\n    const versionBytes = this.version\n      ? CLValue.newCLOption(\n          CLValue.newCLUInt32(BigNumber.from(this.version))\n        ).bytes()\n      : new CLValueOption(null, new CLTypeOption(CLTypeUInt32)).bytes();\n\n    calltableSerialization.addField(0, Uint8Array.of(2));\n    calltableSerialization.addField(1, this.addr.toBytes());\n    calltableSerialization.addField(2, versionBytes);\n\n    if (this.protocolVersionMajor) {\n      calltableSerialization.addField(\n        3,\n        CLValue.newCLUInt32(BigNumber.from(this.protocolVersionMajor)).bytes()\n      );\n    }\n\n    return calltableSerialization.toBytes();\n  }\n}\n\n/**\n * Represents the invocation target for a transaction identified by a package name.\n */\n@jsonObject\nexport class ByPackageNameInvocationTarget {\n  /**\n   * The name of the package.\n   */\n  @jsonMember({ name: 'name', constructor: String })\n  name: string;\n\n  /**\n   * The version of the package, if specified.\n   */\n  @jsonMember({ name: 'version', isRequired: false, constructor: Number })\n  version?: number;\n\n  @jsonMember({\n    name: 'protocol_version_major',\n    constructor: Number,\n    isRequired: false,\n    preserveNull: false\n  })\n  public protocolVersionMajor: number | null;\n\n  public toBytes(): Uint8Array {\n    const calltableSerialization = new CalltableSerialization();\n\n    const versionBytes = this.version\n      ? CLValue.newCLOption(\n          CLValue.newCLUInt32(BigNumber.from(this.version))\n        ).bytes()\n      : new CLValueOption(null, new CLTypeOption(CLTypeUInt32)).bytes();\n\n    calltableSerialization.addField(0, Uint8Array.of(3));\n    calltableSerialization.addField(1, CLValue.newCLString(this.name).bytes());\n    calltableSerialization.addField(2, versionBytes);\n\n    if (this.protocolVersionMajor) {\n      calltableSerialization.addField(\n        3,\n        CLValue.newCLUInt32(BigNumber.from(this.protocolVersionMajor)).bytes()\n      );\n    }\n\n    return calltableSerialization.toBytes();\n  }\n}\n\n/**\n * Represents a transaction invocation target, which can be one of the following:\n * - By hash\n * - By name\n * - By package hash\n * - By package name\n */\n@jsonObject\nexport class TransactionInvocationTarget {\n  /**\n   * Invocation target by hash, if specified.\n   */\n  @jsonMember({\n    name: 'ByHash',\n    isRequired: false,\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  byHash?: Hash;\n\n  /**\n   * Invocation target by name, if specified.\n   */\n  @jsonMember({ name: 'ByName', isRequired: false, constructor: String })\n  byName?: string;\n\n  /**\n   * Invocation target by package hash, if specified.\n   */\n  @jsonMember({\n    name: 'ByPackageHash',\n    isRequired: false,\n    constructor: ByPackageHashInvocationTarget\n  })\n  byPackageHash?: ByPackageHashInvocationTarget;\n\n  /**\n   * Invocation target by package name, if specified.\n   */\n  @jsonMember({\n    name: 'ByPackageName',\n    isRequired: false,\n    constructor: ByPackageNameInvocationTarget\n  })\n  byPackageName?: ByPackageNameInvocationTarget;\n\n  public toBytes(): Uint8Array {\n    if (this.byHash) {\n      const calltableSerializer = new CalltableSerialization();\n      calltableSerializer.addField(0, Uint8Array.of(0));\n      calltableSerializer.addField(1, this.byHash.toBytes());\n      return calltableSerializer.toBytes();\n    } else if (this.byName) {\n      const calltableSerializer = new CalltableSerialization();\n      calltableSerializer.addField(0, Uint8Array.of(1));\n      calltableSerializer.addField(1, CLValue.newCLString(this.byName).bytes());\n      return calltableSerializer.toBytes();\n    } else if (this.byPackageHash) {\n      return this.byPackageHash.toBytes();\n    } else if (this.byPackageName) {\n      return this.byPackageName.toBytes();\n    }\n\n    throw new Error(\n      'Can not convert TransactionInvocationTarget to bytes. Missing values from initialization'\n    );\n  }\n\n  /**\n   * Deserializes a `Uint8Array` into a `TransactionInvocationTarget` instance.\n   *\n   * This method reconstructs a `TransactionInvocationTarget` object from its serialized byte array representation.\n   * The type of invocation target is determined by the tag extracted from the serialized data.\n   *\n   * @param bytes - The serialized byte array representing a `TransactionInvocationTarget`.\n   * @returns A deserialized `TransactionInvocationTarget` instance.\n   * @throws Error - If the byte array is invalid, missing required fields, or contains an unrecognized tag.\n   *\n   * ### Tags and Their Associated Targets:\n   * - `0`: Represents an invocation target identified by a hash (`ByHash`).\n   * - `1`: Represents an invocation target identified by a name (`ByName`).\n   * - `2`: Represents an invocation target identified by a package hash and an optional version (`ByPackageHash`).\n   * - `3`: Represents an invocation target identified by a package name and an optional version (`ByPackageName`).\n   *\n   * ### Example\n   * ```typescript\n   * const bytes = new Uint8Array([...]); // Provide valid TransactionInvocationTarget bytes\n   * const invocationTarget = TransactionInvocationTarget.fromBytes(bytes);\n   * console.log(invocationTarget); // Parsed TransactionInvocationTarget instance\n   * ```\n   */\n  static fromBytes(bytes: Uint8Array): TransactionInvocationTarget {\n    const calltable = CalltableSerialization.fromBytes(bytes);\n\n    const tagBytes = calltable.getField(0);\n    if (!tagBytes || tagBytes.length !== 1) {\n      throw new Error(\n        'Invalid or missing tag in serialized TransactionInvocationTarget'\n      );\n    }\n    const tag = tagBytes[0];\n    const invocationTarget = new TransactionInvocationTarget();\n\n    switch (tag) {\n      case 0: {\n        const hashBytes = calltable.getField(1);\n        if (!hashBytes) {\n          throw new Error('Missing hash field for ByHash target');\n        }\n        invocationTarget.byHash = Hash.fromBytes(hashBytes).result;\n        return invocationTarget;\n      }\n\n      case 1: {\n        const nameBytes = calltable.getField(1);\n        if (!nameBytes) {\n          throw new Error('Missing name field for ByName target');\n        }\n        invocationTarget.byName = CLValueString.fromBytes(\n          nameBytes\n        ).result.toString();\n        return invocationTarget;\n      }\n\n      case 2: {\n        const packageHashBytes = calltable.getField(1);\n        const versionBytes = calltable.getField(2);\n        const protocolVersionMajorBytes = calltable.getField(3);\n\n        if (!packageHashBytes || !versionBytes) {\n          throw new Error('Missing fields for ByPackageHash target');\n        }\n\n        let protocolVersionMajor = null;\n        if (protocolVersionMajorBytes) {\n          protocolVersionMajor = CLValueUInt32.fromBytes(\n            protocolVersionMajorBytes\n          ).result.toNumber();\n        }\n        const packageHash = Hash.fromBytes(packageHashBytes);\n        const version = CLValueOption.fromBytes(\n          versionBytes,\n          new CLTypeOption(CLTypeUInt32)\n        ).result.toString();\n        const byPackageHash = new ByPackageHashInvocationTarget();\n        byPackageHash.addr = packageHash.result;\n        byPackageHash.version = BigNumber.from(version).toNumber();\n        byPackageHash.protocolVersionMajor = protocolVersionMajor;\n        invocationTarget.byPackageHash = byPackageHash;\n        return invocationTarget;\n      }\n\n      case 3: {\n        const nameBytes = calltable.getField(1);\n        const versionBytes = calltable.getField(2);\n        const protocolVersionMajorBytes = calltable.getField(3);\n\n        if (!nameBytes || !versionBytes) {\n          throw new Error('Missing fields for ByPackageName target');\n        }\n\n        let protocolVersionMajor = null;\n        if (protocolVersionMajorBytes) {\n          protocolVersionMajor = CLValueUInt32.fromBytes(\n            protocolVersionMajorBytes\n          ).result.toNumber();\n        }\n\n        const name = CLValueString.fromBytes(nameBytes).result.toString();\n        const version = CLValueOption.fromBytes(\n          versionBytes,\n          new CLTypeOption(CLTypeUInt32)\n        ).result.toString();\n        const byPackageName = new ByPackageNameInvocationTarget();\n        byPackageName.version = BigNumber.from(version).toNumber();\n        byPackageName.name = name;\n        byPackageName.protocolVersionMajor = protocolVersionMajor;\n        invocationTarget.byPackageName = byPackageName;\n        return invocationTarget;\n      }\n\n      default:\n        throw new Error(`Unknown TransactionInvocationTarget tag: ${tag}`);\n    }\n  }\n}\n\n/**\n * Represents a stored target, which includes both the invocation target and runtime.\n */\n@jsonObject\nexport class StoredTarget {\n  /**\n   * The invocation target for the stored transaction.\n   */\n  @jsonMember({ name: 'id', constructor: TransactionInvocationTarget })\n  id: TransactionInvocationTarget;\n\n  /**\n   * The runtime associated with the stored transaction.\n   */\n  @jsonMember({\n    name: 'runtime',\n    constructor: TransactionRuntime,\n    deserializer: json => {\n      if (!json) return;\n      return TransactionRuntime.fromJSON(json);\n    },\n    serializer: (value: TransactionRuntime) => value.toJSON()\n  })\n  runtime: TransactionRuntime;\n\n  public toBytes() {\n    const calltableSerializer = new CalltableSerialization();\n    calltableSerializer.addField(0, Uint8Array.of(1));\n    calltableSerializer.addField(1, this.id.toBytes());\n    calltableSerializer.addField(2, this.runtime.toBytes());\n\n    return calltableSerializer.toBytes();\n  }\n}\n\n/**\n * Represents a session target, which includes both the module bytes and runtime.\n */\n@jsonObject\nexport class SessionTarget {\n  /**\n   * The module bytes associated with the session target.\n   */\n  @jsonMember({\n    name: 'module_bytes',\n    constructor: Uint8Array,\n    deserializer: byteArrayJsonDeserializer,\n    serializer: byteArrayJsonSerializer\n  })\n  moduleBytes: Uint8Array;\n\n  /**\n   * The runtime associated with the session target.\n   */\n  @jsonMember({\n    name: 'runtime',\n    constructor: TransactionRuntime,\n    deserializer: json => {\n      if (!json) return;\n      return TransactionRuntime.fromJSON(json);\n    },\n    serializer: (value: TransactionRuntime) => value.toJSON()\n  })\n  runtime: TransactionRuntime;\n\n  /**\n   * The runtime associated with the session target.\n   */\n  @jsonMember({ name: 'is_install_upgrade', constructor: Boolean })\n  isInstallUpgrade: boolean;\n\n  public toBytes(): Uint8Array {\n    const moduleBytesLength = new Uint8Array(\n      new Uint32Array([this.moduleBytes.length]).buffer\n    );\n\n    const calltableSerializer = new CalltableSerialization();\n    calltableSerializer.addField(0, Uint8Array.of(2));\n    calltableSerializer.addField(\n      1,\n      new Uint8Array([this.isInstallUpgrade ? 0x01 : 0x00])\n    );\n    calltableSerializer.addField(2, this.runtime.toBytes());\n    calltableSerializer.addField(\n      3,\n      concat([moduleBytesLength, this.moduleBytes])\n    );\n\n    return calltableSerializer.toBytes();\n  }\n}\n\n/**\n * Represents a transaction target, which could be one of the following types:\n * - Native (no specific target)\n * - Stored (contract or stored item target)\n * - Session (session-based target)\n */\n@jsonObject\nexport class TransactionTarget {\n  /**\n   * Native transaction target, representing a transaction with no specific target.\n   */\n  @jsonMember({ constructor: Object, name: 'Native' })\n  native?: object;\n\n  /**\n   * Stored transaction target, representing a transaction that targets a stored contract or item.\n   */\n  @jsonMember({ name: 'Stored', constructor: StoredTarget })\n  stored?: StoredTarget;\n\n  /**\n   * Session transaction target, representing a session-based transaction.\n   */\n  @jsonMember({ name: 'Session', constructor: SessionTarget })\n  session?: SessionTarget;\n\n  /**\n   * Constructs a `TransactionTarget` instance with the specified values for native, stored, or session targets.\n   *\n   * @param native The native transaction target, if applicable.\n   * @param stored The stored transaction target, if applicable.\n   * @param session The session transaction target, if applicable.\n   */\n  constructor(native?: object, stored?: StoredTarget, session?: SessionTarget) {\n    this.native = native;\n    this.stored = stored;\n    this.session = session;\n  }\n\n  /**\n   * Serializes the `TransactionTarget` into a byte array.\n   *\n   * @returns A `Uint8Array` representing the serialized transaction target.\n   */\n  toBytes(): Uint8Array {\n    if (this.native) {\n      const calltableSerializer = new CalltableSerialization();\n      calltableSerializer.addField(0, Uint8Array.of(0));\n\n      return calltableSerializer.toBytes();\n    } else if (this.stored) {\n      return this.stored.toBytes();\n    } else if (this.session) {\n      return this.session.toBytes();\n    }\n\n    throw new Error(\n      'Can not convert TransactionTarget to bytes. Missing values ( native | stored | session ) from initialization'\n    );\n  }\n\n  /**\n   * Deserializes a `TransactionTarget` from a JSON object.\n   *\n   * @param json The JSON object to deserialize.\n   * @returns A `TransactionTarget` instance.\n   * @throws Error if the JSON object format is invalid.\n   */\n  static fromJSON(json: any): TransactionTarget {\n    const target = new TransactionTarget();\n\n    if (typeof json === 'string' && json === 'Native') {\n      target.native = {};\n    } else if (json.Stored) {\n      const serializer = new TypedJSON(StoredTarget);\n      target.stored = serializer.parse(json.Stored);\n    } else if (json.Session) {\n      const serializer = new TypedJSON(SessionTarget);\n      target.session = serializer.parse(json.Session);\n    }\n\n    return target;\n  }\n\n  /**\n   * Converts the `TransactionTarget` into a JSON-compatible format.\n   *\n   * @returns The JSON representation of the `TransactionTarget`.\n   * @throws Error if the target type is unknown.\n   */\n  toJSON(): any {\n    if (this.native !== undefined) {\n      return 'Native';\n    } else if (this.stored !== undefined) {\n      const serializer = new TypedJSON(StoredTarget);\n      return {\n        Stored: serializer.toPlainJson(this.stored)\n      };\n    } else if (this.session !== undefined) {\n      const serializer = new TypedJSON(SessionTarget);\n      return {\n        Session: serializer.toPlainJson(this.session)\n      };\n    } else {\n      throw new Error('unknown target type');\n    }\n  }\n\n  /**\n   * Creates a new `TransactionTarget` from a session-based transaction.\n   *\n   * @param session The `ExecutableDeployItem` that defines the session-based transaction.\n   * @returns A new `TransactionTarget` instance derived from the session.\n   */\n  public static newTransactionTargetFromSession(\n    session: ExecutableDeployItem\n  ): TransactionTarget {\n    const transactionTarget = new TransactionTarget();\n    if (session.transfer !== undefined) {\n      transactionTarget.native = {};\n      return transactionTarget;\n    }\n\n    if (session.moduleBytes !== undefined) {\n      const sessionTarget = new SessionTarget();\n      sessionTarget.moduleBytes = session.moduleBytes.moduleBytes;\n      sessionTarget.runtime = TransactionRuntime.vmCasperV1();\n\n      transactionTarget.session = sessionTarget;\n      return transactionTarget;\n    }\n\n    if (session.storedContractByHash !== undefined) {\n      const storedTarget = new StoredTarget();\n      const invocationTarget = new TransactionInvocationTarget();\n      invocationTarget.byHash = session.storedContractByHash.hash.hash;\n      storedTarget.runtime = TransactionRuntime.vmCasperV1();\n      storedTarget.id = invocationTarget;\n\n      transactionTarget.stored = storedTarget;\n      return transactionTarget;\n    }\n\n    if (session.storedContractByName !== undefined) {\n      const storedTarget = new StoredTarget();\n      const invocationTarget = new TransactionInvocationTarget();\n      invocationTarget.byName = session.storedContractByName.name;\n\n      storedTarget.runtime = TransactionRuntime.vmCasperV1();\n      storedTarget.id = invocationTarget;\n\n      transactionTarget.stored = storedTarget;\n\n      return transactionTarget;\n    }\n\n    if (session.storedVersionedContractByHash !== undefined) {\n      let version: number | undefined;\n      if (\n        session.storedVersionedContractByHash.version !== undefined &&\n        !isNull(session.storedVersionedContractByHash.version)\n      ) {\n        const versionNum = parseInt(\n          session.storedVersionedContractByHash.version.toString(),\n          10\n        );\n        if (!isNaN(versionNum)) {\n          version = versionNum;\n        }\n      }\n\n      const packageHashInvocationTarget = new ByPackageHashInvocationTarget();\n      packageHashInvocationTarget.addr =\n        session.storedVersionedContractByHash.hash.hash;\n      packageHashInvocationTarget.version = version;\n      packageHashInvocationTarget.protocolVersionMajor = null;\n\n      const invocationTarget = new TransactionInvocationTarget();\n      invocationTarget.byPackageHash = packageHashInvocationTarget;\n\n      const storedTarget = new StoredTarget();\n      storedTarget.runtime = TransactionRuntime.vmCasperV1();\n      storedTarget.id = invocationTarget;\n\n      transactionTarget.stored = storedTarget;\n\n      return transactionTarget;\n    }\n\n    if (session.storedVersionedContractByName !== undefined) {\n      let version: number | undefined;\n      if (\n        session.storedVersionedContractByName.version !== undefined &&\n        !isNull(session.storedVersionedContractByName.version)\n      ) {\n        const versionNum = parseInt(\n          session.storedVersionedContractByName.version.toString(),\n          10\n        );\n        if (!isNaN(versionNum)) {\n          version = versionNum;\n        }\n      }\n\n      const packageNameInvocationTarget = new ByPackageNameInvocationTarget();\n      packageNameInvocationTarget.name =\n        session.storedVersionedContractByName.name;\n      packageNameInvocationTarget.version = version;\n      packageNameInvocationTarget.protocolVersionMajor = null;\n\n      const invocationTarget = new TransactionInvocationTarget();\n      invocationTarget.byPackageName = packageNameInvocationTarget;\n\n      const storedTarget = new StoredTarget();\n      storedTarget.runtime = TransactionRuntime.vmCasperV1();\n      storedTarget.id = invocationTarget;\n\n      transactionTarget.stored = storedTarget;\n\n      return transactionTarget;\n    }\n\n    return new TransactionTarget();\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\n\nimport { InitiatorAddr } from './InitiatorAddr';\nimport { Duration, Timestamp } from './Time';\nimport { PricingMode } from './PricingMode';\nimport { Args, NamedArg } from './Args';\nimport { TransactionTarget } from './TransactionTarget';\nimport { TransactionEntryPoint } from './TransactionEntryPoint';\nimport { TransactionScheduling } from './TransactionScheduling';\nimport { CalltableSerialization } from './CalltableSerialization';\nimport {\n  deserializeArgs,\n  serializeArgs\n} from './SerializationUtils';\nimport { CLValue } from './clvalue';\nimport {\n  expandBuffer,\n  writeBytes,\n  writeInteger,\n  writeUShort\n} from './ByteConverters';\n\n/**\n * Interface representing the parameters required to build a `TransactionV1Payload`.\n * Contains all necessary data to construct a valid V1 transaction payload.\n */\ninterface ITransactionPayloadBuildParams {\n  /**\n   * The address of the transaction initiator.\n   */\n  initiatorAddr: InitiatorAddr;\n\n  /**\n   * Arguments for the transaction.\n   */\n  args: Args;\n\n  /**\n   * The time-to-live (TTL) duration of the transaction.\n   */\n  ttl: Duration;\n\n  /**\n   * Entry point for the transaction execution.\n   */\n  entryPoint: TransactionEntryPoint;\n\n  /**\n   * Pricing mode for the transaction.\n   */\n  pricingMode: PricingMode;\n\n  /**\n   * Timestamp indicating when the transaction was created.\n   */\n  timestamp: Timestamp;\n\n  /**\n   * Target destination of the transaction.\n   */\n  transactionTarget: TransactionTarget;\n\n  /**\n   * Scheduling details for the transaction.\n   */\n  scheduling: TransactionScheduling;\n\n  /**\n   * Name of the chain the transaction should be executed on.\n   */\n  chainName: string;\n}\n\n/**\n * Class representing a collection of fields used in transaction serialization.\n * This class handles serialization and deserialization of transaction data fields.\n */\n@jsonObject\nexport class PayloadFields {\n  /**\n   * Arguments for the transaction.\n   */\n  @jsonMember(() => Args, {\n    deserializer: deserializeArgs,\n    serializer: (args: Args) => serializeArgs(args, true)\n  })\n  public args: Args;\n\n  /**\n   * Target destination of the transaction.\n   */\n  @jsonMember({\n    name: 'target',\n    constructor: TransactionTarget,\n    deserializer: json => TransactionTarget.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public target: TransactionTarget;\n\n  /**\n   * Entry point for the transaction execution.\n   */\n  @jsonMember({\n    name: 'entry_point',\n    constructor: TransactionEntryPoint,\n    deserializer: json => TransactionEntryPoint.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public entryPoint: TransactionEntryPoint;\n\n  /**\n   * Scheduling details for the transaction execution.\n   */\n  @jsonMember({\n    name: 'scheduling',\n    constructor: TransactionScheduling,\n    deserializer: json => TransactionScheduling.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public scheduling: TransactionScheduling;\n\n  /**\n   * Internal map to store serialized fields, where the key is the field identifier.\n   */\n  private fields: Map<number, Uint8Array> = new Map();\n\n  /**\n   * Builds a `PayloadFields` instance from provided transaction details.\n   *\n   * @param args - Transaction arguments.\n   * @param transactionTarget - Transaction target.\n   * @param transactionEntryPoint - Transaction entry point.\n   * @param transactionScheduling - Scheduling information for the transaction.\n   * @returns A new `PayloadFields` instance.\n   * @throws Error if any of the required parameters are missing or invalid.\n   */\n  public static build(\n    args: Args,\n    transactionTarget: TransactionTarget,\n    transactionEntryPoint: TransactionEntryPoint,\n    transactionScheduling: TransactionScheduling\n  ): PayloadFields {\n    const missingFields = [];\n    if (!args) missingFields.push('args');\n    if (!transactionTarget) missingFields.push('transactionTarget');\n    if (!transactionEntryPoint) missingFields.push('transactionEntryPoint');\n    if (!transactionScheduling) missingFields.push('transactionScheduling');\n\n    if (missingFields.length > 0) {\n      throw new Error(\n        `Failed to build PayloadFields: Missing or invalid fields: ${missingFields.join(\n          ', '\n        )}.`\n      );\n    }\n\n    const payloadFields = new PayloadFields();\n    payloadFields.args = args;\n    payloadFields.target = transactionTarget;\n    payloadFields.entryPoint = transactionEntryPoint;\n    payloadFields.scheduling = transactionScheduling;\n\n    return payloadFields;\n  }\n\n  /**\n   * Adds a serialized field to the payload.\n   *\n   * @param field - Field identifier.\n   * @param value - Serialized value of the field.\n   */\n  public addField(field: number, value: Uint8Array): void {\n    this.fields.set(field, value);\n  }\n\n  /**\n   * Retrieves the value of a specific field.\n   *\n   * @param fieldIndex - Identifier of the field.\n   * @returns Serialized value of the field.\n   */\n  public getFieldValue(fieldIndex: number): Uint8Array | undefined {\n    return this.fields.get(fieldIndex);\n  }\n\n  /**\n   * Serializes the fields of the object into a `Uint8Array` for transmission or storage.\n   *\n   * This method iterates over the `fields` map, serializing each key-value pair. The key is\n   * written as a 16-bit unsigned integer, and the value is written as a sequence of bytes.\n   * The resulting byte array contains all serialized fields in order, preceded by the number of fields.\n   *\n   * @returns A `Uint8Array` containing the serialized representation of the fields.\n   *\n   */\n  toBytes(): Uint8Array {\n    const bufferSize = 1024;\n    let fieldsBytes = new ArrayBuffer(bufferSize);\n    let view = new DataView(fieldsBytes);\n    let offset = 0;\n\n    offset = writeInteger(view, offset, this.fields.size);\n\n    for (const [field, value] of Array.from(this.fields.entries())) {\n      if (offset + 2 > fieldsBytes.byteLength) {\n        fieldsBytes = expandBuffer(fieldsBytes, offset + 2);\n        view = new DataView(fieldsBytes);\n      }\n      offset = writeUShort(view, offset, field);\n\n      if (offset + value.length > fieldsBytes.byteLength) {\n        fieldsBytes = expandBuffer(fieldsBytes, offset + value.length);\n        view = new DataView(fieldsBytes);\n      }\n      offset = writeBytes(view, offset, value);\n    }\n\n    return new Uint8Array(fieldsBytes, 0, offset);\n  }\n}\n\n/**\n * Class representing the payload for a V1 transaction.\n */\n@jsonObject\nexport class TransactionV1Payload {\n  /**\n   * Address of the transaction initiator.\n   */\n  @jsonMember({\n    name: 'initiator_addr',\n    constructor: InitiatorAddr,\n    deserializer: json => InitiatorAddr.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public initiatorAddr: InitiatorAddr;\n\n  /**\n   * Timestamp when the transaction was created.\n   */\n  @jsonMember({\n    name: 'timestamp',\n    constructor: Timestamp,\n    deserializer: json => Timestamp.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public timestamp: Timestamp;\n\n  /**\n   * Time-to-live (TTL) duration of the transaction.\n   */\n  @jsonMember({\n    name: 'ttl',\n    constructor: Duration,\n    deserializer: json => Duration.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public ttl: Duration;\n\n  /**\n   * Pricing mode used for the transaction.\n   */\n  @jsonMember({ name: 'pricing_mode', constructor: PricingMode })\n  public pricingMode: PricingMode;\n\n  /**\n   * Name of the chain the transaction should be executed on.\n   */\n  @jsonMember({ name: 'chain_name', constructor: String })\n  public chainName: string;\n\n  /**\n   * Serialized fields associated with the transaction.\n   */\n  @jsonMember({\n    name: 'fields',\n    constructor: PayloadFields\n  })\n  public fields: PayloadFields;\n\n  /**\n   * Serializes the transaction payload into a `Uint8Array`.\n   *\n   * @returns A `Uint8Array` representing the serialized transaction payload.\n   */\n  toBytes(): Uint8Array {\n    const bufferSize = 1024;\n    let runtimeArgsBuffer = new ArrayBuffer(bufferSize);\n    let runtimeArgsView = new DataView(runtimeArgsBuffer);\n    let offset = 0;\n\n    runtimeArgsView.setUint8(offset, 0x00);\n    offset += 1;\n\n    if (offset + 4 > runtimeArgsBuffer.byteLength) {\n      runtimeArgsBuffer = expandBuffer(runtimeArgsBuffer, offset + 4);\n      runtimeArgsView = new DataView(runtimeArgsBuffer);\n    }\n    runtimeArgsView.setUint32(offset, this.fields.args.args.size, true);\n    offset += 4;\n\n    for (const [name, value] of Array.from(this.fields.args.args.entries())) {\n      const namedArg = new NamedArg(name, value);\n      const argBytes = NamedArg.toBytesWithNamedArg(namedArg);\n\n      if (offset + argBytes.length > runtimeArgsBuffer.byteLength) {\n        runtimeArgsBuffer = expandBuffer(\n          runtimeArgsBuffer,\n          offset + argBytes.length\n        );\n        runtimeArgsView = new DataView(runtimeArgsBuffer);\n      }\n      new Uint8Array(runtimeArgsBuffer, offset).set(argBytes);\n      offset += argBytes.length;\n    }\n\n    const runtimeArgsBytes = new Uint8Array(runtimeArgsBuffer, 0, offset);\n\n    const fields = new PayloadFields();\n\n    const runtimeArgsWithLength = new Uint8Array(runtimeArgsBytes.length + 4);\n    new DataView(runtimeArgsWithLength.buffer).setUint32(\n      0,\n      runtimeArgsBytes.length,\n      true\n    );\n    runtimeArgsWithLength.set(runtimeArgsBytes, 4);\n\n    fields.addField(0, runtimeArgsWithLength);\n\n    const targetBytes = this.fields.target.toBytes();\n    const targetWithLength = new Uint8Array(targetBytes.length + 4);\n    new DataView(targetWithLength.buffer).setUint32(\n      0,\n      targetBytes.length,\n      true\n    );\n    targetWithLength.set(targetBytes, 4);\n    fields.addField(1, targetWithLength);\n\n    const entryPointBytes = this.fields.entryPoint.toBytes();\n    const entryPointWithLength = new Uint8Array(entryPointBytes.length + 4);\n    new DataView(entryPointWithLength.buffer).setUint32(\n      0,\n      entryPointBytes.length,\n      true\n    );\n    entryPointWithLength.set(entryPointBytes, 4);\n    fields.addField(2, entryPointWithLength);\n\n    const schedulingBytes = this.fields.scheduling.toBytes();\n    const schedulingWithLength = new Uint8Array(schedulingBytes.length + 4);\n    new DataView(schedulingWithLength.buffer).setUint32(\n      0,\n      schedulingBytes.length,\n      true\n    );\n    schedulingWithLength.set(schedulingBytes, 4);\n    fields.addField(3, schedulingWithLength);\n\n    return new CalltableSerialization()\n      .addField(0, this.initiatorAddr.toBytes())\n      .addField(1, CLValue.newCLUint64(this.timestamp.toMilliseconds()).bytes())\n      .addField(2, CLValue.newCLUint64(this.ttl.duration).bytes())\n      .addField(3, CLValue.newCLString(this.chainName).bytes())\n      .addField(4, this.pricingMode.toBytes())\n      .addField(5, fields.toBytes())\n      .toBytes();\n  }\n\n  /**\n   * Constructs a `TransactionV1Payload` instance with specified parameters.\n   *\n   * @param params - Parameters for building the transaction payload.\n   * @returns A new `TransactionV1Payload` instance.\n   */\n  public static build({\n    initiatorAddr,\n    args,\n    ttl,\n    entryPoint,\n    pricingMode,\n    timestamp,\n    transactionTarget,\n    scheduling,\n    chainName\n  }: ITransactionPayloadBuildParams): TransactionV1Payload {\n    const payloadFields = PayloadFields.build(\n      args,\n      transactionTarget,\n      entryPoint,\n      scheduling\n    );\n\n    const payload = new TransactionV1Payload();\n    payload.initiatorAddr = initiatorAddr;\n    payload.ttl = ttl;\n    payload.pricingMode = pricingMode;\n    payload.timestamp = timestamp;\n    payload.chainName = chainName;\n    payload.fields = payloadFields;\n\n    return payload;\n  }\n}\n","import { jsonObject, jsonMember, TypedJSON } from 'typedjson';\nimport { TransactionHash } from './Transaction';\nimport { InitiatorAddr } from './InitiatorAddr';\nimport { AccountHash, Hash, URef } from './key';\nimport { CLValueUInt512 } from './clvalue';\nimport { BigNumber } from '@ethersproject/bignumber';\n\n/**\n * Represents the details of a version 1 (V1) transfer transaction.\n */\n@jsonObject\nexport class TransferV1 {\n  /**\n   * The amount being transferred in a version 1 transaction.\n   */\n  @jsonMember({\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public amount: CLValueUInt512;\n\n  /**\n   * The deploy hash associated with the transfer.\n   */\n  @jsonMember({\n    name: 'deploy_hash',\n    constructor: Hash,\n    deserializer: json => Hash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public deployHash: Hash;\n\n  /**\n   * The account hash representing the sender of the transfer.\n   */\n  @jsonMember({\n    constructor: AccountHash,\n    deserializer: json => AccountHash.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public from: AccountHash;\n\n  /**\n   * The gas used for the transfer.\n   */\n  @jsonMember({\n    constructor: Number,\n    deserializer: json => BigNumber.from(json).toNumber(),\n    serializer: value => BigNumber.from(value).toString()\n  })\n  public gas: number;\n\n  /**\n   * The optional ID of the transfer.\n   */\n  @jsonMember({ constructor: Number })\n  public id?: number;\n\n  /**\n   * The source URef (Universal Reference) of the transfer.\n   */\n  @jsonMember({\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: (value: URef) => value.toJSON()\n  })\n  public source: URef;\n\n  /**\n   * The target URef (Universal Reference) of the transfer.\n   */\n  @jsonMember({\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: (value: URef) => value.toJSON()\n  })\n  public target: URef;\n\n  /**\n   * The optional account hash representing the recipient of the transfer.\n   */\n  @jsonMember({\n    constructor: AccountHash,\n    deserializer: json => {\n      if (!json) return;\n      return AccountHash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public to?: AccountHash;\n}\n\n/**\n * Represents the details of a version 2 (V2) transfer transaction.\n */\n@jsonObject\nexport class TransferV2 {\n  /**\n   * The amount being transferred in a version 2 transaction.\n   */\n  @jsonMember({\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public amount: CLValueUInt512;\n\n  /**\n   * The transaction hash associated with the transfer.\n   */\n  @jsonMember({ name: 'transaction_hash', constructor: TransactionHash })\n  public transactionHash: TransactionHash;\n\n  /**\n   * The initiator address of the transfer, containing details about the sender.\n   */\n  @jsonMember({\n    constructor: InitiatorAddr,\n    deserializer: json => InitiatorAddr.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public from: InitiatorAddr;\n\n  /**\n   * The gas used for the transfer.\n   */\n  @jsonMember({\n    constructor: Number,\n    deserializer: json => BigNumber.from(json).toNumber(),\n    serializer: value => BigNumber.from(value).toString()\n  })\n  public gas: number;\n\n  /**\n   * The optional ID of the transfer.\n   */\n  @jsonMember({ constructor: Number })\n  public id?: number;\n\n  /**\n   * The source URef (Universal Reference) of the transfer.\n   */\n  @jsonMember({\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: (value: URef) => value.toJSON()\n  })\n  public source: URef;\n\n  /**\n   * The target URef (Universal Reference) of the transfer.\n   */\n  @jsonMember({\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: (value: URef) => value.toJSON()\n  })\n  public target: URef;\n\n  /**\n   * The optional account hash representing the recipient of the transfer.\n   */\n  @jsonMember({\n    constructor: AccountHash,\n    deserializer: json => {\n      if (!json) return;\n      return AccountHash.fromJSON(json);\n    },\n    serializer: (value: AccountHash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public to?: AccountHash;\n}\n\n/**\n * Represents a versioned transfer transaction, which can be either version 1 (V1) or version 2 (V2).\n */\n@jsonObject\nclass TransferVersioned {\n  /**\n   * The version 1 transfer details, if applicable.\n   */\n  @jsonMember({ name: 'Version1', constructor: TransferV1 })\n  public Version1?: TransferV1;\n\n  /**\n   * The version 2 transfer details, if applicable.\n   */\n  @jsonMember({ name: 'Version2', constructor: TransferV2 })\n  public Version2?: TransferV2;\n}\n\n/**\n * Represents a transfer transaction, which can be either version 1 (V1) or version 2 (V2).\n */\n@jsonObject\nexport class Transfer {\n  /**\n   * The amount being transferred in the transaction.\n   */\n  @jsonMember({\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public amount: CLValueUInt512;\n\n  /**\n   * The transaction hash associated with the transfer.\n   */\n  @jsonMember({ name: 'transaction_hash', constructor: TransactionHash })\n  public transactionHash: TransactionHash;\n\n  /**\n   * The initiator address of the transfer, containing details about the sender.\n   */\n  @jsonMember({\n    constructor: InitiatorAddr,\n    deserializer: json => InitiatorAddr.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  public from: InitiatorAddr;\n\n  /**\n   * The gas used for the transfer.\n   */\n  @jsonMember({\n    constructor: Number,\n    deserializer: json => BigNumber.from(json).toNumber(),\n    serializer: value => BigNumber.from(value).toString()\n  })\n  public gas: number;\n\n  /**\n   * The optional ID of the transfer.\n   */\n  @jsonMember({ constructor: Number })\n  public id?: number;\n\n  /**\n   * The source URef (Universal Reference) of the transfer.\n   */\n  @jsonMember({\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: (value: URef) => value.toJSON()\n  })\n  public source: URef;\n\n  /**\n   * The target URef (Universal Reference) of the transfer.\n   */\n  @jsonMember({\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: (value: URef) => value.toJSON()\n  })\n  public target: URef;\n\n  /**\n   * The optional account hash representing the recipient of the transfer.\n   */\n  @jsonMember({\n    constructor: AccountHash,\n    deserializer: json => {\n      if (!json) return;\n      return AccountHash.fromJSON(json);\n    },\n    serializer: (value: AccountHash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public to?: AccountHash;\n\n  private originTransferV1?: TransferV1;\n  private originTransferV2?: TransferV2;\n\n  /**\n   * Gets the version 1 transfer details if available.\n   *\n   * @returns The version 1 transfer details, or `undefined` if not present.\n   */\n  public getTransferV1(): TransferV1 | undefined {\n    return this.originTransferV1;\n  }\n\n  /**\n   * Gets the version 2 transfer details if available.\n   *\n   * @returns The version 2 transfer details, or `undefined` if not present.\n   */\n  public getTransferV2(): TransferV2 | undefined {\n    return this.originTransferV2;\n  }\n\n  /**\n   * Deserializes a `Transfer` instance from JSON.\n   * It can handle both version 1 and version 2 transfer formats.\n   *\n   * @param data The JSON data representing the transfer.\n   * @returns A `Transfer` instance.\n   * @throws Error if the transfer format is invalid or unrecognized.\n   */\n  public static fromJSON(data: any): Transfer {\n    const versioned = TypedJSON.parse(data, TransferVersioned);\n\n    if (versioned?.Version2) {\n      const transfer = new Transfer();\n      transfer.amount = versioned.Version2.amount;\n      transfer.transactionHash = versioned.Version2.transactionHash;\n      transfer.from = versioned.Version2.from;\n      transfer.gas = versioned.Version2.gas;\n      transfer.id = versioned.Version2.id;\n      transfer.source = versioned.Version2.source;\n      transfer.target = versioned.Version2.target;\n      transfer.to = versioned.Version2.to;\n      transfer.originTransferV2 = versioned.Version2;\n      return transfer;\n    }\n\n    if (versioned?.Version1) {\n      return Transfer.fromTransferV1(versioned.Version1);\n    }\n\n    const v1Compatible = TypedJSON.parse(data, TransferV1);\n\n    if (v1Compatible) {\n      return Transfer.fromTransferV1(v1Compatible);\n    }\n\n    throw new Error('Incorrect RPC response structure');\n  }\n\n  /**\n   * Creates a `Transfer` instance from version 1 transfer data.\n   *\n   * @param transferV1 The version 1 transfer details.\n   * @returns A `Transfer` instance created from the version 1 data.\n   */\n  private static fromTransferV1(transferV1: TransferV1): Transfer {\n    const transfer = new Transfer();\n    transfer.amount = transferV1.amount;\n    transfer.transactionHash = TransactionHash.fromDeployHash(\n      transferV1.deployHash\n    );\n    transfer.from = new InitiatorAddr(undefined, transferV1.from);\n    transfer.gas = transferV1.gas;\n    transfer.id = transferV1.id;\n    transfer.source = transferV1.source;\n    transfer.target = transferV1.target;\n    transfer.to = transferV1.to;\n    transfer.originTransferV1 = transferV1;\n    return transfer;\n  }\n}\n","import { jsonObject, jsonMember, TypedJSON } from 'typedjson';\n\nimport { AccountHash, Key } from './key';\nimport { UnbondingPurse } from './UnbondingPurse';\nimport { AddressableEntity } from './AddressableEntity';\nimport { Package } from './Package';\nimport { BidKind } from './BidKind';\nimport { MessageChecksum, MessageTopicSummary } from './MessageTopic';\nimport { DeployInfo } from './DeployInfo';\nimport { CLValue, CLValueUInt512 } from './clvalue';\nimport { Args } from './Args';\nimport { deserializeArgs, serializeArgs } from './SerializationUtils';\nimport {\n  BidKindRawData,\n  PackageRawData,\n  RawDataMessage,\n  RawDataMessageTopic,\n  RawDataNamedKey,\n  RawUInt512,\n  RawWriteAccount1XTransform,\n  RawWriteAccount2XTransform,\n  RawWriteCLValue,\n  RawWriteCLValueV2,\n  RawWriteContract,\n  RawWriteContractPackage,\n  RawWriteDeployInfo,\n  RawWriteTransferTransform,\n  RawWriteUnbonding,\n  RawWriteWithdrawals,\n  TranformAddressableEntityRawData,\n  WriteTransfer\n} from './TransformRaw';\nimport { Contract } from './Contract';\nimport { ContractPackage } from './ContractPackage';\n\n/**\n * Represents different types of transformation that can be applied.\n * Used for parsing and processing transformation data in a transaction.\n */\n@jsonObject\nexport class TransformKind {\n  private data: any;\n\n  /**\n   * Constructs a new `TransformKind` instance.\n   *\n   * @param data The transformation data as a string.\n   */\n  constructor(data: any) {\n    this.data = data;\n  }\n\n  /**\n   * Getter for transformation data.\n   *\n   * @returns The transformation data.\n   */\n  public get transformationData(): any {\n    return this.data;\n  }\n\n  /**\n   * Creates a `TransformKind` instance from a JSON string.\n   *\n   * @param json The transformation data as a string.\n   * @returns The `TransformKind` instance.\n   */\n  static fromJSON(json: any): TransformKind | undefined {\n    if (!json) {\n      throw new Error('TransformKind: fromJSON on empty string');\n    }\n    return new TransformKind(json);\n  }\n\n  /**\n   * Converts the transformation data into a JSON string.\n   *\n   * @returns The transformation data as a string.\n   */\n  public toJSON(): any {\n    return this.data;\n  }\n\n  /**\n   * Checks if the transformation is a WriteTransfer.\n   *\n   * @returns `true` if the transformation is a WriteTransfer, otherwise `false`.\n   */\n  public isWriteTransfer(): boolean {\n    return this.isTransformation('WriteTransfer');\n  }\n\n  /**\n   * Checks if the transformation is a WriteAccount.\n   *\n   * @returns `true` if the transformation is a WriteAccount, otherwise `false`.\n   */\n  public isWriteAccount(): boolean {\n    return (\n      this.isTransformation('WriteAccount') ||\n      (this.isTransformation('Write') && this.isTransformation('Account'))\n    );\n  }\n\n  /**\n   * Checks if the transformation is a WriteCLValue.\n   *\n   * @returns `true` if the transformation is a WriteCLValue, otherwise `false`.\n   */\n  public isCLValueWrite(): boolean {\n    return this.isTransformation('WriteCLValue');\n  }\n\n  /**\n   * Checks if the transformation is a WriteContract.\n   *\n   * @returns `true` if the transformation is a WriteContract, otherwise `false`.\n   */\n  public isWriteContract(): boolean {\n    /**\n     * v1 compatible check\n     */\n    if (this.isTransformation('WriteContract')) {\n      return true;\n    }\n\n    /**\n     * v2 compatible check\n     */\n    const serializer = new TypedJSON(RawWriteContract);\n    const jsonRes = serializer.parse(this.data);\n\n    return !!jsonRes?.Write?.Contract;\n  }\n\n  /**\n   * Checks if the transformation is a WriteWithdraw.\n   *\n   * @returns `true` if the transformation is a WriteWithdraw, otherwise `false`.\n   */\n  public isWriteWithdraw(): boolean {\n    return this.isTransformation('WriteWithdraw');\n  }\n\n  /**\n   * Checks if the transformation is a WriteUnbonding.\n   *\n   * @returns `true` if the transformation is a WriteUnbonding, otherwise `false`.\n   */\n  public isWriteUnbonding(): boolean {\n    return this.isTransformation('WriteUnbonding');\n  }\n\n  /**\n   * Checks if the transformation is a WriteCLValue.\n   *\n   * @returns `true` if the transformation is a WriteCLValue, otherwise `false`.\n   */\n  public isWriteCLValue(): boolean {\n    return this.isTransformation('CLValue');\n  }\n\n  /**\n   * Checks if the transformation is a WritePackage.\n   *\n   * @returns `true` if the transformation is a WritePackage, otherwise `false`.\n   */\n  public isWritePackage(): boolean {\n    return this.isTransformation('Package');\n  }\n\n  /**\n   * Checks if the transformation is a WriteAddressableEntity.\n   *\n   * @returns `true` if the transformation is a WriteAddressableEntity, otherwise `false`.\n   */\n  public isWriteAddressableEntity(): boolean {\n    return this.isTransformation('AddressableEntity');\n  }\n\n  /**\n   * Checks if the transformation is a WriteBidKind.\n   *\n   * @returns `true` if the transformation is a WriteBidKind, otherwise `false`.\n   */\n  public isWriteBidKind(): boolean {\n    return this.isTransformation('BidKind');\n  }\n\n  /**\n   * Checks if the transformation is a WriteNamedKey.\n   *\n   * @returns `true` if the transformation is a WriteNamedKey, otherwise `false`.\n   */\n  public isWriteNamedKey(): boolean {\n    return this.isTransformation('NamedKey');\n  }\n\n  /**\n   * Checks if the transformation is a WriteMessage.\n   *\n   * @returns `true` if the transformation is a WriteMessage, otherwise `false`.\n   */\n  public isWriteMessage(): boolean {\n    return this.isTransformation('Message');\n  }\n\n  /**\n   * Checks if the transformation is a WriteMessageTopic.\n   *\n   * @returns `true` if the transformation is a WriteMessageTopic, otherwise `false`.\n   */\n  public isWriteMessageTopic(): boolean {\n    return this.isTransformation('MessageTopic');\n  }\n\n  /**\n   * Checks if the transformation is a WriteBid.\n   *\n   * @returns `true` if the transformation is a WriteBid, otherwise `false`.\n   */\n  public isWriteBid(): boolean {\n    return this.isTransformation('WriteBid');\n  }\n\n  /**\n   * Checks if the transformation is an AddUInt512.\n   *\n   * @returns `true` if the transformation is AddUInt512, otherwise `false`.\n   */\n  public isAddUint512(): boolean {\n    return this.isTransformation('AddUInt512');\n  }\n\n  /**\n   * Checks if the transformation is a WriteDeployInfo.\n   *\n   * @returns `true` if the transformation is a WriteDeployInfo, otherwise `false`.\n   */\n  public isWriteDeployInfo(): boolean {\n    return this.isTransformation('WriteDeployInfo');\n  }\n\n  /**\n   * Checks if the transformation is a WriteContractPackage.\n   *\n   * @returns `true` if the transformation is a WriteContractPackage, otherwise `false`.\n   */\n  public isWriteContractPackage(): boolean {\n    /**\n     * v1 compatible check\n     */\n    if (this.isTransformation('WriteContractPackage')) {\n      return true;\n    }\n\n    /**\n     * v2 compatible check\n     */\n    const serializer = new TypedJSON(RawWriteContractPackage);\n    const jsonRes = serializer.parse(this.data);\n\n    return !!jsonRes?.Write?.ContractPackage;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteTransfer.\n   *\n   * @returns A `WriteTransfer` object if the data matches, otherwise throw an error`.\n   */\n  public parseAsWriteTransfer(): WriteTransfer {\n    const serializer = new TypedJSON(RawWriteTransferTransform);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.WriteTransfer) {\n      throw new Error(`Error parsing as WriteTransfer`);\n    }\n\n    return jsonRes.WriteTransfer;\n  }\n  /**\n   * Attempts to parse the transformation as a WriteWithdraw.\n   *\n   * @returns An array of `UnbondingPurse` objects if the data matches, otherwise `[]`.\n   */\n  public parseAsWriteWithdraws(): UnbondingPurse[] {\n    const serializer = new TypedJSON(RawWriteWithdrawals);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.UnbondingPurses) {\n      return [];\n    }\n\n    return jsonRes.UnbondingPurses;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteAddressableEntity.\n   *\n   * @returns An `AddressableEntity` object if the data matches, otherwise throw an error`.\n   */\n  public parseAsWriteAddressableEntity(): AddressableEntity {\n    const serializer = new TypedJSON(TranformAddressableEntityRawData);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes?.Write?.AddressableEntity) {\n      throw new Error(`Error parsing as AddressableEntity`);\n    }\n\n    return jsonRes.Write.AddressableEntity;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WritePackage.\n   *\n   * @returns A `Package` object if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWritePackage(): Package {\n    const serializer = new TypedJSON(PackageRawData);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes?.Write?.Package) {\n      throw new Error(`Error parsing as Package`);\n    }\n\n    return jsonRes.Write.Package;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteBidKind.\n   *\n   * @returns A `BidKind` object if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWriteBidKind(): BidKind {\n    const serializer = new TypedJSON(BidKindRawData);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes?.Write?.BidKind) {\n      throw new Error(`Error parsing as BidKind`);\n    }\n\n    return jsonRes.Write.BidKind;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteNamedKey.\n   *\n   * @returns A `NamedKeyKind` object if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWriteNamedKey(): NamedKeyKind | null {\n    const serializer = new TypedJSON(RawDataNamedKey);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.Write || !jsonRes.Write.NamedKey) {\n      throw new Error(`Error parsing as NamedKeyKind`);\n    }\n\n    return jsonRes.Write.NamedKey;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteMessage.\n   *\n   * @returns A `MessageChecksum` if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWriteMessage(): MessageChecksum {\n    const serializer = new TypedJSON(RawDataMessage);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.Write || !jsonRes.Write.Message) {\n      throw new Error(`Error parsing as MessageChecksum`);\n    }\n\n    return jsonRes.Write.Message;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteMessageTopic.\n   *\n   * @returns A `MessageTopicSummary` if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWriteMessageTopic(): MessageTopicSummary {\n    const serializer = new TypedJSON(RawDataMessageTopic);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.Write || !jsonRes.Write.MessageTopic) {\n      throw new Error(`Error parsing as MessageTopicSummary`);\n    }\n\n    return jsonRes.Write.MessageTopic;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteUnbonding.\n   *\n   * @returns An array of `UnbondingPurse` objects if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWriteUnbondings(): UnbondingPurse[] | null {\n    const serializer = new TypedJSON(RawWriteUnbonding);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.UnbondingPurses) {\n      throw new Error(`Error parsing as UnbondingPurse array`);\n    }\n\n    return jsonRes.UnbondingPurses;\n  }\n\n  /**\n   * Attempts to parse the transformation as a UInt512.\n   *\n   * @returns A `CLValueUInt512` object if the data matches, otherwise `throw an error`.\n   */\n  public parseAsUInt512(): CLValueUInt512 {\n    const serializer = new TypedJSON(RawUInt512);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.UInt512) {\n      throw new Error(`Error parsing as CLValueUInt512`);\n    }\n\n    return jsonRes.UInt512;\n  }\n\n  /**\n   * Attempts to parse the transformation data as a WriteAccount transformation.\n   *\n   * This method supports two JSON formats:\n   *\n   * - **2.x Format:**\n   *   ```json\n   *   {\n   *     \"Write\": {\n   *       \"Account\": {\n   *         \"account_hash\": \"...\"\n   *       }\n   *     }\n   *   }\n   *   ```\n   *   If the parsed `accountHash` is not equal to the zero account hash, this value is returned.\n   *\n   * - **1.x Format:**\n   *   ```json\n   *   {\n   *     \"WriteAccount\": \"...\"\n   *   }\n   *   ```\n   *   If the 2.x format is not matched or the parsed account hash equals the zero hash,\n   *   the method falls back to this format.\n   *\n   * @returns The parsed `AccountHash`.\n   * @throws Error if the transformation data cannot be parsed as a valid WriteAccount.\n   */\n  public parseAsWriteAccount(): AccountHash {\n    const ZERO_ACCOUNT_HASH =\n      'account-hash-0000000000000000000000000000000000000000000000000000000000000000';\n\n    const serializer2x = new TypedJSON(RawWriteAccount2XTransform);\n    const parsed2x = serializer2x.parse(this.data);\n\n    if (\n      parsed2x?.Write?.Account?.accountHash &&\n      parsed2x.Write.Account.accountHash.toPrefixedString() !==\n        ZERO_ACCOUNT_HASH\n    ) {\n      return parsed2x.Write.Account.accountHash;\n    }\n\n    // Fallback: attempt to parse using the 1.x transformation format.\n    const serializer1x = new TypedJSON(RawWriteAccount1XTransform);\n    const parsed1x = serializer1x.parse(this.data);\n\n    if (!parsed1x?.WriteAccount) {\n      throw new Error('Error parsing as WriteAccount');\n    }\n\n    return parsed1x.WriteAccount;\n  }\n  /**\n   * Attempts to parse the transformation as a WriteDeployInfo.\n   *\n   * @returns A `DeployInfo` object if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWriteDeployInfo(): DeployInfo {\n    const serializer = new TypedJSON(RawWriteDeployInfo);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.WriteDeployInfo) {\n      throw new Error(`Error parsing as DeployInfo`);\n    }\n\n    return jsonRes.WriteDeployInfo;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteCLValue.\n   *\n   * @returns The `Args` object if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWriteCLValue(): CLValue {\n    const serializer = new TypedJSON(RawWriteCLValue);\n    const jsonRes = serializer.parse(this.data);\n\n    if (jsonRes && jsonRes.WriteCLValue) {\n      return jsonRes.WriteCLValue;\n    }\n\n    const serializer2 = new TypedJSON(RawWriteCLValueV2);\n    const jsonRes2 = serializer2.parse(this.data);\n\n    if (!jsonRes2 || !jsonRes2.Write || !jsonRes2?.Write.CLValue) {\n      throw new Error(`Error parsing as RawWriteCLValueV2`);\n    }\n\n    return jsonRes2.Write?.CLValue;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteContract.\n   *\n   * @returns A `Contract` object if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWriteContract(): Contract {\n    const serializer = new TypedJSON(RawWriteContract);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.Write?.Contract) {\n      throw new Error(`Error parsing as WriteContract`);\n    }\n\n    return jsonRes.Write.Contract;\n  }\n\n  /**\n   * Attempts to parse the transformation as a WriteContractPackage.\n   *\n   * @returns A `ContractPackage` object if the data matches, otherwise `throw an error`.\n   */\n  public parseAsWriteContractPackage(): ContractPackage {\n    const serializer = new TypedJSON(RawWriteContractPackage);\n    const jsonRes = serializer.parse(this.data);\n\n    if (!jsonRes || !jsonRes.Write?.ContractPackage) {\n      throw new Error(`Error parsing as WriteContractPackage`);\n    }\n\n    return jsonRes.Write.ContractPackage;\n  }\n\n  /**\n   * Recursively checks if any key in the provided object (including nested objects)\n   * contains the specified name.\n   *\n   * @param obj - The object to search through.\n   * @param name - The transformation name to search for within the keys.\n   * @returns true if a key containing the name is found; otherwise, false.\n   */\n  private containsKeyRecursive(obj: any, name: string): boolean {\n    for (const key in obj) {\n      if (key.includes(name)) {\n        return true;\n      }\n      if (typeof obj[key] === 'object' && obj[key] !== null) {\n        if (this.containsKeyRecursive(obj[key], name)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Checks if `TransformKind` has the transformation specified by name.\n   *\n   * @param `name` - transformation name (aka WriteTransfer)\n   * @returns `true` if the transformation is a WriteTransfer, otherwise `false`.\n   */\n  public isTransformation(name: string): boolean {\n    if (typeof this.data === 'string') {\n      return this.data.includes(name);\n    } else if (typeof this.data === 'object' && this.data !== null) {\n      return this.containsKeyRecursive(this.data, name);\n    }\n    return false;\n  }\n}\n\n/**\n * Represents a transformation, which includes a key and a transformation kind.\n */\n@jsonObject\nexport class Transform {\n  /**\n   * The key associated with the transformation.\n   */\n  @jsonMember({\n    name: 'key',\n    constructor: Key,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return Key.newKey(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toPrefixedString();\n    }\n  })\n  public key: Key;\n\n  /**\n   * The kind of transformation being applied.\n   */\n  @jsonMember({\n    name: 'kind',\n    constructor: TransformKind,\n    deserializer: json => {\n      if (!json) return;\n      return TransformKind.fromJSON(json);\n    },\n    serializer: (value: TransformKind) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public kind: TransformKind;\n\n  /**\n   * Constructs a new `Transform` instance.\n   *\n   * @param key The key associated with the transformation.\n   * @param kind The kind of transformation.\n   */\n  constructor(key: Key, kind: TransformKind) {\n    this.key = key;\n    this.kind = kind;\n  }\n}\n\n/**\n * Represents a key transformation in a transaction.\n */\n@jsonObject\nexport class TransformKey {\n  /**\n   * The key associated with the transformation.\n   */\n  @jsonMember({\n    name: 'key',\n    constructor: Key,\n    deserializer: (json: string) => {\n      if (!json) return;\n      return Key.newKey(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toPrefixedString();\n    }\n  })\n  public key: Key;\n\n  /**\n   * The transformation kind.\n   */\n  @jsonMember({\n    name: 'transform',\n    constructor: TransformKind,\n    deserializer: json => {\n      if (!json) return;\n      return TransformKind.fromJSON(json);\n    },\n    serializer: (value: TransformKind) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public transform: TransformKind;\n}\n\n/**\n * Represents a named key transformation in a transaction.\n */\n@jsonObject\nexport class NamedKeyKind {\n  /**\n   * The named key transformation data represented as `Args`.\n   */\n  @jsonMember(() => Args, {\n    deserializer: deserializeArgs,\n    serializer: (args: Args) => serializeArgs(args, false)\n  })\n  public namedKey: Args;\n\n  /**\n   * The name of the key represented as `Args`.\n   */\n  @jsonMember(() => Args, {\n    deserializer: deserializeArgs,\n    serializer: (args: Args) => serializeArgs(args, false)\n  })\n  public name: Args;\n}\n","import { jsonArrayMember, jsonMember, jsonObject } from 'typedjson';\n\nimport { UnbondingPurse } from './UnbondingPurse';\nimport { NamedKeyKind } from './Transform';\nimport { AddressableEntity } from './AddressableEntity';\nimport { Package } from './Package';\nimport { BidKind } from './BidKind';\nimport { MessageTopicSummary } from './MessageTopic';\nimport { CLValue, CLValueParser, CLValueUInt512 } from './clvalue';\nimport { DeployInfo } from './DeployInfo';\nimport { BigNumber } from '@ethersproject/bignumber';\nimport { AccountHash, Hash, URef } from './key';\nimport { Contract } from './Contract';\nimport { ContractPackage } from './ContractPackage';\n\n/**\n * Represents a transfer operation in a transaction.\n */\n@jsonObject\nexport class WriteTransfer {\n  /**\n   * The optional ID of the transfer.\n   */\n  @jsonMember({ name: 'id', constructor: Number, preserveNull: true })\n  public id?: number;\n\n  /**\n   * The recipient of the transfer, represented as an `AccountHash`.\n   */\n  @jsonMember({\n    name: 'to',\n    constructor: AccountHash,\n    preserveNull: true,\n    deserializer: json => {\n      if (!json) return;\n      return AccountHash.fromJSON(json);\n    },\n    serializer: (value: AccountHash) => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public to?: AccountHash;\n\n  /**\n   * The deploy hash associated with the transfer.\n   */\n  @jsonMember({\n    name: 'deploy_hash',\n    constructor: Hash,\n    deserializer: json => {\n      if (!json) return;\n      return Hash.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  public deployHash: Hash;\n\n  /**\n   * The sender of the transfer, represented as an `AccountHash`.\n   */\n  @jsonMember({\n    name: 'from',\n    constructor: AccountHash,\n    deserializer: json => AccountHash.fromJSON(json),\n    serializer: (value: AccountHash) => value.toJSON()\n  })\n  public from: AccountHash;\n\n  /**\n   * The amount being transferred, represented as a `CLValueUInt512`.\n   */\n  @jsonMember({\n    name: 'amount',\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: (value: CLValueUInt512) => value.toJSON()\n  })\n  public amount: CLValueUInt512;\n\n  /**\n   * The source URef (Universal Reference) of the transfer.\n   */\n  @jsonMember({\n    name: 'source',\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: (value: URef) => value.toJSON()\n  })\n  public source: URef;\n\n  /**\n   * The target URef (Universal Reference) of the transfer.\n   */\n  @jsonMember({\n    name: 'target',\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: (value: URef) => value.toJSON()\n  })\n  public target: URef;\n\n  /**\n   * The gas used for the transfer.\n   */\n  @jsonMember({\n    name: 'gas',\n    constructor: Number,\n    deserializer: json => BigNumber.from(json).toNumber(),\n    serializer: value => BigNumber.from(value).toString()\n  })\n  public gas: number;\n}\n\n/**\n * Represents raw data for a write operation involving withdrawals.\n */\n@jsonObject\nexport class RawWriteWithdrawals {\n  /**\n   * The list of unbonding purses in the withdrawal write operation.\n   */\n  @jsonArrayMember(UnbondingPurse, { name: 'WriteWithdraw' })\n  UnbondingPurses?: UnbondingPurse[];\n}\n\n/**\n * Represents raw data for a write transfer operation.\n */\n@jsonObject\nexport class RawWriteTransferTransform {\n  /**\n   * The write transfer operation.\n   */\n  @jsonMember({ name: 'WriteTransfer', constructor: WriteTransfer })\n  WriteTransfer?: WriteTransfer;\n}\n\n/**\n * Represents a transform for an addressable entity.\n */\n@jsonObject\nexport class TranformAddressableEntity {\n  /**\n   * The addressable entity involved in the transform.\n   */\n  @jsonMember({ name: 'AddressableEntity', constructor: AddressableEntity })\n  AddressableEntity?: AddressableEntity;\n}\n\n/**\n * Represents raw data for a write operation on an addressable entity.\n */\n@jsonObject\nexport class TranformAddressableEntityRawData {\n  /**\n   * The write operation containing an addressable entity transform.\n   */\n  @jsonMember({ name: 'Write', constructor: TranformAddressableEntity })\n  Write?: TranformAddressableEntity;\n}\n\n/**\n * Represents transform data for a package entity.\n */\n@jsonObject\nexport class TranformPackageData {\n  /**\n   * The package data in the transform.\n   */\n  @jsonMember({ name: 'Package', constructor: Package })\n  Package?: Package;\n}\n\n/**\n * Represents raw data for a write operation involving a package.\n */\n@jsonObject\nexport class PackageRawData {\n  /**\n   * The write operation containing package data.\n   */\n  @jsonMember({ name: 'Write', constructor: TranformPackageData })\n  Write?: TranformPackageData;\n}\n\n/**\n * Represents transform data for a bid kind.\n */\n@jsonObject\nexport class TranformBidKindData {\n  /**\n   * The bid kind data in the transform.\n   */\n  @jsonMember({ name: 'BidKind', constructor: BidKind })\n  BidKind?: BidKind;\n}\n\n/**\n * Represents raw data for a write operation on a bid kind.\n */\n@jsonObject\nexport class BidKindRawData {\n  /**\n   * The write operation containing bid kind data.\n   */\n  @jsonMember({ name: 'Write', constructor: TranformBidKindData })\n  Write?: TranformBidKindData;\n}\n\n/**\n * Represents a write operation involving a named key.\n */\n@jsonObject\nclass WriteNamedKey {\n  /**\n   * The named key in the write operation.\n   */\n  @jsonMember(() => NamedKeyKind, { name: 'NamedKey' })\n  NamedKey?: NamedKeyKind;\n}\n\n/**\n * Represents raw data for a write operation on a named key.\n */\n@jsonObject\nexport class RawDataNamedKey {\n  /**\n   * The write operation containing the named key data.\n   */\n  @jsonMember({ constructor: WriteNamedKey, name: 'Write' })\n  Write?: WriteNamedKey;\n}\n\n/**\n * Represents a write operation involving a message.\n */\n@jsonObject\nexport class WriteMessage {\n  /**\n   * The message content in the write operation.\n   */\n  @jsonMember({ constructor: String, name: 'Message' })\n  Message?: string;\n}\n\n/**\n * Represents raw data for a write operation on a message.\n */\n@jsonObject\nexport class RawDataMessage {\n  /**\n   * The write operation containing message data.\n   */\n  @jsonMember({ constructor: WriteMessage, name: 'Write' })\n  Write?: WriteMessage;\n}\n\n/**\n * Represents a write operation involving a message topic.\n */\n@jsonObject\nexport class WriteMessageTopic {\n  /**\n   * The message topic in the write operation.\n   */\n  @jsonMember({ constructor: MessageTopicSummary, name: 'MessageTopic' })\n  MessageTopic?: MessageTopicSummary;\n}\n\n/**\n * Represents raw data for a write operation on a message topic.\n */\n@jsonObject\nexport class RawDataMessageTopic {\n  /**\n   * The write operation containing message topic data.\n   */\n  @jsonMember({ constructor: WriteMessageTopic, name: 'Write' })\n  Write?: WriteMessageTopic;\n}\n\n/**\n * Represents raw write data for unbonding purses.\n */\n@jsonObject\nexport class RawWriteUnbonding {\n  /**\n   * The list of unbonding purses in the write operation.\n   */\n  @jsonArrayMember(UnbondingPurse, { name: 'WriteUnbonding' })\n  UnbondingPurses?: UnbondingPurse[];\n}\n\n/**\n * Represents raw write data for a UInt512 value.\n */\n@jsonObject\nexport class RawUInt512 {\n  /**\n   * The UInt512 value in the write operation.\n   */\n  @jsonMember({\n    name: 'AddUInt512',\n    constructor: CLValueUInt512,\n    deserializer: json => {\n      if (!json) return;\n      return CLValueUInt512.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  UInt512?: CLValueUInt512;\n}\n\n/**\n * Represents raw write data for deploying information.\n */\n@jsonObject\nexport class RawWriteDeployInfo {\n  /**\n   * The deploy information in the write operation.\n   */\n  @jsonMember({ constructor: DeployInfo, name: 'WriteDeployInfo' })\n  WriteDeployInfo?: DeployInfo;\n}\n\n/**\n * Represents raw write data for a CLValue.\n * Used for serializing and deserializing the arguments of a CLValue write operation.\n */\n@jsonObject\nexport class RawWriteCLValue {\n  /**\n   * The write operation on a CLValue represented as `Args`.\n   */\n  @jsonMember(() => CLValue, {\n    deserializer: json => {\n      if (!json) return;\n      return CLValueParser.fromJSON(json);\n    },\n    serializer: (value: CLValue) => {\n      if (!value) return;\n      return CLValueParser.toJSON(value);\n    },\n    name: 'WriteCLValue'\n  })\n  WriteCLValue?: CLValue;\n}\n\n/**\n * Represents a write operation in a transaction.\n */\n@jsonObject\nexport class WriteCLValue {\n  /**\n   * The CLValue write operation represented as `Args`.\n   */\n  @jsonMember(() => CLValue, {\n    deserializer: json => {\n      if (!json) return;\n      return CLValueParser.fromJSON(json);\n    },\n    serializer: (value: CLValue) => {\n      if (!value) return;\n      return CLValueParser.toJSON(value);\n    },\n    name: 'CLValue'\n  })\n  CLValue?: CLValue;\n}\n\n/**\n * Represents raw write data for version 2 of a CLValue.\n */\n@jsonObject\nexport class RawWriteCLValueV2 {\n  /**\n   * The write operation represented as `Write`.\n   */\n  @jsonMember({\n    name: 'Write',\n    constructor: WriteCLValue\n  })\n  Write?: WriteCLValue;\n}\n\n@jsonObject\nexport class WriteContract {\n  @jsonMember({\n    name: 'Contract',\n    constructor: Contract\n  })\n  Contract?: Contract;\n}\n\n@jsonObject\nexport class RawWriteContract {\n  @jsonMember({\n    name: 'Write',\n    constructor: WriteContract\n  })\n  Write?: WriteContract;\n}\n\n@jsonObject\nexport class WriteContractPackage {\n  @jsonMember({\n    name: 'ContractPackage',\n    constructor: ContractPackage\n  })\n  ContractPackage?: ContractPackage;\n}\n\n@jsonObject\nexport class RawWriteContractPackage {\n  @jsonMember({\n    name: 'Write',\n    constructor: WriteContractPackage\n  })\n  Write?: WriteContractPackage;\n}\n\n/**\n * Represents the inner Account object in a 2.x Write transformation.\n */\n@jsonObject\nexport class RawWriteAccount2XTransformAccount {\n  @jsonMember({\n    name: 'account_hash',\n    constructor: AccountHash,\n    deserializer: json => {\n      if (!json) return;\n      return AccountHash.fromJSON(json);\n    },\n    serializer: (value: AccountHash) => {\n      return value.toJSON();\n    }\n  })\n  accountHash: AccountHash;\n}\n\n/**\n * Represents the nested Write.Account object in a 2.x Write transformation.\n */\n@jsonObject\nexport class RawWriteAccount2XTransformWrite {\n  @jsonMember({\n    name: 'Account',\n    constructor: RawWriteAccount2XTransformAccount\n  })\n  Account: RawWriteAccount2XTransformAccount;\n}\n\n/**\n * Represents a 2.x Write transformation.\n *\n * Expected JSON shape:\n * {\n *   \"Write\": {\n *     \"Account\": {\n *       \"account_hash\": \"...\"\n *     }\n *   }\n * }\n */\n@jsonObject\nexport class RawWriteAccount2XTransform {\n  @jsonMember({ name: 'Write', constructor: RawWriteAccount2XTransformWrite })\n  Write: RawWriteAccount2XTransformWrite;\n}\n\n/**\n * Represents a 1.x Write transformation.\n *\n * Expected JSON shape:\n * {\n *   \"WriteAccount\": \"...\"\n * }\n */\n@jsonObject\nexport class RawWriteAccount1XTransform {\n  @jsonMember({\n    name: 'WriteAccount',\n    constructor: AccountHash,\n    deserializer: json => {\n      if (!json) return;\n      return AccountHash.fromJSON(json);\n    },\n    serializer: (value: AccountHash) => {\n      return value.toJSON();\n    }\n  })\n  WriteAccount: AccountHash;\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { URef } from './key';\nimport { PublicKey } from './keypair';\nimport { CLValueUInt512 } from './clvalue';\n\n/**\n * Represents an unbonding purse, which contains information about the unbonding process of a bonded amount.\n */\n@jsonObject\nexport class UnbondingPurse {\n  /**\n   * The amount being unbonded, represented as `CLValueUInt512`.\n   */\n  @jsonMember({\n    name: 'amount',\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  amount: CLValueUInt512;\n\n  /**\n   * The bonding purse from which the unbonding is taking place, represented as a `URef`.\n   */\n  @jsonMember({\n    name: 'bonding_purse',\n    constructor: URef,\n    deserializer: json => URef.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  bondingPurse: URef;\n\n  /**\n   * The era when the unbonding purse was created.\n   */\n  @jsonMember({ name: 'era_of_creation', constructor: Number })\n  eraOfCreation: number;\n\n  /**\n   * The public key of the unbonder, representing the individual initiating the unbonding process.\n   */\n  @jsonMember({\n    name: 'unbonder_public_key',\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  unbonderPublicKey: PublicKey;\n\n  /**\n   * The public key of the validator associated with the unbonding.\n   */\n  @jsonMember({\n    name: 'validator_public_key',\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  validatorPublicKey: PublicKey;\n\n  /**\n   * The public key of a new validator, if applicable. This may be used for transferring the bonded amount to a new validator.\n   */\n  @jsonMember({\n    name: 'new_validator',\n    constructor: PublicKey,\n    deserializer: json => {\n      if (!json) return;\n      return PublicKey.fromJSON(json);\n    },\n    serializer: value => {\n      if (!value) return;\n      return value.toJSON();\n    }\n  })\n  newValidator?: PublicKey;\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { PublicKey } from './keypair';\nimport { CLValueUInt512 } from './clvalue';\n\n/**\n * Represents the weight of a validator at the end of an era.\n */\n@jsonObject\nexport class ValidatorWeightEraEnd {\n  /**\n   * The public key of the validator whose weight is being recorded.\n   */\n  @jsonMember({\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  validator: PublicKey;\n\n  /**\n   * The weight of the validator at the end of the era, represented as `CLValueUInt512`.\n   */\n  @jsonMember({\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  weight: CLValueUInt512;\n}\n\n/**\n * Represents the weight of a validator in the auction.\n */\n@jsonObject\nexport class ValidatorWeightAuction {\n  /**\n   * The public key of the validator whose weight is being recorded in the auction.\n   */\n  @jsonMember({\n    name: 'public_key',\n    constructor: PublicKey,\n    deserializer: json => PublicKey.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  validator: PublicKey;\n\n  /**\n   * The weight of the validator in the auction, represented as `CLValueUInt512`.\n   */\n  @jsonMember({\n    constructor: CLValueUInt512,\n    deserializer: json => CLValueUInt512.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  weight: CLValueUInt512;\n}\n","/**\n * Represents an 'Any' value in the Casper type system.\n * This type can store any arbitrary data as a byte array, making it highly flexible.\n */\nexport class CLValueAny {\n  private data: Uint8Array;\n\n  /**\n   * Initializes a new instance of the CLValueAny class.\n   * @param data - The Uint8Array to be stored as the 'Any' value.\n   */\n  constructor(data: Uint8Array) {\n    this.data = data;\n  }\n\n  /**\n   * Retrieves the byte representation of the 'Any' value.\n   * @returns A Uint8Array representing the stored data.\n   */\n  public bytes(): Uint8Array {\n    return this.data;\n  }\n\n  /**\n   * Provides a string representation of the 'Any' value.\n   * The byte array is decoded as a UTF-8 string.\n   * @returns A string decoded from the stored byte array.\n   */\n  public toString(): string {\n    return new TextDecoder().decode(this.data);\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible byte array.\n   *\n   * @returns {Uint8Array} The byte representation of the instance.\n   */\n  public toJSON(): Uint8Array {\n    return this.bytes();\n  }\n}\n","import { IResultWithBytes } from './CLValue';\n\n/**\n * Represents a boolean value in the Casper type system.\n * This class encapsulates a boolean value and provides methods for byte conversion and CLValue integration.\n */\nexport class CLValueBool {\n  private value: boolean;\n\n  /**\n   * Initializes a new instance of the CLValueBool class.\n   * @param value - The boolean value to be stored.\n   */\n  constructor(value: boolean) {\n    this.value = value;\n  }\n\n  /**\n   * Converts the boolean value to its byte representation.\n   * @returns A Uint8Array with a single byte: 1 for true, 0 for false.\n   */\n  public bytes(): Uint8Array {\n    return new Uint8Array([this.value ? 1 : 0]);\n  }\n\n  /**\n   * Provides a string representation of the boolean value.\n   * @returns The string 'true' or 'false'.\n   */\n  public toString(): string {\n    return this.value ? 'true' : 'false';\n  }\n\n  /**\n   * Converts the instance to a JSON boolean.\n   *\n   * @returns {boolean} The boolean value of the instance.\n   */\n  public toJSON(): boolean {\n    return this.value;\n  }\n\n  /**\n   * Retrieves the boolean value.\n   * @returns The stored boolean value.\n   */\n  public getValue(): boolean {\n    return this.value;\n  }\n\n  /**\n   * Creates a CLValueBool instance from a Uint8Array.\n   * Parses the first byte in the array to determine the boolean value.\n   * @param source - The Uint8Array containing the byte representation of the boolean value.\n   * @returns An object containing the new CLValueBool instance and any remaining bytes.\n   * @throws Will throw an error if the source array is empty or contains an invalid boolean byte.\n   */\n  public static fromBytes(source: Uint8Array): IResultWithBytes<CLValueBool> {\n    if (source.length === 0) {\n      throw new Error('Empty byte array');\n    }\n\n    if (source[0] === 1) {\n      return { result: new CLValueBool(true), bytes: source.subarray(1) };\n    } else if (source[0] === 0) {\n      return { result: new CLValueBool(false), bytes: source.subarray(1) };\n    } else {\n      throw new Error('Invalid bool value');\n    }\n  }\n}\n","import { CLTypeByteArray } from './cltype';\nimport { IResultWithBytes } from './CLValue';\n\n/**\n * Represents a byte array value in the Casper type system.\n * This class encapsulates a byte array, providing methods for conversion to and from CLValue.\n */\nexport class CLValueByteArray {\n  private data: Uint8Array;\n\n  /**\n   * Initializes a new instance of the CLValueByteArray class.\n   * @param data - The Uint8Array to be stored in the CLValueByteArray.\n   */\n  constructor(data: Uint8Array) {\n    this.data = data;\n  }\n\n  /**\n   * Retrieves the byte representation of the byte array.\n   * @returns A Uint8Array representing the bytes of the byte array.\n   */\n  public bytes(): Uint8Array {\n    return this.data;\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible byte array.\n   *\n   * @returns {Uint8Array} The byte representation of the instance.\n   */\n  public toJSON(): Uint8Array {\n    return this.bytes();\n  }\n\n  /**\n   * Provides a hexadecimal string representation of the byte array.\n   * Each byte is represented by two hexadecimal digits.\n   * @returns A string representing the byte array in hexadecimal format.\n   */\n  public toString(): string {\n    return Array.from(this.data, byte =>\n      byte.toString(16).padStart(2, '0')\n    ).join('');\n  }\n\n  /**\n   * Creates a CLValueByteArray instance from a Uint8Array.\n   * Extracts the bytes specified by the given CLTypeByteArray size.\n   * @param data - The Uint8Array containing the byte representation of the ByteArray value.\n   * @param clType - The CLTypeByteArray defining the size of the ByteArray.\n   * @returns An object containing the new CLValueByteArray instance and any remaining bytes.\n   */\n  public static fromBytes(\n    data: Uint8Array,\n    clType: CLTypeByteArray\n  ): IResultWithBytes<CLValueByteArray> {\n    const byteArray = data.subarray(0, clType.size);\n    return {\n      result: new CLValueByteArray(byteArray),\n      bytes: data.subarray(clType.size)\n    };\n  }\n}\n","import { BigNumberish } from '@ethersproject/bignumber';\n\nimport {\n  CLType,\n  CLTypeAny,\n  CLTypeBool,\n  CLTypeByteArray,\n  CLTypeDynamic,\n  CLTypeInt32,\n  CLTypeInt64,\n  CLTypeKey,\n  CLTypeList,\n  CLTypeMap,\n  CLTypeOption,\n  CLTypePublicKey,\n  CLTypeResult,\n  CLTypeString,\n  CLTypeTuple1,\n  CLTypeTuple2,\n  CLTypeTuple3,\n  CLTypeUInt128,\n  CLTypeUInt256,\n  CLTypeUInt32,\n  CLTypeUInt512,\n  CLTypeUInt64,\n  CLTypeUInt8,\n  CLTypeUnit,\n  CLTypeUref,\n  TypeID\n} from './cltype';\nimport { URef, Key } from '../key';\nimport { PublicKey } from '../keypair';\nimport {\n  CLValueUInt8,\n  CLValueInt64,\n  CLValueInt32,\n  CLValueUInt32,\n  CLValueUInt64,\n  CLValueUInt128,\n  CLValueUInt256,\n  CLValueUInt512\n} from './Numeric';\nimport { CLValueBool } from './Bool';\nimport { CLValueUnit } from './Unit';\nimport { CLValueOption } from './Option';\nimport { CLValueList } from './List';\nimport { CLValueByteArray } from './ByteArray';\nimport { CLValueResult } from './Result';\nimport { CLValueString } from './String';\nimport { CLValueMap } from './Map';\nimport { CLValueTuple1 } from './Tuple1';\nimport { CLValueTuple2 } from './Tuple2';\nimport { CLValueTuple3 } from './Tuple3';\nimport { CLValueAny } from './Any';\n\n/**\n * Interface representing a value that can be converted to bytes and a string.\n */\ninterface IValue {\n  bytes(): Uint8Array;\n  toString(): string;\n  toJSON(): any;\n}\n\nexport interface IResultWithBytes<T> {\n  result: T;\n  bytes: Uint8Array;\n  originalBytes?: Uint8Array;\n}\n\n/**\n * Represents a CLValue in the Casper type system.\n * CLValue is a container for various types of values used in smart contracts.\n */\nexport class CLValue {\n  public type: CLType;\n  public bool?: CLValueBool;\n  public i32?: CLValueInt32;\n  public i64?: CLValueInt64;\n  public ui8?: CLValueUInt8;\n  public ui32?: CLValueUInt32;\n  public ui64?: CLValueUInt64;\n  public ui128?: CLValueUInt128;\n  public ui256?: CLValueUInt256;\n  public ui512?: CLValueUInt512;\n  public unit?: CLValueUnit;\n  public uref?: URef;\n  public key?: Key;\n  public option?: CLValueOption;\n  public list?: CLValueList;\n  public byteArray?: CLValueByteArray;\n  public result?: CLValueResult;\n  public stringVal?: CLValueString;\n  public map?: CLValueMap;\n  public tuple1?: CLValueTuple1;\n  public tuple2?: CLValueTuple2;\n  public tuple3?: CLValueTuple3;\n  public any?: CLValueAny;\n  public publicKey?: PublicKey;\n\n  /**\n   * Initializes a new CLValue instance.\n   * @param type - The CLType of the value.\n   */\n  constructor(type: CLType) {\n    this.type = type;\n  }\n\n  /**\n   * Gets the actual type of the CLValue, resolving dynamic types if necessary.\n   * @returns The CLType of the value.\n   */\n  public getType(): CLType {\n    return this.type instanceof CLTypeDynamic ? this.type.inner : this.type;\n  }\n\n  /**\n   * Returns a string representation of the CLValue.\n   * @returns A string representation of the value.\n   */\n  public toString(): string {\n    return this.getValueByType().toString();\n  }\n\n  public toJSON(): any {\n    return this.getValueByType().toJSON();\n  }\n\n  /**\n   * Converts the CLValue to its byte representation.\n   * @returns A Uint8Array representing the bytes of the value.\n   */\n  public bytes(): Uint8Array {\n    return this.getValueByType().bytes();\n  }\n\n  /**\n   * Retrieves the value associated with the CLValue's type.\n   * @returns An IValue representing the actual value stored in the CLValue.\n   * @throws Error if the type is not implemented.\n   */\n  private getValueByType(): IValue {\n    switch (this.type.getTypeID()) {\n      case TypeID.Bool:\n        return this.bool!;\n      case TypeID.I32:\n        return this.i32!;\n      case TypeID.I64:\n        return this.i64!;\n      case TypeID.U8:\n        return this.ui8!;\n      case TypeID.U32:\n        return this.ui32!;\n      case TypeID.U64:\n        return this.ui64!;\n      case TypeID.U128:\n        return this.ui128!;\n      case TypeID.U256:\n        return this.ui256!;\n      case TypeID.U512:\n        return this.ui512!;\n      case TypeID.Unit:\n        return this.unit!;\n      case TypeID.String:\n        return this.stringVal!;\n      case TypeID.Key:\n        return this.key!;\n      case TypeID.URef:\n        return this.uref!;\n      case TypeID.Option:\n        return this.option!;\n      case TypeID.List:\n        return this.list!;\n      case TypeID.ByteArray:\n        return this.byteArray!;\n      case TypeID.Result:\n        return this.result!;\n      case TypeID.Map:\n        return this.map!;\n      case TypeID.Tuple1:\n        return this.tuple1!;\n      case TypeID.Tuple2:\n        return this.tuple2!;\n      case TypeID.Tuple3:\n        return this.tuple3!;\n      case TypeID.Any:\n        return this.any!;\n      case TypeID.PublicKey:\n        return this.publicKey!;\n      default:\n        throw new Error(\n          'Type in getValueByType method of CLValue is not implemented'\n        );\n    }\n  }\n\n  /**\n   * Retrieves the Key value from the CLValue.\n   * @returns The Key stored in the CLValue.\n   * @throws Error if the Key property is empty.\n   */\n  public getKey(): Key {\n    if (!this.key) {\n      throw new Error(\n        `Key property is empty in CLValue, type is ${this.type.toString()}`\n      );\n    }\n    return this.key;\n  }\n\n  /**\n   * Creates a new CLValue instance containing a Key value.\n   * @param data - The Key to be stored in the CLValue.\n   * @returns A new CLValue instance encapsulating the Key.\n   */\n  public static newCLKey(data: Key): CLValue {\n    const clValue = new CLValue(CLTypeKey);\n    clValue.key = data;\n    return clValue;\n  }\n\n  /**\n   * Creates a new CLValue instance containing a URef value.\n   * @param data - The URef to be stored in the CLValue.\n   * @returns A new CLValue instance encapsulating the URef.\n   */\n  public static newCLUref(data: URef): CLValue {\n    const clValue = new CLValue(CLTypeUref);\n    clValue.uref = data;\n    return clValue;\n  }\n\n  /**\n   * Creates a new CLValue instance containing a PublicKey value.\n   * @param data - The PublicKey to be stored in the CLValue.\n   * @returns A new CLValue instance encapsulating the PublicKey.\n   */\n  public static newCLPublicKey(data: PublicKey): CLValue {\n    const clValue = new CLValue(CLTypePublicKey);\n    clValue.publicKey = data;\n    return clValue;\n  }\n\n  /**\n   * Creates a new CLValue instance containing an 'Any' value.\n   * @param data - The Uint8Array to be stored within the CLValue.\n   * @returns A new CLValue instance encapsulating the 'Any' value.\n   */\n  public static newCLAny(data: Uint8Array): CLValue {\n    const res = new CLValue(CLTypeAny);\n    res.any = new CLValueAny(data);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance containing a boolean value.\n   * @param val - The boolean value to be stored in the CLValue.\n   * @returns A new CLValue instance encapsulating the boolean value.\n   */\n  public static newCLValueBool(val: boolean): CLValue {\n    const res = new CLValue(CLTypeBool);\n    res.bool = new CLValueBool(val);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance containing a ByteArray value.\n   * @param val - The Uint8Array to be stored within the CLValue.\n   * @returns A new CLValue instance encapsulating the ByteArray.\n   */\n  public static newCLByteArray(val: Uint8Array): CLValue {\n    const byteArrayType = new CLTypeByteArray(val.length);\n    const clValueByteArray = new CLValue(byteArrayType);\n\n    clValueByteArray.byteArray = new CLValueByteArray(val);\n    return clValueByteArray;\n  }\n\n  /**\n   * Creates a new CLValue instance with a List value.\n   * @param elementType - The CLType for the elements of the list.\n   * @param elements - Optional array of CLValues to initialize the list with.\n   * @returns A new CLValue instance containing CLTypeList and a CLValueList.\n   */\n  public static newCLList(\n    elementType: CLType,\n    elements: CLValue[] = []\n  ): CLValue {\n    const listType = new CLTypeList(elementType);\n    const clValue = new CLValue(listType);\n    clValue.list = new CLValueList(listType, elements);\n    return clValue;\n  }\n\n  /**\n   * Creates a new CLValue instance with a Map value.\n   * @param keyType - The CLType for the map keys.\n   * @param valType - The CLType for the map values.\n   * @returns A new CLValue instance with CLTypeMap and a CLValueMap.\n   */\n  public static newCLMap(keyType: CLType, valType: CLType): CLValue {\n    const mapType = new CLTypeMap(keyType, valType);\n    const clValue = new CLValue(mapType);\n    clValue.map = new CLValueMap(mapType);\n    return clValue;\n  }\n\n  /**\n   * Creates a new `CLValue` instance that represents an optional value.\n   *\n   * This method allows you to wrap a given `CLValue` as an optional type (`Option`),\n   * which can either contain a value or be `null`. This is useful for scenarios where\n   * a value may or may not be present.\n   *\n   * If `inner` is `null`, the method will use the provided `clType` as the type of the option.\n   * If `clType` is not provided, it defaults to `CLTypeAny`. If `inner` is not `null`,\n   * its type is used instead of `clType`.\n   *\n   * @param inner - The `CLValue` to be wrapped in the option. Pass `null` if no value is present.\n   * @param clType - (Optional) The `CLType` representing the type of the value contained in the option.\n   *                 This is required if `inner` is `null` to properly define the option type.\n   *\n   * @returns A new `CLValue` instance containing:\n   * - A `CLTypeOption` representing the type of the optional value.\n   * - A `CLValueOption` that holds the inner value or `null`.\n   *\n   * @example\n   * ```typescript\n   * // Example of an option containing a value\n   * const innerValue = CLValue.fromU32(42);\n   * const optionValue = CLValue.newCLOption(innerValue);\n   *\n   * // Example of an empty option with an explicitly defined type\n   * const emptyOptionValue = CLValue.newCLOption(null, CLType.U32);\n   *\n   * // Example of an empty option with no type provided (defaults to CLTypeAny)\n   * const emptyOptionValueDefault = CLValue.newCLOption(null);\n   * ```\n   */\n  public static newCLOption(inner: CLValue | null, clType?: CLType): CLValue {\n    const clTypeForOption = inner === null ? clType || CLTypeAny : inner.type;\n    const optionType = new CLTypeOption(clTypeForOption);\n    const clValue = new CLValue(optionType);\n    clValue.option = new CLValueOption(inner, optionType);\n    return clValue;\n  }\n\n  /**\n   * Creates a new CLValue instance with a Result value.\n   * @param innerOk - The CLType for the success case.\n   * @param innerErr - The CLType for the error case.\n   * @param value - The CLValue to be contained in the Result.\n   * @param isSuccess - A boolean indicating whether the Result is a success (true) or an error (false).\n   * @returns A new CLValue instance containing CLTypeResult and a CLValueResult.\n   */\n  public static newCLResult(\n    innerOk: CLType,\n    innerErr: CLType,\n    value: CLValue,\n    isSuccess: boolean\n  ): CLValue {\n    const resultType = new CLTypeResult(innerOk, innerErr);\n    const clValue = new CLValue(resultType);\n    clValue.result = new CLValueResult(resultType, isSuccess, value);\n    return clValue;\n  }\n\n  /**\n   * Creates a new CLValue instance with a string value.\n   * @param val - The string value to be represented.\n   * @returns A new CLValue instance containing CLTypeString and a CLValueString.\n   */\n  public static newCLString(val: string): CLValue {\n    const res = new CLValue(CLTypeString);\n    res.stringVal = new CLValueString(val);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance with a Tuple1 value.\n   * @param val - The CLValue to be contained in the tuple.\n   * @returns A new CLValue instance containing CLTypeTuple1 and a CLValueTuple1.\n   */\n  public static newCLTuple1(val: CLValue): CLValue {\n    const tupleType = new CLTypeTuple1(val.type);\n    const clValue = new CLValue(tupleType);\n    clValue.tuple1 = new CLValueTuple1(tupleType, val);\n    return clValue;\n  }\n\n  /**\n   * Creates a new CLValue instance with a Tuple2 value.\n   * @param val1 - The first CLValue in the tuple.\n   * @param val2 - The second CLValue in the tuple.\n   * @returns A new CLValue instance containing CLTypeTuple2 and a CLValueTuple2.\n   */\n  public static newCLTuple2(val1: CLValue, val2: CLValue): CLValue {\n    const tupleType = new CLTypeTuple2(val1.type, val2.type);\n    const clValue = new CLValue(tupleType);\n    clValue.tuple2 = new CLValueTuple2(tupleType, val1, val2);\n    return clValue;\n  }\n\n  /**\n   * Creates a new CLValue instance with a Tuple3 value.\n   * @param val1 - The first CLValue in the tuple.\n   * @param val2 - The second CLValue in the tuple.\n   * @param val3 - The third CLValue in the tuple.\n   * @returns A new CLValue instance containing CLTypeTuple3 and a CLValueTuple3.\n   */\n  public static newCLTuple3(\n    val1: CLValue,\n    val2: CLValue,\n    val3: CLValue\n  ): CLValue {\n    const tupleType = new CLTypeTuple3(val1.type, val2.type, val3.type);\n    const clValue = new CLValue(tupleType);\n    clValue.tuple3 = new CLValueTuple3(tupleType, val1, val2, val3);\n    return clValue;\n  }\n\n  /**\n   * Creates a new CLValue instance with a Unit value.\n   *\n   * @returns A new CLValue instance with CLTypeUnit and a CLValueUnit.\n   */\n  public static newCLUnit(): CLValue {\n    const res = new CLValue(CLTypeUnit);\n    res.unit = new CLValueUnit();\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance with an Int32 value.\n   * @param val - The 32-bit integer to be encapsulated in a CLValue.\n   * @returns A new CLValue instance containing CLTypeInt32 and a CLValueInt32.\n   */\n  public static newCLInt32(val: BigNumberish): CLValue {\n    const res = new CLValue(CLTypeInt32);\n    res.i32 = new CLValueInt32(val);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance with an Int64 value.\n   * @param val - The value to be stored in the Int64. Accepts any BigNumberish type.\n   * @returns A new CLValue instance containing CLTypeInt64 and a CLValueInt64.\n   */\n  public static newCLInt64(val: BigNumberish): CLValue {\n    const res = new CLValue(CLTypeInt64);\n    res.i64 = new CLValueInt64(val);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance with a UInt8 value.\n   * @param value - The value to initialize the UInt8 with. Must be an integer between 0 and 255.\n   * @returns A new CLValue instance containing CLTypeUInt8 and a CLValueUInt8.\n   */\n  public static newCLUint8(value: BigNumberish): CLValue {\n    const res = new CLValue(CLTypeUInt8);\n    res.ui8 = new CLValueUInt8(value);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance with a UInt32 value.\n   * @param value - The value to initialize the UInt32 with.\n   * @returns A new CLValue instance containing CLTypeUInt32 and a CLValueUInt32.\n   */\n  public static newCLUInt32(value: BigNumberish): CLValue {\n    const res = new CLValue(CLTypeUInt32);\n    res.ui32 = new CLValueUInt32(value);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance with a UInt64 value.\n   * @param val - The value to initialize the UInt64 with. Can be any BigNumberish type.\n   * @returns A new CLValue instance containing CLTypeUInt64 and a CLValueUInt64.\n   */\n  public static newCLUint64(val: BigNumberish): CLValue {\n    const res = new CLValue(CLTypeUInt64);\n    res.ui64 = new CLValueUInt64(val);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance with a UInt128 value.\n   * @param value - The value to initialize the UInt128 with.\n   * @returns A new CLValue instance containing CLTypeUInt128 and a CLValueUInt128.\n   */\n  public static newCLUInt128(value: BigNumberish): CLValue {\n    const res = new CLValue(CLTypeUInt128);\n    res.ui128 = new CLValueUInt128(value);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance with a UInt256 value.\n   * @param value - The value to initialize the UInt256 with.\n   * @returns A new CLValue instance containing CLTypeUInt256 and a CLValueUInt256.\n   */\n  public static newCLUInt256(value: BigNumberish): CLValue {\n    const res = new CLValue(CLTypeUInt256);\n    res.ui256 = new CLValueUInt256(value);\n    return res;\n  }\n\n  /**\n   * Creates a new CLValue instance with a UInt512 value.\n   * @param value - The value to initialize the UInt512 with.\n   * @returns A new CLValue instance containing CLTypeUInt512 and a CLValueUInt512.\n   */\n  public static newCLUInt512(value: BigNumberish): CLValue {\n    const res = new CLValue(CLTypeUInt512);\n    res.ui512 = new CLValueUInt512(value);\n    return res;\n  }\n}\n","import { concat } from '@ethersproject/bytes';\n\nimport { CLTypeList, TypeID } from './cltype';\nimport { CLValue, IResultWithBytes } from './CLValue';\nimport { CLValueUInt32 } from './Numeric';\nimport { CLValueParser } from './Parser';\nimport { toBytesU32 } from '../ByteConverters';\n\n/**\n * Represents a List value in the Casper type system.\n * This class provides methods to manage and manipulate lists of CLValues.\n */\nexport class CLValueList {\n  /**\n   * The type of the list elements.\n   */\n  public type: CLTypeList;\n\n  /**\n   * The elements contained in the list.\n   */\n  public elements: CLValue[];\n\n  /**\n   * Initializes a new instance of the CLValueList class.\n   * @param type - The CLTypeList representing the type of the list.\n   * @param elements - Optional array of CLValues to initialize the list with.\n   */\n  constructor(type: CLTypeList, elements: CLValue[] = []) {\n    this.type = type;\n    this.elements = elements;\n  }\n\n  /**\n   * Converts the list to its byte representation, including the length and each element's bytes.\n   * @returns A Uint8Array representing the bytes of the list.\n   */\n  public bytes(): Uint8Array {\n    const valueByteList = this.elements.map(e => e.bytes());\n    this?.type?.elementsType?.getTypeID() !== TypeID.Any &&\n      valueByteList.splice(0, 0, toBytesU32(this.size()));\n    return concat(valueByteList);\n  }\n\n  /**\n   * Provides a string representation of the list.\n   * @returns A string in the format \"[elem1, elem2, ...]\".\n   */\n  public toString(): string {\n    const strData = this.elements.map(one => `\"${one.toString()}\"`);\n    return `[${strData.join(',')}]`;\n  }\n\n  /**\n   * Checks if the list is empty.\n   * @returns true if the list is empty, false otherwise.\n   */\n  public isEmpty(): boolean {\n    return this.size() === 0;\n  }\n\n  /**\n   * Appends a new element to the list.\n   * @param value - The CLValue to append to the list.\n   */\n  public append(value: CLValue): void {\n    this.elements.push(value);\n  }\n\n  /**\n   * Removes an element from the list at the specified index.\n   * @param index - The index of the element to remove.\n   */\n  public remove(index: number): void {\n    this.elements.splice(index, 1);\n  }\n\n  /**\n   * Removes and returns the last element from the list.\n   * @returns The last element of the list, or undefined if the list is empty.\n   */\n  public pop(): CLValue | undefined {\n    return this.elements.pop();\n  }\n\n  /**\n   * Returns the number of elements in the list.\n   * @returns The number of elements in the list.\n   */\n  public size(): number {\n    return this.elements.length;\n  }\n\n  /**\n   * Sets the element at the specified index.\n   * @param index - The index at which to set the element.\n   * @param item - The CLValue to set at the specified index.\n   * @throws Error if the index is out of bounds.\n   */\n  public set(index: number, item: CLValue): void {\n    if (index >= this.elements.length) {\n      throw new Error('List index out of bounds.');\n    }\n    this.elements[index] = item;\n  }\n\n  /**\n   * Gets the element at the specified index.\n   * @param index - The index of the element to get.\n   * @returns The CLValue at the specified index.\n   * @throws Error if the index is out of bounds.\n   */\n  public get(index: number): CLValue {\n    if (index >= this.elements.length) {\n      throw new Error('List index out of bounds.');\n    }\n    return this.elements[index];\n  }\n\n  /**\n   * Converts the list to a JSON-compatible representation.\n   * @returns An array of string representations of the list elements.\n   */\n  public toJSON(): string[] {\n    return this.elements.map(d => d.toJSON());\n  }\n\n  /**\n   * Creates a CLValueList instance from a Uint8Array.\n   * Parses the byte array to interpret the length of the list and each element in the list.\n   * @param source - The Uint8Array containing the byte representation of the List value.\n   * @param clType - The CLTypeList representing the type of the list.\n   * @returns An object containing the new CLValueList instance and any remaining bytes.\n   */\n  public static fromBytes(\n    source: Uint8Array,\n    clType: CLTypeList\n  ): IResultWithBytes<CLValueList> {\n    const { result: u32, bytes: u32Bytes } = CLValueUInt32.fromBytes(source);\n    const size = u32.toNumber();\n    let remainder =\n      clType?.elementsType?.getTypeID() === TypeID.Any ? source : u32Bytes;\n    const elements: CLValue[] = [];\n\n    for (let i = 0; i < size; i++) {\n      if (remainder.length) {\n        const {\n          result: inner,\n          bytes: innerBytes\n        } = CLValueParser.fromBytesByType(remainder, clType.elementsType);\n\n        if (!inner) {\n          continue;\n        }\n\n        elements.push(inner);\n        remainder = innerBytes;\n      }\n    }\n\n    if (elements.length === 0) {\n      return { result: new CLValueList(clType, []), bytes: remainder };\n    }\n\n    return { result: new CLValueList(clType, elements), bytes: remainder };\n  }\n}\n","import { concat } from '@ethersproject/bytes';\n\nimport { CLTypeMap } from './cltype';\nimport { CLValue, IResultWithBytes } from './CLValue';\nimport { CLValueTuple2 } from './Tuple2';\nimport { CLValueUInt32 } from './Numeric';\nimport { CLValueParser } from './Parser';\nimport { toBytesU32 } from '../ByteConverters';\n\n/**\n * Represents a Map value in the Casper type system.\n * This class manages key-value pairs, providing efficient access and manipulation.\n */\nexport class CLValueMap {\n  /**\n   * The type of the map.\n   */\n  private type: CLTypeMap;\n\n  /**\n   * The data stored in the map as an array of CLValueTuple2.\n   */\n  private data: CLValueTuple2[];\n\n  /**\n   * An indexed representation of the map data for faster lookups.\n   */\n  private indexedData: Map<string, CLValue> = new Map();\n\n  /**\n   * Initializes a new instance of the CLValueMap class.\n   * @param mapType - The CLTypeMap representing the type of the map.\n   * @param data - Optional array of CLValueTuple2 representing the map entries.\n   * @param indexedData - Optional Map of string keys to CLValues for faster lookups.\n   */\n  constructor(\n    mapType: CLTypeMap,\n    data?: CLValueTuple2[],\n    indexedData?: Map<string, CLValue>\n  ) {\n    this.type = mapType;\n    this.data = data ?? [];\n    this.indexedData = indexedData ?? new Map();\n  }\n\n  /**\n   * Converts the map to its byte representation.\n   * @returns A Uint8Array representing the bytes of the map, including its size and key-value pairs.\n   */\n  bytes(): Uint8Array {\n    const kvBytes = Array.from(this.data).map(element => {\n      const byteKey = element.inner1.bytes();\n      const byteVal = element.inner2.bytes();\n      return concat([byteKey, byteVal]);\n    });\n\n    return concat([toBytesU32(this.data.length), ...kvBytes]);\n  }\n\n  /**\n   * Returns the map as a plain JavaScript object.\n   * @returns A Record with string keys and CLValue values.\n   */\n  public getMap(): Record<string, CLValue> {\n    const result: Record<string, CLValue> = {};\n    this.indexedData.forEach((v, k) => {\n      result[k] = v;\n    });\n    return result;\n  }\n\n  /**\n   * Returns the map data as an array of CLValueTuple2.\n   * @returns An array of CLValueTuple2 representing the map entries.\n   */\n  public getData(): CLValueTuple2[] {\n    return [...this.data];\n  }\n\n  /**\n   * Provides a string representation of the map.\n   * @returns A string representation of the map entries.\n   */\n  public toString(): string {\n    const b: string[] = [];\n    this.indexedData.forEach((value, key) => {\n      b.push(`(${key}=\"${value.toString()}\")`);\n    });\n    return b.join('');\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible map.\n   *\n   * @returns {any} A Map object representing the instance's key-value pairs.\n   *\n   * This method iterates over the `data` property, extracting key-value\n   * pairs from each tuple and storing them in a new Map.\n   */\n  public toJSON(): any {\n    const map = new Map();\n\n    this.data.forEach(tuple2 => {\n      const [k, v] = tuple2.value();\n      map.set(k, v);\n    });\n\n    return map;\n  }\n\n  /**\n   * Finds a value in the map by key.\n   * @param key - The key to search for.\n   * @returns A tuple containing the found value (or undefined) and a boolean indicating if the key was found.\n   */\n  public find(key: string): [CLValue | undefined, boolean] {\n    const value = this.indexedData.get(key);\n    return [value, value !== undefined];\n  }\n\n  /**\n   * Gets a value from the map by key.\n   * @param key - The key to search for.\n   * @returns The found CLValue or undefined if the key doesn't exist.\n   */\n  public get(key: string): CLValue | undefined {\n    return this.indexedData.get(key);\n  }\n\n  /**\n   * Finds any value in the map that matches one of the provided keys.\n   * @param keys - An array of keys to search for.\n   * @returns A tuple containing the first found value (or undefined) and a boolean indicating if any key was found.\n   */\n  public findAny(keys: string[]): [CLValue | undefined, boolean] {\n    for (const key of keys) {\n      const value = this.indexedData.get(key);\n      if (value !== undefined) {\n        return [value, true];\n      }\n    }\n    return [undefined, false];\n  }\n\n  /**\n   * Returns the number of entries in the map.\n   * @returns The number of entries in the map.\n   */\n  public length(): number {\n    return this.indexedData.size;\n  }\n\n  /**\n   * Appends a new key-value pair to the map.\n   * @param key - The key CLValue to append.\n   * @param val - The value CLValue to append.\n   * @returns null if successful, or an Error if the types are invalid or the key already exists.\n   */\n  public append(key: CLValue, val: CLValue): Error | null {\n    if (key.type !== this.type.key) {\n      return new Error('invalid key type');\n    }\n    if (val.type !== this.type.val) {\n      return new Error('invalid value type');\n    }\n\n    const keyString = key.toString();\n    if (this.indexedData.has(keyString)) {\n      return new Error('map key already exists');\n    }\n\n    const tuple = CLValue.newCLTuple2(key, val).tuple2;\n\n    if (!tuple) {\n      return new Error('no tuple');\n    }\n\n    this.data.push(tuple);\n    this.indexedData.set(keyString, val);\n    return null;\n  }\n\n  /**\n   * Creates a CLValueMap instance from a Uint8Array.\n   * Parses the byte array to interpret the size of the map and each key-value pair.\n   * @param bytes - The Uint8Array containing the byte representation of the Map value.\n   * @param mapType - The CLTypeMap representing the type of the map.\n   * @returns An object containing the new CLValueMap instance and any remaining bytes.\n   */\n  public static fromBytes(\n    bytes: Uint8Array,\n    mapType: CLTypeMap\n  ): IResultWithBytes<CLValueMap> {\n    const mapResult = new CLValueMap(mapType);\n\n    const { result: u32, bytes: u32Bytes } = CLValueUInt32.fromBytes(bytes);\n    const size = u32.toNumber();\n    let remainder = u32Bytes;\n\n    if (size === 0) {\n      return { result: mapResult, bytes: remainder };\n    }\n\n    for (let i = 0; i < size; i++) {\n      if (!remainder.length) {\n        continue;\n      }\n\n      try {\n        const keyVal = CLValueParser.fromBytesByType(remainder, mapType.key);\n        remainder = keyVal?.bytes ?? [];\n\n        const valVal = CLValueParser.fromBytesByType(keyVal.bytes, mapType.val);\n        remainder = valVal?.bytes ?? [];\n\n        mapResult.append(keyVal?.result, valVal?.result);\n      } catch {}\n    }\n\n    return { result: mapResult, bytes: remainder };\n  }\n}\n","import { BigNumber, BigNumberish } from '@ethersproject/bignumber';\n\n/**\n * Abstract class representing a numeric value in the Casper type system.\n * Provides common methods and properties for numeric types.\n */\nexport abstract class CLValueNumeric {\n  protected value: BigNumber;\n  protected originalBytes?: Uint8Array;\n\n  /**\n   * The constructor is protected to ensure this class cannot be instantiated directly.\n   * Subclasses can call this constructor using `super`.\n   */\n  protected constructor(value: BigNumberish, originalBytes?: Uint8Array) {\n    this.value = BigNumber.from(value);\n    this.originalBytes = originalBytes;\n  }\n\n  /**\n   * Converts the numeric value to its byte representation.\n   * Must be implemented by subclasses.\n   */\n  public abstract bytes(): Uint8Array;\n\n  /**\n   * Provides a string representation of the numeric value.\n   * @returns The string representation of the value.\n   */\n  public toString(): string {\n    return this.value.toString();\n  }\n\n  /**\n   * Converts the numeric value to a JavaScript number.\n   * @returns The numeric value as a JavaScript number.\n   */\n  public toNumber(): number {\n    return this.value.toNumber();\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible string.\n   * @returns {string} The string representation of the instance.\n   */\n  public toJSON(): string {\n    return this.toString();\n  }\n\n  /**\n   * Retrieves the numeric value.\n   * @returns The numeric representation of the value.\n   */\n  public getValue(): BigNumber {\n    return this.value;\n  }\n}\n","import { BigNumber, BigNumberish } from '@ethersproject/bignumber';\n\nimport { Int32ByteSize } from '../cltype';\nimport { IResultWithBytes } from '../CLValue';\nimport { toBytesI32 } from '../../ByteConverters';\nimport { CLValueNumeric } from './Abstract';\n\n/**\n * Represents a 32-bit signed integer value in the Casper type system.\n * This class provides methods for handling 32-bit integers, including byte conversion and CLValue integration.\n */\nexport class CLValueInt32 extends CLValueNumeric {\n  constructor(value: BigNumberish) {\n    super(value);\n  }\n\n  /**\n   * Converts the Int32 value to its byte representation in little-endian format.\n   * @returns A Uint8Array representing the bytes of the Int32 value.\n   */\n  public bytes(): Uint8Array {\n    return toBytesI32(this.value);\n  }\n\n  /**\n   * Creates a CLValueInt32 instance from a Uint8Array.\n   * Interprets the first 4 bytes of the array as a 32-bit integer in little-endian format.\n   * @param source - The Uint8Array containing the byte representation of the Int32 value.\n   * @returns An object containing the new CLValueInt32 instance and any remaining bytes.\n   * @throws Will throw an error if the source array is smaller than Int32ByteSize.\n   */\n  public static fromBytes(source: Uint8Array): IResultWithBytes<CLValueInt32> {\n    if (source.length < Int32ByteSize) {\n      throw new Error('buffer size is too small');\n    }\n    const i32Bytes = Uint8Array.from(source.subarray(0, 4));\n    const i32 = BigNumber.from(i32Bytes.slice().reverse()).fromTwos(32);\n\n    return { result: new CLValueInt32(i32), bytes: source.subarray(4) };\n  }\n}\n","import { BigNumber, BigNumberish } from '@ethersproject/bignumber';\n\nimport { Int64ByteSize } from '../cltype';\nimport { IResultWithBytes } from '../CLValue';\nimport { toBytesI64 } from '../../ByteConverters';\nimport { CLValueNumeric } from './Abstract';\n\n/**\n * Represents a 64-bit signed integer value in the Casper type system.\n * This class provides methods for handling 64-bit integers, including byte conversion and CLValue integration.\n */\nexport class CLValueInt64 extends CLValueNumeric {\n  constructor(value: BigNumberish) {\n    super(value);\n  }\n\n  /**\n   * Converts the Int64 value to its byte representation in little-endian format.\n   * @returns A Uint8Array representing the bytes of the Int64 value.\n   */\n  public bytes(): Uint8Array {\n    return toBytesI64(this.value);\n  }\n\n  /**\n   * Creates a CLValueInt64 instance from a Uint8Array.\n   * Interprets the first 8 bytes of the array as a 64-bit integer in little-endian format.\n   * @param source - The Uint8Array containing the byte representation of the Int64 value.\n   * @returns An object containing the new CLValueInt64 instance and any remaining bytes.\n   * @throws Will throw an error if the source array is smaller than Int64ByteSize.\n   */\n  public static fromBytes(source: Uint8Array): IResultWithBytes<CLValueInt64> {\n    if (source.length < Int64ByteSize) {\n      throw new Error('buffer size is too small');\n    }\n    const bytes = Uint8Array.from(source.subarray(0, 8));\n    const val = BigNumber.from(bytes.slice().reverse()).fromTwos(64);\n    const resultBytes = source.subarray(8);\n\n    return { result: new CLValueInt64(val), bytes: resultBytes };\n  }\n}\n","import { BigNumberish } from '@ethersproject/bignumber';\n\nimport { fromBytesUInt128 } from '../UintBig';\nimport { IResultWithBytes } from '../CLValue';\nimport { toBytesU128 } from '../../ByteConverters';\nimport { CLValueNumeric } from './Abstract';\nimport { arrayEquals } from '../../../utils';\n\n/**\n * Represents a 128-bit unsigned integer value in the Casper type system.\n */\nexport class CLValueUInt128 extends CLValueNumeric {\n  constructor(value: BigNumberish, originalBytes?: Uint8Array) {\n    super(value, originalBytes);\n  }\n\n  /**\n   * Converts the UInt128 value to its byte representation.\n   * @returns A Uint8Array representing the bytes of the UInt128 value.\n   */\n  public bytes(): Uint8Array {\n    if (\n      this.originalBytes &&\n      arrayEquals(this.originalBytes, Uint8Array.from([1, 0]))\n    ) {\n      return this.originalBytes;\n    }\n\n    return toBytesU128(this.value);\n  }\n\n  /**\n   * Creates a CLValueUInt128 instance from a Uint8Array.\n   * Parses the byte array to retrieve the UInt128 value.\n   * @param source - The Uint8Array containing the byte representation of the UInt128 value.\n   * @returns An object containing the new CLValueUInt128 instance and any remaining bytes.\n   */\n  public static fromBytes(\n    source: Uint8Array\n  ): IResultWithBytes<CLValueUInt128> {\n    return fromBytesUInt128(source);\n  }\n}\n","import { BigNumberish } from '@ethersproject/bignumber';\n\nimport { fromBytesUInt256 } from '../UintBig';\nimport { IResultWithBytes } from '../CLValue';\nimport { toBytesU256 } from '../../ByteConverters';\nimport { CLValueNumeric } from './Abstract';\nimport { arrayEquals } from '../../../utils';\n\n/**\n * Represents a 256-bit unsigned integer value in the Casper type system.\n */\nexport class CLValueUInt256 extends CLValueNumeric {\n  constructor(value: BigNumberish, originalBytes?: Uint8Array) {\n    super(value, originalBytes);\n  }\n\n  /**\n   * Converts the UInt256 value to its byte representation.\n   * @returns A Uint8Array representing the bytes of the UInt256 value.\n   */\n  public bytes(): Uint8Array {\n    if (\n      this.originalBytes &&\n      arrayEquals(this.originalBytes, Uint8Array.from([1, 0]))\n    ) {\n      return this.originalBytes;\n    }\n\n    return toBytesU256(this.value);\n  }\n\n  /**\n   * Creates a CLValueUInt256 instance from a Uint8Array.\n   * Parses the byte array to retrieve the UInt256 value.\n   * @param source - The Uint8Array containing the byte representation of the UInt256 value.\n   * @returns An object containing the new CLValueUInt256 instance and any remaining bytes.\n   */\n  public static fromBytes(\n    source: Uint8Array\n  ): IResultWithBytes<CLValueUInt256> {\n    return fromBytesUInt256(source);\n  }\n}\n","import { BigNumber, BigNumberish } from '@ethersproject/bignumber';\n\nimport { Int32ByteSize } from '../cltype';\nimport { IResultWithBytes } from '../CLValue';\nimport { toBytesU32 } from '../../ByteConverters';\nimport { CLValueNumeric } from './Abstract';\n\n/**\n * Represents a 32-bit unsigned integer value in the Casper type system.\n */\nexport class CLValueUInt32 extends CLValueNumeric {\n  constructor(value: BigNumberish) {\n    super(value);\n  }\n\n  /**\n   * Converts the UInt32 value to its byte representation in little-endian format.\n   * @returns A Uint8Array representing the bytes of the UInt32 value.\n   */\n  public bytes(): Uint8Array {\n    return toBytesU32(this.value);\n  }\n\n  /**\n   * Creates a CLValueUInt32 instance from a Uint8Array.\n   * Parses the byte array to retrieve the UInt32 value.\n   * @param source - The Uint8Array containing the byte representation of the UInt32 value.\n   * @returns An object containing the new CLValueUInt32 instance and any remaining bytes.\n   * @throws Error if the source array is too short for a UInt32 value.\n   */\n  public static fromBytes(source: Uint8Array): IResultWithBytes<CLValueUInt32> {\n    if (source.length < Int32ByteSize) {\n      throw new Error('Buffer size is too small for UInt32');\n    }\n    const u32Bytes = Uint8Array.from(source.subarray(0, 4));\n    const u32 = BigNumber.from(u32Bytes.slice().reverse());\n\n    return { result: new CLValueUInt32(u32), bytes: source.subarray(4) };\n  }\n}\n","import { BigNumber, BigNumberish } from '@ethersproject/bignumber';\n\nimport { fromBytesUInt512 } from '../UintBig';\nimport { IResultWithBytes } from '../CLValue';\nimport { toBytesU512 } from '../../ByteConverters';\nimport { CLValueNumeric } from './Abstract';\nimport { arrayEquals } from '../../../utils';\n\n/**\n * Represents a 512-bit unsigned integer value in the Casper type system.\n */\nexport class CLValueUInt512 extends CLValueNumeric {\n  constructor(value: BigNumberish, originalBytes?: Uint8Array) {\n    super(value, originalBytes);\n  }\n\n  /**\n   * Converts the UInt512 value to its byte representation.\n   * @returns A Uint8Array representing the bytes of the UInt512 value.\n   */\n  public bytes(): Uint8Array {\n    if (\n      this.originalBytes &&\n      arrayEquals(this.originalBytes, Uint8Array.from([1, 0]))\n    ) {\n      return this.originalBytes;\n    }\n\n    return toBytesU512(this.value);\n  }\n\n  /**\n   * Creates a CLValueUInt512 instance from a JSON representation.\n   * @param json - The JSON representation of the UInt512 value. Can be a string or a number.\n   * @returns A new CLValueUInt512 instance.\n   * @throws Will throw an error if the input is not a valid integer or is negative.\n   */\n  public static fromJSON(json: string | number): CLValueUInt512 {\n    const num = BigNumber.from(json);\n\n    if (!num.mod(1).isZero() || num.isNegative()) {\n      throw new Error(`Invalid integer string: ${json}`);\n    }\n\n    return new CLValueUInt512(num);\n  }\n\n  /**\n   * Creates a CLValueUInt512 instance from a Uint8Array.\n   * Parses the byte array to retrieve the UInt512 value.\n   * @param source - The Uint8Array containing the byte representation of the UInt512 value.\n   * @returns An object containing the new CLValueUInt512 instance and any remaining bytes.\n   */\n  public static fromBytes(\n    source: Uint8Array\n  ): IResultWithBytes<CLValueUInt512> {\n    return fromBytesUInt512(source);\n  }\n}\n","import { BigNumber, BigNumberish } from '@ethersproject/bignumber';\n\nimport { Int64ByteSize } from '../cltype';\nimport { IResultWithBytes } from '../CLValue';\nimport { toBytesU64 } from '../../ByteConverters';\nimport { CLValueNumeric } from './Abstract';\n\n/**\n * Represents a 64-bit unsigned integer value in the Casper type system.\n */\nexport class CLValueUInt64 extends CLValueNumeric {\n  constructor(value: BigNumberish) {\n    super(value);\n  }\n\n  /**\n   * Converts the UInt64 value to its byte representation in little-endian format.\n   * @returns A Uint8Array representing the bytes of the UInt64 value.\n   */\n  public bytes(): Uint8Array {\n    return toBytesU64(this.value);\n  }\n\n  /**\n   * Creates a CLValueUInt64 instance from a Uint8Array.\n   * Parses the byte array to retrieve the UInt64 value.\n   * @param source - The Uint8Array containing the byte representation of the UInt64 value.\n   * @returns An object containing the new CLValueUInt64 instance and any remaining bytes.\n   * @throws Error if the source array is smaller than the required size for a UInt64.\n   */\n  public static fromBytes(source: Uint8Array): IResultWithBytes<CLValueUInt64> {\n    if (source.length < Int64ByteSize) {\n      throw new Error('buffer size is too small');\n    }\n    const u64Bytes = Uint8Array.from(source.subarray(0, 8));\n    const u64 = BigNumber.from(u64Bytes.slice().reverse());\n\n    return { result: new CLValueUInt64(u64), bytes: source.subarray(8) };\n  }\n}\n","import { BigNumberish } from '@ethersproject/bignumber';\n\nimport { IResultWithBytes } from '../CLValue';\nimport { toBytesU8 } from '../../ByteConverters';\nimport { CLValueNumeric } from './Abstract';\n\n/**\n * Represents an 8-bit unsigned integer value in the Casper type system.\n */\nexport class CLValueUInt8 extends CLValueNumeric {\n  constructor(value: BigNumberish) {\n    super(value);\n  }\n\n  /**\n   * Converts the UInt8 value to its byte representation.\n   * @returns A Uint8Array containing a single byte representing the UInt8 value.\n   */\n  public bytes(): Uint8Array {\n    return toBytesU8(this.value);\n  }\n\n  /**\n   * Creates a CLValueUInt8 instance from a Uint8Array.\n   * Parses the first byte to retrieve the UInt8 value.\n   * @param source - The Uint8Array containing the byte representation of the UInt8 value.\n   * @returns An object containing the new CLValueUInt8 instance and any remaining bytes.\n   * @throws Error if the source array is empty.\n   */\n  public static fromBytes(source: Uint8Array): IResultWithBytes<CLValueUInt8> {\n    if (source.length === 0) {\n      throw new Error('Insufficient buffer length for UInt8');\n    }\n\n    return { result: new CLValueUInt8(source[0]), bytes: source.subarray(1) };\n  }\n}\n","export * from './Uint256';\nexport * from './Uint128';\nexport * from './Uint512';\nexport * from './Uint64';\nexport * from './Uint8';\nexport * from './Uint32';\nexport * from './Int32';\nexport * from './Int64';\n","import { concat } from '@ethersproject/bytes';\n\nimport { CLTypeOption } from './cltype';\nimport { CLValue, IResultWithBytes } from './CLValue';\nimport { CLValueParser } from './Parser';\nimport { CLValueUInt8 } from './Numeric';\n\n/**\n * Represents an optional value in the Casper type system.\n * An option can either contain a value or be empty (null).\n */\nexport class CLValueOption {\n  public type?: CLTypeOption;\n  public inner: CLValue | null;\n\n  /**\n   * Initializes a new instance of the CLValueOption class.\n   * @param inner - The CLValue contained in the option, or null if empty.\n   * @param type - The CLTypeOption representing the type of the option.\n   */\n  constructor(inner: CLValue | null, type?: CLTypeOption) {\n    this.type = type;\n    this.inner = inner;\n  }\n\n  /**\n   * Converts the option to its byte representation.\n   * If the option is empty, it returns a Uint8Array with a single 0 byte.\n   * If it contains a value, it returns a Uint8Array with 1 followed by the inner value's bytes.\n   * @returns A Uint8Array representing the bytes of the option.\n   */\n  public bytes(): Uint8Array {\n    if (this.isEmpty()) {\n      return Uint8Array.from([0]);\n    }\n    const innerBytes = this.inner!.bytes();\n    return concat([Uint8Array.from([1]), innerBytes]);\n  }\n\n  /**\n   * Provides a string representation of the option.\n   * @returns An empty string if the option is empty, otherwise the string representation of the inner value.\n   */\n  public toString(): string {\n    return this.isEmpty() ? '' : this.inner!.toString();\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible format.\n   *\n   * @returns {any} The JSON representation of the inner value or `null` if empty.\n   *\n   * If the instance is empty, it returns `null`. Otherwise, it calls `toJSON()`\n   * on the inner value to produce its JSON representation.\n   */\n  public toJSON(): any {\n    return this.isEmpty() ? null : this.inner!.toJSON();\n  }\n\n  /**\n   * Checks if the option is empty.\n   * @returns true if the option is empty, false otherwise.\n   */\n  public isEmpty(): boolean {\n    return this.inner === null;\n  }\n\n  /**\n   * Retrieves the inner value of the option.\n   * @returns The inner CLValue if the option is not empty, or null if it is empty.\n   */\n  public value(): CLValue | null {\n    return this.inner;\n  }\n\n  /**\n   * Creates a CLValueOption instance from a Uint8Array.\n   * Parses the byte array to determine if the option is empty or contains a value.\n   * @param source - The Uint8Array containing the byte representation of the Option value.\n   * @param clType - The CLTypeOption representing the type of the option.\n   * @returns An object containing the new CLValueOption instance and any remaining bytes.\n   */\n  public static fromBytes(\n    source: Uint8Array,\n    clType: CLTypeOption\n  ): IResultWithBytes<CLValueOption> {\n    const { result: u8, bytes: u8Bytes } = CLValueUInt8.fromBytes(source);\n    const optionTag = u8.toNumber();\n\n    if (optionTag === 0) {\n      return { result: new CLValueOption(null, clType), bytes: u8Bytes };\n    }\n\n    const inner = CLValueParser.fromBytesByType(u8Bytes, clType.inner);\n\n    return {\n      result: new CLValueOption(inner.result, clType),\n      bytes: inner.bytes\n    };\n  }\n}\n","import { concat } from '@ethersproject/bytes';\n\nimport { CLValue, IResultWithBytes } from './CLValue';\nimport { Key, URef } from '../key';\nimport { PublicKey } from '../keypair';\nimport {\n  CLType,\n  CLTypeByteArray,\n  CLTypeDynamic,\n  CLTypeList,\n  CLTypeMap,\n  CLTypeOption,\n  CLTypeParser,\n  CLTypeResult,\n  CLTypeTuple1,\n  CLTypeTuple2,\n  CLTypeTuple3,\n  TypeID\n} from './cltype';\nimport {\n  CLValueUInt32,\n  CLValueUInt512,\n  CLValueUInt256,\n  CLValueUInt128,\n  CLValueUInt64,\n  CLValueUInt8,\n  CLValueInt32,\n  CLValueInt64\n} from './Numeric';\nimport { CLValueBool } from './Bool';\nimport { CLValueAny } from './Any';\nimport { CLValueUnit } from './Unit';\nimport { CLValueString } from './String';\nimport { CLValueOption } from './Option';\nimport { CLValueList } from './List';\nimport { CLValueByteArray } from './ByteArray';\nimport { CLValueResult } from './Result';\nimport { CLValueMap } from './Map';\nimport { CLValueTuple1 } from './Tuple1';\nimport { CLValueTuple2 } from './Tuple2';\nimport { CLValueTuple3 } from './Tuple3';\nimport { Conversions } from '../Conversions';\nimport { toBytesArrayU8 } from '../ByteConverters';\n\n/**\n * Error thrown when an unsupported CLType is encountered.\n */\nexport const ErrUnsupportedCLType = new Error(\n  'buffer constructor is not found'\n);\n\n/**\n * A utility class for parsing CLValues from various formats, including JSON and byte arrays.\n */\nexport class CLValueParser {\n  /**\n   * Parses a CLValue from a JSON representation.\n   * @param json - The JSON object representing a CLValue.\n   * @returns A CLValue instance parsed from the JSON.\n   */\n  public static fromJSON(json: any): CLValue {\n    const clType = CLTypeParser.fromInterface(json.cl_type);\n\n    const clEntity = CLValueParser.fromBytesByType(\n      Conversions.decodeBase16(json.bytes),\n      clType\n    );\n\n    return clEntity?.result;\n  }\n\n  /**\n   * Converts a CLValue to its JSON representation.\n   * @param value - The CLValue to convert.\n   * @returns An object with 'bytes' and 'cl_type' properties representing the CLValue.\n   */\n  public static toJSON(value: CLValue) {\n    const rawBytes = value.bytes();\n    const bytes = Conversions.encodeBase16(rawBytes);\n    const clType = value.type.toJSON();\n\n    return {\n      bytes,\n      cl_type: clType\n    };\n  }\n\n  /**\n   * Serializes a CLValue to bytes, including its type information.\n   * @param value - The CLValue to serialize.\n   * @returns A Uint8Array containing the serialized CLValue with type information.\n   */\n  static toBytesWithType(value: CLValue): Uint8Array {\n    const clTypeBytes = value.getType().toBytes();\n    const bytes = value.bytes();\n    return concat([toBytesArrayU8(bytes), clTypeBytes]);\n  }\n\n  /**\n   * Parses a CLValue from a Uint8Array given its type.\n   * @param bytes - The Uint8Array containing the serialized CLValue.\n   * @param sourceType - The CLType of the value to parse.\n   * @returns An object containing the parsed CLValue and any remaining bytes.\n   * @throws {ErrUnsupportedCLType} If an unsupported CLType is encountered.\n   */\n  public static fromBytesByType(\n    bytes: Uint8Array,\n    sourceType: CLType\n  ): IResultWithBytes<CLValue> {\n    const result = new CLValue(sourceType);\n\n    if (sourceType instanceof CLTypeDynamic) {\n      const clType = CLTypeParser.matchBytesToCLType(bytes);\n      result.type = new CLTypeDynamic(clType.result.getTypeID(), clType.result);\n      return { result, bytes: clType.bytes };\n    }\n\n    const typeID = sourceType.getTypeID();\n\n    switch (typeID) {\n      case TypeID.Bool:\n        const boolValue = CLValueBool.fromBytes(bytes);\n        result.bool = boolValue?.result;\n        return { result, bytes: boolValue.bytes };\n      case TypeID.I32:\n        const i32 = CLValueInt32.fromBytes(bytes);\n        result.i32 = i32.result;\n        return { result, bytes: i32?.bytes };\n      case TypeID.I64:\n        const i64 = CLValueInt64.fromBytes(bytes);\n        result.i64 = i64?.result;\n        return { result, bytes: i64?.bytes };\n      case TypeID.U8:\n        const u8 = CLValueUInt8.fromBytes(bytes);\n        result.ui8 = u8?.result;\n        return { result, bytes: u8?.bytes };\n      case TypeID.U32:\n        const u32 = CLValueUInt32.fromBytes(bytes);\n        result.ui32 = u32?.result;\n        return { result, bytes: u32?.bytes };\n      case TypeID.U64:\n        const u64 = CLValueUInt64.fromBytes(bytes);\n        result.ui64 = u64?.result;\n        return { result, bytes: u64?.bytes };\n      case TypeID.U128:\n        const u128 = CLValueUInt128.fromBytes(bytes);\n        result.ui128 = u128?.result;\n        return { result, bytes: u128?.bytes };\n      case TypeID.U256:\n        const u256 = CLValueUInt256.fromBytes(bytes);\n        result.ui256 = u256?.result;\n        return { result, bytes: u256?.bytes };\n      case TypeID.U512:\n        const u512 = CLValueUInt512.fromBytes(bytes);\n        result.ui512 = u512?.result;\n        return { result, bytes: u512?.bytes };\n      case TypeID.String:\n        const stringValue = CLValueString.fromBytes(bytes);\n        result.stringVal = stringValue.result;\n        return { result, bytes: stringValue?.bytes };\n      case TypeID.Unit:\n        const unit = CLValueUnit.fromBytes(bytes);\n        result.unit = unit?.result;\n        return { result, bytes: unit?.bytes };\n      case TypeID.Key:\n        const key = Key.fromBytes(bytes);\n        result.key = key?.result;\n        return { result, bytes: key?.bytes };\n      case TypeID.URef:\n        const uref = URef.fromBytes(bytes);\n        result.uref = uref?.result;\n        return { result, bytes: uref?.bytes };\n      case TypeID.Any:\n        const anyType = new CLValueAny(bytes);\n        result.any = anyType;\n        return { result, bytes: new Uint8Array([]) };\n      case TypeID.PublicKey:\n        const pubKey = PublicKey.fromBytes(bytes);\n        result.publicKey = pubKey?.result;\n        return { result, bytes: pubKey?.bytes };\n      case TypeID.Option:\n        const optionType = CLValueOption.fromBytes(\n          bytes,\n          sourceType as CLTypeOption\n        );\n        result.option = optionType?.result;\n        return { result, bytes: optionType?.bytes };\n      case TypeID.List:\n        const listType = CLValueList.fromBytes(bytes, sourceType as CLTypeList);\n        result.list = listType?.result;\n        return { result, bytes: listType?.bytes };\n      case TypeID.ByteArray:\n        const byteArrayType = CLValueByteArray.fromBytes(\n          bytes,\n          sourceType as CLTypeByteArray\n        );\n        result.byteArray = byteArrayType?.result;\n        return { result, bytes: byteArrayType?.bytes };\n      case TypeID.Result:\n        const resultType = CLValueResult.fromBytes(\n          bytes,\n          sourceType as CLTypeResult\n        );\n        result.result = resultType?.result;\n        return { result, bytes: resultType?.bytes };\n      case TypeID.Map:\n        const mapType = CLValueMap.fromBytes(bytes, sourceType as CLTypeMap);\n        result.map = mapType?.result;\n        return { result, bytes: mapType?.bytes };\n      case TypeID.Tuple1:\n        const tuple1 = CLValueTuple1.fromBytes(\n          bytes,\n          sourceType as CLTypeTuple1\n        );\n        result.tuple1 = tuple1.result;\n        return { result, bytes: tuple1?.bytes };\n      case TypeID.Tuple2:\n        const tuple2 = CLValueTuple2.fromBytes(\n          bytes,\n          sourceType as CLTypeTuple2\n        );\n        result.tuple2 = tuple2?.result;\n        return { result, bytes: tuple2?.bytes };\n      case TypeID.Tuple3:\n        const tuple3 = CLValueTuple3.fromBytes(\n          bytes,\n          sourceType as CLTypeTuple3\n        );\n        result.tuple3 = tuple3?.result;\n        return { result, bytes: tuple3?.bytes };\n      default:\n        throw ErrUnsupportedCLType;\n    }\n  }\n\n  /**\n   * Parses a `Uint8Array` to extract a `CLValue` with its corresponding type.\n   *\n   * This method takes a byte array and interprets it as a `CLValue` by first extracting\n   * the length of the value, then splitting the bytes into the value's data and its type.\n   *\n   * @param bytes - The byte array to be parsed.\n   * @returns An `IResultWithBytes<CLValue>` containing the parsed `CLValue` and its remaining bytes.\n   * @throws Error - If the length of the value extracted from the bytes is invalid.\n   *\n   * ### Example\n   * ```typescript\n   * const bytes = new Uint8Array([...]); // Provide valid CLValue bytes\n   * const result = CLValueParser.fromBytesWithType(bytes);\n   * console.log(result.result); // Parsed CLValue\n   * ```\n   */\n  public static fromBytesWithType(\n    bytes: Uint8Array\n  ): IResultWithBytes<CLValue> {\n    const u32 = CLValueUInt32.fromBytes(bytes);\n    const length = u32.result.toNumber();\n\n    if (!length) {\n      throw new Error(`Invalid length for bytes: ${length}`);\n    }\n\n    const valueBytes = u32.bytes.subarray(0, length);\n    const typeBytes = u32.bytes.subarray(length);\n    const clType = CLTypeParser.matchBytesToCLType(typeBytes);\n    const clValue = this.fromBytesByType(valueBytes, clType.result);\n\n    // return clType bytes here, since clType bytes are after clValue bytes: [clvalue.bytes, cltype.bytes, remainder...]\n    return { result: clValue.result, bytes: clType.bytes };\n  }\n}\n","import { concat } from '@ethersproject/bytes';\n\nimport { CLTypeResult } from './cltype';\nimport { CLValue, IResultWithBytes } from './CLValue';\nimport { CLValueParser } from './Parser';\nimport { CLValueUInt8 } from './Numeric';\n\n/**\n * Represents a Result type in the Casper type system.\n * A Result can either be a success (Ok) or an error (Err).\n */\nexport class CLValueResult {\n  public type: CLTypeResult;\n  public isSuccess: boolean;\n  public inner: CLValue;\n\n  /**\n   * Initializes a new instance of the CLValueResult class.\n   * @param type - The CLTypeResult representing the type of the Result.\n   * @param isSuccess - A boolean indicating whether the Result is a success (true) or an error (false).\n   * @param inner - The CLValue contained within the Result.\n   */\n  constructor(type: CLTypeResult, isSuccess: boolean, inner: CLValue) {\n    const expectedTypeName = isSuccess\n      ? type.innerOk.getName()\n      : type.innerErr.getName();\n    const actualTypeName = inner.getType().getName();\n\n    if (expectedTypeName !== actualTypeName) {\n      throw new Error(\n        `Inner value's type (${actualTypeName}) does not match the expected type (${expectedTypeName}) for ${\n          isSuccess ? 'Ok' : 'Error'\n        }.`\n      );\n    }\n\n    this.type = type;\n    this.isSuccess = isSuccess;\n    this.inner = inner;\n  }\n\n  /**\n   * Converts the Result to its byte representation.\n   * Includes a success flag byte (1 for success, 0 for error) followed by the bytes of the inner value.\n   * @returns A Uint8Array representing the bytes of the Result.\n   */\n  public bytes(): Uint8Array {\n    const successByte = Uint8Array.from([this.isSuccess ? 1 : 0]);\n    const innerBytes = this.inner.bytes();\n    return concat([successByte, innerBytes]);\n  }\n\n  /**\n   * Provides a string representation of the Result.\n   * @returns A string representation of the Result, either \"Ok(innerValue)\" or \"Err(innerValue)\".\n   */\n  public toString(): string {\n    return this.isSuccess\n      ? `Ok(${this.inner.toString()})`\n      : `Err(${this.inner.toString()})`;\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible format.\n   *\n   * @returns {any} The JSON representation of the inner value.\n   *\n   * Calls `toJSON()` on the inner value to produce its JSON representation.\n   */\n  public toJSON(): any {\n    return this.inner.toJSON();\n  }\n\n  /**\n   * Retrieves the inner CLValue of the Result.\n   * @returns The CLValue contained within the Result.\n   */\n  public value(): CLValue {\n    return this.inner;\n  }\n\n  /**\n   * Creates a CLValueResult instance from a Uint8Array.\n   * Parses the byte array to interpret the success flag and the inner value.\n   * @param source - The Uint8Array containing the byte representation of the Result value.\n   * @param clType - The CLTypeResult representing the type of the Result.\n   * @returns An object containing the new CLValueResult instance and any remaining bytes.\n   */\n  public static fromBytes(\n    source: Uint8Array,\n    clType: CLTypeResult\n  ): IResultWithBytes<CLValueResult> {\n    const { result: u8, bytes: u8Bytes } = CLValueUInt8.fromBytes(source);\n    const resultTag = u8?.toNumber();\n    const isSuccess = resultTag === 1;\n    const innerType = isSuccess ? clType.innerOk : clType.innerErr;\n\n    const inner = CLValueParser.fromBytesByType(u8Bytes, innerType);\n\n    return {\n      result: new CLValueResult(clType, isSuccess, inner?.result),\n      bytes: inner?.bytes\n    };\n  }\n}\n","import { concat } from '@ethersproject/bytes';\n\nimport { IResultWithBytes } from './CLValue';\nimport { CLValueUInt32 } from './Numeric';\nimport { fromBytesString } from '../ByteConverters';\n\n/**\n * Represents a string value in the Casper type system.\n */\nexport class CLValueString {\n  private value: string;\n\n  /**\n   * Initializes a new instance of the CLValueString class.\n   * @param value - The string value to be represented.\n   */\n  constructor(value: string) {\n    this.value = value;\n  }\n\n  /**\n   * Converts the string value to its byte representation.\n   * The result is a Uint8Array containing the length of the string (as a 4-byte prefix) followed by the string's bytes.\n   * @returns A Uint8Array representing the bytes of the string.\n   */\n  public bytes(): Uint8Array {\n    const sizeBytes = this.sizeToBytes(this.value.length);\n    const valueBytes = new TextEncoder().encode(this.value);\n    return concat([sizeBytes, valueBytes]);\n  }\n\n  /**\n   * Converts a size number to its 4-byte Uint8Array representation in little-endian format.\n   * @param size - The size to convert.\n   * @returns A Uint8Array representing the size.\n   */\n  private sizeToBytes(size: number): Uint8Array {\n    const buffer = new ArrayBuffer(4);\n    const view = new DataView(buffer);\n    view.setUint32(0, size, true);\n    return new Uint8Array(buffer);\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible string.\n   *\n   * @returns {string} The string representation of the instance.\n   */\n  public toJSON(): string {\n    return this.toString();\n  }\n\n  /**\n   * Provides the string value.\n   * @returns The string value.\n   */\n  public toString(): string {\n    return this.value;\n  }\n\n  /**\n   * Creates a CLValueString instance from a Uint8Array.\n   * Parses the byte array to retrieve the string value, interpreting the first 4 bytes as the string length.\n   * @param source - The Uint8Array containing the byte representation of the string value.\n   * @returns An object containing the new CLValueString instance and any remaining bytes.\n   */\n  public static fromBytes(source: Uint8Array): IResultWithBytes<CLValueString> {\n    const uint32Value = CLValueUInt32.fromBytes(source);\n    const size = uint32Value?.result?.toNumber();\n    const value = fromBytesString(uint32Value?.bytes?.subarray(0, size));\n\n    return {\n      result: new CLValueString(value),\n      bytes: uint32Value?.bytes?.subarray(size)\n    };\n  }\n}\n","import { CLTypeTuple1 } from './cltype';\nimport { CLValue, IResultWithBytes } from './CLValue';\nimport { CLValueParser } from './Parser';\n\n/**\n * Represents a tuple containing one CLValue in the Casper type system.\n */\nexport class CLValueTuple1 {\n  public innerType: CLTypeTuple1;\n  private innerVal: CLValue;\n\n  /**\n   * Initializes a new instance of the CLValueTuple1 class.\n   * @param innerType - The CLTypeTuple1 representing the type of the tuple.\n   * @param innerVal - The CLValue contained in the tuple.\n   */\n  constructor(innerType: CLTypeTuple1, innerVal: CLValue) {\n    this.innerType = innerType;\n    this.innerVal = innerVal;\n  }\n\n  /**\n   * Converts the tuple to its byte representation.\n   * @returns A Uint8Array representing the bytes of the inner CLValue.\n   */\n  public bytes(): Uint8Array {\n    return this.innerVal.bytes();\n  }\n\n  /**\n   * Provides a string representation of the tuple.\n   * @returns A string representation of the tuple in the format \"(value)\".\n   */\n  public toString(): string {\n    return `(${this.innerVal.toString()})`;\n  }\n\n  /**\n   * Retrieves the value of the tuple.\n   * @returns The CLValue contained in the tuple.\n   */\n  public value(): CLValue {\n    return this.innerVal;\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible array.\n   *\n   * @returns {any} An array containing the JSON representation of the inner value.\n   */\n  public toJSON(): any[] {\n    return [this.innerVal.toJSON()];\n  }\n\n  /**\n   * Creates a CLValueTuple1 instance from a Uint8Array.\n   * Parses the byte array to retrieve the inner value of the tuple.\n   * @param source - The Uint8Array containing the byte representation of the Tuple1 value.\n   * @param clType - The CLTypeTuple1 representing the type of the tuple.\n   * @returns An object containing the new CLValueTuple1 instance and any remaining bytes.\n   */\n  public static fromBytes(\n    source: Uint8Array,\n    clType: CLTypeTuple1\n  ): IResultWithBytes<CLValueTuple1> {\n    const inner = CLValueParser.fromBytesByType(source, clType.inner);\n\n    return {\n      result: new CLValueTuple1(clType, inner?.result),\n      bytes: inner?.bytes\n    };\n  }\n}\n","import { concat } from '@ethersproject/bytes';\n\nimport { CLTypeTuple2 } from './cltype';\nimport { CLValue, IResultWithBytes } from './CLValue';\nimport { CLValueParser } from './Parser';\n\n/**\n * Represents a tuple containing two CLValues in the Casper type system.\n */\nexport class CLValueTuple2 {\n  public innerType: CLTypeTuple2;\n  public inner1: CLValue;\n  public inner2: CLValue;\n\n  /**\n   * Initializes a new instance of the CLValueTuple2 class.\n   * @param innerType - The CLTypeTuple2 representing the type of the tuple.\n   * @param inner1 - The first CLValue in the tuple.\n   * @param inner2 - The second CLValue in the tuple.\n   */\n  constructor(innerType: CLTypeTuple2, inner1: CLValue, inner2: CLValue) {\n    this.innerType = innerType;\n    this.inner1 = inner1;\n    this.inner2 = inner2;\n  }\n\n  /**\n   * Converts the tuple to its byte representation.\n   * @returns A Uint8Array representing the concatenated bytes of both inner CLValues.\n   */\n  public bytes(): Uint8Array {\n    const inner1Bytes = this.inner1.bytes();\n    const inner2Bytes = this.inner2.bytes();\n    return concat([inner1Bytes, inner2Bytes]);\n  }\n\n  /**\n   * Provides a string representation of the tuple.\n   * @returns A string representation of the tuple in the format \"(value1, value2)\".\n   */\n  public toString(): string {\n    return `(${this.inner1.toString()}, ${this.inner2.toString()})`;\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible array.\n   *\n   * @returns {any[]} An array containing the JSON representations of inner1 and inner2.\n   */\n  public toJSON(): any[] {\n    return [this.inner1.toJSON(), this.inner2.toJSON()];\n  }\n\n  /**\n   * Retrieves the values of the tuple as an array.\n   * @returns An array containing the two CLValues of the tuple.\n   */\n  public value(): [CLValue, CLValue] {\n    return [this.inner1, this.inner2];\n  }\n\n  /**\n   * Creates a CLValueTuple2 instance from a Uint8Array.\n   * Parses the byte array to retrieve the two values of the tuple.\n   * @param source - The Uint8Array containing the byte representation of the Tuple2 value.\n   * @param clType - The CLTypeTuple2 representing the type of the tuple.\n   * @returns An object containing the new CLValueTuple2 instance and any remaining bytes.\n   */\n  public static fromBytes(\n    source: Uint8Array,\n    clType: CLTypeTuple2\n  ): IResultWithBytes<CLValueTuple2> {\n    const inner1 = CLValueParser.fromBytesByType(source, clType.inner1);\n    const inner2 = CLValueParser.fromBytesByType(inner1.bytes, clType.inner2);\n\n    return {\n      result: new CLValueTuple2(clType, inner1?.result, inner2?.result),\n      bytes: inner2?.bytes\n    };\n  }\n}\n","import { concat } from '@ethersproject/bytes';\n\nimport { CLTypeTuple3 } from './cltype';\nimport { CLValueParser } from './Parser';\nimport { CLValue, IResultWithBytes } from './CLValue';\n\n/**\n * Represents a tuple containing three CLValues in the Casper type system.\n */\nexport class CLValueTuple3 {\n  public innerType: CLTypeTuple3;\n  public inner1: CLValue;\n  public inner2: CLValue;\n  public inner3: CLValue;\n\n  /**\n   * Initializes a new instance of the CLValueTuple3 class.\n   * @param innerType - The CLType representing the type of the tuple.\n   * @param inner1 - The first CLValue in the tuple.\n   * @param inner2 - The second CLValue in the tuple.\n   * @param inner3 - The third CLValue in the tuple.\n   */\n  constructor(\n    innerType: CLTypeTuple3,\n    inner1: CLValue,\n    inner2: CLValue,\n    inner3: CLValue\n  ) {\n    this.innerType = innerType;\n    this.inner1 = inner1;\n    this.inner2 = inner2;\n    this.inner3 = inner3;\n  }\n\n  /**\n   * Converts the tuple to its byte representation.\n   * @returns A Uint8Array representing the concatenated bytes of all three inner CLValues.\n   */\n  public bytes(): Uint8Array {\n    const inner1Bytes = this.inner1.bytes();\n    const inner2Bytes = this.inner2.bytes();\n    const inner3Bytes = this.inner3.bytes();\n    return concat([inner1Bytes, inner2Bytes, inner3Bytes]);\n  }\n\n  /**\n   * Provides a string representation of the tuple.\n   * @returns A string representation of the tuple in the format \"(value1, value2, value3)\".\n   */\n  public toString(): string {\n    return `(${this.inner1.toString()}, ${this.inner2.toString()}, ${this.inner3.toString()})`;\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible array.\n   *\n   * @returns {any[]} An array containing the JSON representations of inner1, inner2, and inner3.\n   */\n  public toJSON(): any[] {\n    return [this.inner1.toJSON(), this.inner2.toJSON(), this.inner3.toJSON()];\n  }\n\n  /**\n   * Retrieves the values of the tuple as an array.\n   * @returns An array containing the three CLValues of the tuple.\n   */\n  public value(): [CLValue, CLValue, CLValue] {\n    return [this.inner1, this.inner2, this.inner3];\n  }\n\n  /**\n   * Creates a CLValueTuple3 instance from a Uint8Array.\n   * Parses the byte array to retrieve the three values of the tuple.\n   * @param source - The Uint8Array containing the byte representation of the Tuple3 value.\n   * @param clType - The CLTypeTuple3 representing the type of the tuple.\n   * @returns An object containing the new CLValueTuple3 instance and any remaining bytes.\n   */\n  public static fromBytes(\n    source: Uint8Array,\n    clType: CLTypeTuple3\n  ): IResultWithBytes<CLValueTuple3> {\n    const inner1 = CLValueParser.fromBytesByType(source, clType.inner1);\n    const inner2 = CLValueParser.fromBytesByType(inner1.bytes, clType.inner2);\n    const inner3 = CLValueParser.fromBytesByType(inner2.bytes, clType.inner3);\n\n    return {\n      result: new CLValueTuple3(\n        clType,\n        inner1.result,\n        inner2.result,\n        inner3.result\n      ),\n      bytes: inner3.bytes\n    };\n  }\n}\n","import { BigNumber } from '@ethersproject/bignumber';\n\nimport { CLValueUInt128, CLValueUInt256, CLValueUInt512 } from './Numeric';\nimport { IResultWithBytes } from './CLValue';\n\n/**\n * Converts a BigNumber to a Uint8Array with a length prefix.\n *\n * The resulting Uint8Array structure:\n * - The first byte is the length of the BigNumber in bytes.\n * - The remaining bytes represent the BigNumber itself.\n *\n * @param val - The BigNumber to convert.\n * @returns Uint8Array representation of the BigNumber.\n */\nexport const bigToBytes = (val: BigNumber): Uint8Array => {\n  let hex = val.toHexString().slice(2);\n  if (hex.length % 2 !== 0) {\n    hex = '0' + hex;\n  }\n\n  const data = new Uint8Array(hex.length / 2);\n  for (let i = 0; i < hex.length; i += 2) {\n    data[i / 2] = parseInt(hex.slice(i, i + 2), 16);\n  }\n\n  const numberLen = data.length;\n  const result = new Uint8Array(numberLen + 1);\n  result[0] = numberLen;\n  result.set(data, 1);\n\n  return result;\n};\n\n/**\n * Converts an ArrayBuffer with a length prefix to a BigNumber.\n *\n * Expected input structure:\n * - First byte: length of the BigNumber in bytes.\n * - Remaining bytes: BigNumber value.\n *\n * @param buffer - The ArrayBuffer containing the prefixed byte representation.\n * @returns BigNumber reconstructed from the byte representation.\n */\nexport const bigFromBuffer = (buffer: ArrayBuffer): BigNumber => {\n  const view = new DataView(buffer);\n  const size = view.getUint8(0);\n  const data = new Uint8Array(buffer.slice(1, size + 1));\n\n  let hex = '';\n  for (let i = 0; i < data.length; i++) {\n    const byte = data[i];\n    hex += (byte < 16 ? '0' : '') + byte.toString(16);\n  }\n\n  return BigNumber.from('0x' + hex);\n};\n\n/**\n * Helper to parse BigNumber from prefixed bytes with bit size validation.\n *\n * @param rawBytes - Byte array containing the prefixed BigNumber data.\n * @param bitSize - Bit size (e.g., 128, 256, or 512) to validate the BigNumber.\n * @returns An object containing the parsed BigNumber and remaining bytes.\n * @throws Error if the byte length exceeds expected size or data is insufficient.\n */\nconst fromBytesBigIntBase = (\n  rawBytes: Uint8Array,\n  bitSize: number\n): IResultWithBytes<BigNumber> => {\n  if (rawBytes.length < 1) {\n    throw new Error('Early end of stream: no data to parse.');\n  }\n\n  const byteSize = bitSize / 8;\n  const n = rawBytes[0];\n\n  if (n > byteSize) {\n    throw new Error(\n      `Formatting error: byte length ${n} exceeds expected size for ${bitSize}-bit integer.`\n    );\n  }\n\n  if (n + 1 > rawBytes.length) {\n    throw new Error(\n      'Early end of stream: insufficient data for specified byte length.'\n    );\n  }\n\n  const bigIntBytes = n === 0 ? [0] : rawBytes.subarray(1, 1 + n);\n  const uintBytes = rawBytes.subarray(1 + n);\n\n  return {\n    result: BigNumber.from(bigIntBytes.slice().reverse()),\n    bytes: uintBytes,\n    originalBytes: rawBytes\n  };\n};\n\n/**\n * Parses a Uint128 CLValue from prefixed bytes.\n * @param rawBytes - Byte array containing the prefixed Uint128 data.\n * @returns The CLValueUInt128 parsed from the byte data.\n */\nexport const fromBytesUInt128 = (\n  rawBytes: Uint8Array\n): IResultWithBytes<CLValueUInt128> => {\n  const value = fromBytesBigIntBase(rawBytes, 128);\n  return {\n    result: new CLValueUInt128(value?.result, value?.originalBytes),\n    bytes: value?.bytes\n  };\n};\n\n/**\n * Parses a Uint256 CLValue from prefixed bytes.\n * @param rawBytes - Byte array containing the prefixed Uint256 data.\n * @returns The CLValueUInt256 parsed from the byte data.\n */\nexport const fromBytesUInt256 = (\n  rawBytes: Uint8Array\n): IResultWithBytes<CLValueUInt256> => {\n  const value = fromBytesBigIntBase(rawBytes, 256);\n  return {\n    result: new CLValueUInt256(value?.result, value?.originalBytes),\n    bytes: value?.bytes\n  };\n};\n\n/**\n * Parses a Uint512 CLValue from prefixed bytes.\n * @param rawBytes - Byte array containing the prefixed Uint512 data.\n * @returns The CLValueUInt512 parsed from the byte data.\n */\nexport const fromBytesUInt512 = (\n  rawBytes: Uint8Array\n): IResultWithBytes<CLValueUInt512> => {\n  const value = fromBytesBigIntBase(rawBytes, 512);\n  return {\n    result: new CLValueUInt512(value?.result, value?.originalBytes),\n    bytes: value?.bytes\n  };\n};\n","import { IResultWithBytes } from './CLValue';\n\n/**\n * Represents a Unit value in the Casper type system.\n * A Unit value is similar to 'null' or 'void' in other languages.\n */\nexport class CLValueUnit {\n  private obj: null;\n\n  /**\n   * Constructs a new CLValueUnit instance.\n   */\n  constructor() {\n    this.obj = null;\n  }\n\n  /**\n   * Returns the byte representation of the Unit value.\n   * For Unit type, this is always an empty array.\n   *\n   * @returns An empty Uint8Array.\n   */\n  public bytes(): Uint8Array {\n    return Uint8Array.from([]);\n  }\n\n  /**\n   * Returns a string representation of the Unit value.\n   *\n   * @returns The string 'null' to represent the Unit value.\n   */\n  public toString(): string {\n    return 'null'; // Representation for a 'nil' or 'Unit' type\n  }\n\n  /**\n   * Returns the value of the Unit type.\n   *\n   * @returns Always returns null.\n   */\n  public getValue(): null {\n    return this.obj;\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible null value.\n   *\n   * @returns {null} Always returns `null`, representing the absence of a value.\n   */\n  public toJSON(): null {\n    return this.getValue();\n  }\n\n  /**\n   * Creates a CLValueUnit instance from a byte array.\n   *\n   * @param source - The source Uint8Array.\n   * @returns A new CLValueUnit instance.\n   * @throws Will throw an error if the source is not empty.\n   */\n  public static fromBytes(source: Uint8Array): IResultWithBytes<CLValueUnit> {\n    if (source.byteLength > 0) {\n      throw new Error('Byte source for Unit type should be empty');\n    }\n\n    return { result: new CLValueUnit(), bytes: source };\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { CLType, TypeID, TypeName } from './CLType';\nimport { toBytesU32 } from '../../ByteConverters';\n\n/**\n * Represents a fixed-size ByteArray type within the Casper type system.\n * This class allows for defining a ByteArray with a specific size, and includes methods\n * to handle its serialization, string representation, and conversion to JSON format.\n */\nexport class CLTypeByteArray implements CLType {\n  public size: number;\n\n  /**\n   * Initializes a new instance of the CLTypeByteArray class.\n   * @param size - Specifies the fixed size of the byte array.\n   */\n  constructor(size: number) {\n    this.size = size;\n  }\n\n  /**\n   * Converts the CLTypeByteArray instance into a byte representation.\n   * This includes the type ID and the size of the byte array.\n   * @returns A Uint8Array that represents the CLTypeByteArray.\n   */\n  public toBytes(): Uint8Array {\n    return concat([Uint8Array.from([this.getTypeID()]), toBytesU32(this.size)]);\n  }\n\n  /**\n   * Provides a human-readable string representation of the CLTypeByteArray.\n   * @returns A string in the format \"ByteArray: size\".\n   */\n  public toString(): string {\n    return `${this.getName()}: ${this.size}`;\n  }\n\n  /**\n   * Retrieves the unique type identifier (TypeID) for the ByteArray.\n   * @returns TypeID for ByteArray.\n   */\n  public getTypeID(): TypeID {\n    return TypeID.ByteArray;\n  }\n\n  /**\n   * Retrieves the name of this type as defined in the Casper system.\n   * @returns TypeName for ByteArray.\n   */\n  public getName(): TypeName {\n    return TypeName.ByteArray;\n  }\n\n  /**\n   * Gets the fixed size of the byte array.\n   * @returns The size of the byte array.\n   */\n  public getSize(): number {\n    return this.size;\n  }\n\n  /**\n   * Converts the CLTypeByteArray instance to a JSON-compatible representation.\n   * The JSON object contains a single key-value pair, where the key is \"ByteArray\"\n   * and the value is the size of the array.\n   * @returns An object with the ByteArray size.\n   */\n  public toJSON(): { [key: string]: number } {\n    return { [this.getName()]: this.size };\n  }\n\n  /**\n   * Constructs a CLTypeByteArray instance from a JSON representation.\n   * @param source - The JSON input containing the size of the ByteArray.\n   * @returns A new CLTypeByteArray instance.\n   * @throws Will throw an error if the input type is not a number.\n   */\n  public static fromJSON(source: any): CLTypeByteArray {\n    if (typeof source !== 'number') {\n      throw new Error('Invalid JSON parsing to ByteArray type');\n    }\n    return new CLTypeByteArray(source);\n  }\n}\n","/**\n * The byte size of a 32-bit integer.\n */\nexport const Int32ByteSize = 4;\n\n/**\n * The byte size of a 64-bit integer.\n */\nexport const Int64ByteSize = 8;\n\n/**\n * Enumeration of type identifiers used within the Casper type system.\n * Each TypeID uniquely identifies a specific data type.\n */\nexport enum TypeID {\n  Bool,\n  I32,\n  I64,\n  U8,\n  U32,\n  U64,\n  U128,\n  U256,\n  U512,\n  Unit,\n  String,\n  Key,\n  URef,\n  Option,\n  List,\n  ByteArray,\n  Result,\n  Map,\n  Tuple1,\n  Tuple2,\n  Tuple3,\n  Any,\n  PublicKey\n}\n\n/**\n * Type alias for the string representation of a type name.\n */\nexport type TypeName = string;\n\n/**\n * Object containing string constants for each type name in the Casper type system.\n */\nexport const TypeName = {\n  Bool: 'Bool' as TypeName,\n  I32: 'I32' as TypeName,\n  I64: 'I64' as TypeName,\n  U8: 'U8' as TypeName,\n  U32: 'U32' as TypeName,\n  U64: 'U64' as TypeName,\n  U128: 'U128' as TypeName,\n  U256: 'U256' as TypeName,\n  U512: 'U512' as TypeName,\n  Unit: 'Unit' as TypeName,\n  String: 'String' as TypeName,\n  Key: 'Key' as TypeName,\n  URef: 'URef' as TypeName,\n  Option: 'Option' as TypeName,\n  List: 'List' as TypeName,\n  ByteArray: 'ByteArray' as TypeName,\n  Result: 'Result' as TypeName,\n  Map: 'Map' as TypeName,\n  Tuple1: 'Tuple1' as TypeName,\n  Tuple2: 'Tuple2' as TypeName,\n  Tuple3: 'Tuple3' as TypeName,\n  Any: 'Any' as TypeName,\n  PublicKey: 'PublicKey' as TypeName\n};\n\n/**\n * Interface representing a CLType in the Casper type system.\n */\nexport interface CLType {\n  /**\n   * Converts the CLType instance to its byte representation.\n   * @returns A Uint8Array representing the CLType.\n   */\n  toBytes(): Uint8Array;\n\n  /**\n   * Provides a string representation of the CLType.\n   * @returns A string representation of the CLType.\n   */\n  toString(): string;\n\n  /**\n   * Retrieves the type ID of the CLType.\n   * @returns The TypeID associated with the CLType.\n   */\n  getTypeID(): TypeID;\n\n  /**\n   * Retrieves the name of the CLType.\n   * @returns The TypeName associated with the CLType.\n   */\n  getName(): TypeName;\n\n  /**\n   * Converts the CLType instance to a JSON representation.\n   * @returns A JSON-compatible representation of the CLType.\n   */\n  toJSON(): any;\n}\n\n/**\n * Represents a simple data type in the Casper type system.\n */\nexport class SimpleType implements CLType {\n  private readonly typeID: TypeID;\n  private readonly typeName: TypeName;\n\n  /**\n   * Constructs a new instance of the SimpleType class.\n   * @param typeID - The TypeID for the simple type.\n   * @param name - The TypeName for the simple type.\n   */\n  constructor(typeID: TypeID, name: TypeName) {\n    this.typeID = typeID;\n    this.typeName = name;\n  }\n\n  /**\n   * Converts the SimpleType to its byte representation.\n   * @returns A Uint8Array containing a single byte representing the type ID.\n   */\n  toBytes(): Uint8Array {\n    return new Uint8Array([this.typeID]);\n  }\n\n  /**\n   * Provides a string representation of the SimpleType.\n   * @returns The name of the SimpleType.\n   */\n  toString(): string {\n    return this.getName();\n  }\n\n  /**\n   * Retrieves the type ID of the SimpleType.\n   * @returns The TypeID for the SimpleType.\n   */\n  getTypeID(): TypeID {\n    return this.typeID;\n  }\n\n  /**\n   * Retrieves the name of the SimpleType.\n   * @returns The TypeName for the SimpleType.\n   */\n  getName(): TypeName {\n    return this.typeName;\n  }\n\n  /**\n   * Converts the SimpleType instance to a JSON representation.\n   * @returns The name of the SimpleType as a string.\n   */\n  toJSON(): string {\n    return this.getName();\n  }\n}\n\n// Predefined SimpleType instances\n\n/**\n * Represents a Boolean type in the Casper type system.\n */\nexport const CLTypeBool = new SimpleType(TypeID.Bool, TypeName.Bool);\n\n/**\n * Represents a 32-bit signed integer type in the Casper type system.\n */\nexport const CLTypeInt32 = new SimpleType(TypeID.I32, TypeName.I32);\n\n/**\n * Represents a 64-bit signed integer type in the Casper type system.\n */\nexport const CLTypeInt64 = new SimpleType(TypeID.I64, TypeName.I64);\n\n/**\n * Represents an 8-bit unsigned integer type in the Casper type system.\n */\nexport const CLTypeUInt8 = new SimpleType(TypeID.U8, TypeName.U8);\n\n/**\n * Represents a 32-bit unsigned integer type in the Casper type system.\n */\nexport const CLTypeUInt32 = new SimpleType(TypeID.U32, TypeName.U32);\n\n/**\n * Represents a 64-bit unsigned integer type in the Casper type system.\n */\nexport const CLTypeUInt64 = new SimpleType(TypeID.U64, TypeName.U64);\n\n/**\n * Represents a 128-bit unsigned integer type in the Casper type system.\n */\nexport const CLTypeUInt128 = new SimpleType(TypeID.U128, TypeName.U128);\n\n/**\n * Represents a 256-bit unsigned integer type in the Casper type system.\n */\nexport const CLTypeUInt256 = new SimpleType(TypeID.U256, TypeName.U256);\n\n/**\n * Represents a 512-bit unsigned integer type in the Casper type system.\n */\nexport const CLTypeUInt512 = new SimpleType(TypeID.U512, TypeName.U512);\n\n/**\n * Represents a Unit type (similar to void) in the Casper type system.\n */\nexport const CLTypeUnit = new SimpleType(TypeID.Unit, TypeName.Unit);\n\n/**\n * Represents a String type in the Casper type system.\n */\nexport const CLTypeString = new SimpleType(TypeID.String, TypeName.String);\n\n/**\n * Represents a Key type in the Casper type system.\n */\nexport const CLTypeKey = new SimpleType(TypeID.Key, TypeName.Key);\n\n/**\n * Represents a URef (Unforgeable Reference) type in the Casper type system.\n */\nexport const CLTypeUref = new SimpleType(TypeID.URef, TypeName.URef);\n\n/**\n * Represents an Any type in the Casper type system.\n */\nexport const CLTypeAny = new SimpleType(TypeID.Any, TypeName.Any);\n\n/**\n * Represents a PublicKey type in the Casper type system.\n */\nexport const CLTypePublicKey = new SimpleType(\n  TypeID.PublicKey,\n  TypeName.PublicKey\n);\n","import { jsonObject } from 'typedjson';\nimport { CLType } from './CLType';\nimport { CLTypeParser } from './Parser';\n\n/**\n * Represents a raw CLType message that can be parsed into a `CLType` instance.\n * This class utilizes `typedjson` decorators for JSON serialization and deserialization.\n */\n@jsonObject\nexport class CLTypeRaw {\n  /**\n   * The raw message string representation of a CLType.\n   */\n  private rawMessage: CLType;\n\n  /**\n   * Initializes a new instance of the CLTypeRaw class.\n   * @param rawMessage - A string representing the raw CLType message.\n   */\n  constructor(rawMessage: CLType) {\n    this.rawMessage = rawMessage;\n  }\n\n  /**\n   * Parses the raw message into a `CLType` object.\n   * @returns A `CLType` instance if parsing is successful.\n   * @throws Error if parsing fails, with a descriptive error message.\n   */\n  static parseCLType(json: any): CLType | Error {\n    try {\n      return CLTypeParser.fromRawJson(json);\n    } catch (error) {\n      throw new Error(`Error parsing CLType: ${error.message}`);\n    }\n  }\n\n  /**\n   * Parses the raw message into a `CLType` object.\n   * @returns A `CLType` instance if parsing is successful.\n   * @throws Error if parsing fails, with a descriptive error message.\n   */\n  toJSON(): any {\n    return this.rawMessage?.toString() || this?.rawMessage?.toJSON();\n  }\n}\n","import { TypeID, TypeName, CLType } from './CLType';\n\n/**\n * Represents a dynamic CLType in the Casper type system.\n * This class allows for runtime determination of types, enabling dynamic manipulation of CLTypes.\n */\nexport class CLTypeDynamic implements CLType {\n  public typeID: TypeID;\n  public inner: CLType;\n\n  /**\n   * Initializes a new instance of the CLTypeDynamic class.\n   * @param typeID - The TypeID representing the dynamic type.\n   * @param inner - The inner CLType that this dynamic type represents.\n   */\n  constructor(typeID: TypeID, inner: CLType) {\n    this.typeID = typeID;\n    this.inner = inner;\n  }\n\n  /**\n   * Converts the CLTypeDynamic instance to its byte representation.\n   * @returns A Uint8Array representing the bytes of the inner CLType.\n   */\n  public toBytes(): Uint8Array {\n    return this.inner.toBytes();\n  }\n\n  /**\n   * Provides a string representation of the CLTypeDynamic.\n   * @returns A string representing the inner CLType.\n   */\n  public toString(): string {\n    return this.inner.toString();\n  }\n\n  /**\n   * Retrieves the type ID of the CLTypeDynamic.\n   * @returns The TypeID associated with this dynamic type.\n   */\n  public getTypeID(): TypeID {\n    return this.typeID;\n  }\n\n  /**\n   * Retrieves the name of the CLTypeDynamic.\n   * @returns The TypeName of the inner CLType.\n   */\n  public getName(): TypeName {\n    return this.inner.getName();\n  }\n\n  /**\n   * Converts the CLTypeDynamic instance to a JSON-compatible representation.\n   * @returns A JSON representation of the inner CLType.\n   */\n  public toJSON(): any {\n    return this.inner.toJSON();\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { CLType, TypeID, TypeName } from './CLType';\nimport { CLTypeParser } from './Parser';\n\n/**\n * Represents a List type in the Casper type system.\n * This class implements the CLType interface specifically for List types, allowing lists of elements with a specified type.\n */\nexport class CLTypeList implements CLType {\n  /**\n   * The type of elements contained in the list.\n   */\n  public elementsType: CLType;\n\n  /**\n   * Initializes a new instance of the CLTypeList class.\n   * @param elementsType - The CLType of the elements in the list.\n   */\n  constructor(elementsType: CLType) {\n    this.elementsType = elementsType;\n  }\n\n  /**\n   * Converts the CLTypeList instance to its byte representation.\n   * This includes the type ID for List followed by the byte representation of the element type.\n   * @returns A Uint8Array representing the CLTypeList.\n   */\n  public toBytes(): Uint8Array {\n    return concat([\n      Uint8Array.from([this.getTypeID()]),\n      this.elementsType.toBytes()\n    ]);\n  }\n\n  /**\n   * Provides a string representation of the CLTypeList.\n   * @returns A string in the format \"(List of [element type])\".\n   */\n  public toString(): string {\n    return `(${this.getName()} of ${this.elementsType.toString()})`;\n  }\n\n  /**\n   * Retrieves the type ID of the CLTypeList.\n   * @returns The TypeID associated with List.\n   */\n  public getTypeID(): TypeID {\n    return TypeID.List;\n  }\n\n  /**\n   * Retrieves the name of the CLTypeList.\n   * @returns The TypeName for List.\n   */\n  public getName(): TypeName {\n    return TypeName.List;\n  }\n\n  /**\n   * Converts the CLTypeList to a JSON-compatible representation.\n   * The JSON object contains a single key-value pair, where the key is \"List\" and the value is the JSON representation of the element type.\n   * @returns A JSON object representing the list type and its element type.\n   */\n  public toJSON(): { [key: string]: CLType } {\n    return { [this.getName()]: this.elementsType.toJSON() };\n  }\n\n  /**\n   * Creates a CLTypeList instance from a JSON representation.\n   * @param source - The JSON representation of the CLTypeList.\n   * @returns A new CLTypeList instance with the parsed element type.\n   */\n  public static fromJSON(source: any): CLTypeList {\n    const inner = CLTypeParser.fromInterface(source);\n    return new CLTypeList(inner);\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { TypeID, TypeName, CLType } from './CLType';\nimport { CLTypeParser } from './Parser';\n\n/**\n * Error thrown when there's an issue parsing the Map type from JSON.\n */\nexport const MapJsonParsingError = new Error('map type parsing error');\n\n/**\n * Represents a Map type in the Casper type system.\n * This class implements the CLType interface, allowing the use of key-value pairs with specified types.\n */\nexport class CLTypeMap implements CLType {\n  /**\n   * The CLType of the map's keys.\n   */\n  public key: CLType;\n\n  /**\n   * The CLType of the map's values.\n   */\n  public val: CLType;\n\n  /**\n   * Initializes a new instance of the CLTypeMap class.\n   * @param keyType - The CLType of the map's keys.\n   * @param valType - The CLType of the map's values.\n   */\n  constructor(keyType: CLType, valType: CLType) {\n    this.key = keyType;\n    this.val = valType;\n  }\n\n  /**\n   * Converts the CLTypeMap instance to its byte representation.\n   * This includes the type ID for Map followed by the byte representations of the key and value types.\n   * @returns A Uint8Array representing the CLTypeMap.\n   */\n  public toBytes(): Uint8Array {\n    return concat([\n      Uint8Array.from([this.getTypeID()]),\n      this.key.toBytes(),\n      this.val.toBytes()\n    ]);\n  }\n\n  /**\n   * Provides a string representation of the CLTypeMap.\n   * @returns A string in the format \"Map (keyType: valueType)\".\n   */\n  public toString(): string {\n    return `${TypeName.Map} (${this.key.toString()}: ${this.val.toString()})`;\n  }\n\n  /**\n   * Retrieves the type ID of the CLTypeMap.\n   * @returns The TypeID associated with Map.\n   */\n  public getTypeID(): TypeID {\n    return TypeID.Map;\n  }\n\n  /**\n   * Retrieves the name of the CLTypeMap.\n   * @returns The TypeName for Map.\n   */\n  public getName(): TypeName {\n    return TypeName.Map;\n  }\n\n  /**\n   * Converts the CLTypeMap instance to a JSON-compatible representation.\n   * The JSON object includes a \"Map\" key containing the JSON representations of the key and value types.\n   * @returns A JSON object representing the map type and its key and value types.\n   */\n  public toJSON(): { Map: { key: CLType; value: CLType } } {\n    return {\n      Map: {\n        key: this.key.toJSON(),\n        value: this.val.toJSON()\n      }\n    };\n  }\n\n  /**\n   * Creates a CLTypeMap instance from a JSON representation.\n   * Parses JSON input to determine the key and value types of the map.\n   * @param source - The JSON representation of the CLTypeMap.\n   * @returns A new CLTypeMap instance with parsed key and value types.\n   * @throws {MapJsonParsingError} If the JSON structure is invalid.\n   */\n  public static fromJSON(source: any): CLTypeMap {\n    if (typeof source !== 'object' || source === null) {\n      throw MapJsonParsingError;\n    }\n\n    const key = source.key;\n    if (key === undefined) {\n      throw MapJsonParsingError;\n    }\n    const keyType = CLTypeParser.fromInterface(key);\n\n    const val = source.value;\n    if (val === undefined) {\n      throw MapJsonParsingError;\n    }\n    const valType = CLTypeParser.fromInterface(val);\n\n    return new CLTypeMap(keyType, valType);\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { TypeID, TypeName, CLType } from './CLType';\nimport { CLTypeParser } from './Parser';\n\n/**\n * Represents an Option type in the Casper type system.\n * This class implements the CLType interface, allowing for optional values with specified inner types.\n */\nexport class CLTypeOption implements CLType {\n  /**\n   * The inner CLType that this Option may contain.\n   */\n  public inner: CLType;\n\n  /**\n   * Initializes a new instance of the CLTypeOption class.\n   * @param inner - The CLType of the value that this Option can contain.\n   */\n  constructor(inner: CLType) {\n    this.inner = inner;\n  }\n\n  /**\n   * Converts the CLTypeOption instance to its byte representation.\n   * This includes the type ID for Option followed by the byte representation of the inner type.\n   * @returns A Uint8Array representing the CLTypeOption.\n   */\n  public toBytes(): Uint8Array {\n    return concat([Uint8Array.from([this.getTypeID()]), this.inner.toBytes()]);\n  }\n\n  /**\n   * Provides a string representation of the CLTypeOption.\n   * @returns A string in the format \"(Option: innerType)\".\n   */\n  public toString(): string {\n    return `(${this.getName()}: ${this.inner.getName()})`;\n  }\n\n  /**\n   * Retrieves the type ID of the CLTypeOption.\n   * @returns The TypeID associated with Option.\n   */\n  public getTypeID(): TypeID {\n    return TypeID.Option;\n  }\n\n  /**\n   * Retrieves the name of the CLTypeOption.\n   * @returns The TypeName for Option.\n   */\n  public getName(): TypeName {\n    return TypeName.Option;\n  }\n\n  /**\n   * Converts the CLTypeOption instance to a JSON-compatible representation.\n   * The JSON object includes a single key-value pair, where the key is \"Option\" and the value is the JSON representation of the inner type.\n   * @returns A JSON object representing the option type and its inner type.\n   */\n  public toJSON(): { [key: string]: CLType } {\n    return { [this.getName()]: this.inner.toJSON() };\n  }\n\n  /**\n   * Creates a CLTypeOption instance from a JSON representation.\n   * Parses JSON input to determine the inner type of the option.\n   * @param source - The JSON representation of the CLTypeOption.\n   * @returns A new CLTypeOption instance with the parsed inner type.\n   */\n  public static fromJSON(source: any): CLTypeOption {\n    const inner = CLTypeParser.fromInterface(source);\n    return new CLTypeOption(inner);\n  }\n}\n","import {\n  TypeID,\n  TypeName,\n  CLType,\n  CLTypeBool,\n  CLTypeInt32,\n  CLTypeInt64,\n  CLTypeUInt8,\n  CLTypeUInt32,\n  CLTypeUInt64,\n  CLTypeUInt128,\n  CLTypeUInt256,\n  CLTypeUInt512,\n  CLTypeUnit,\n  CLTypeKey,\n  CLTypeUref,\n  CLTypeAny,\n  CLTypePublicKey,\n  CLTypeString\n} from './CLType';\nimport { CLTypeOption } from './Option';\nimport { CLTypeList } from './List';\nimport { CLTypeByteArray } from './ByteArray';\nimport { CLTypeResult } from './Result';\nimport { CLTypeMap } from './Map';\nimport { CLTypeTuple1 } from './Tuple1';\nimport { CLTypeTuple2 } from './Tuple2';\nimport { CLTypeTuple3 } from './Tuple3';\nimport { IResultWithBytes } from '../CLValue';\nimport { CLValueUInt32 } from '../Numeric';\n\n/**\n * A utility class for parsing various CLTypes from different formats, such as JSON, strings, and bytes.\n * This class includes static methods for handling both simple and complex types, along with error handling for unsupported or unrecognized formats.\n */\nexport class CLTypeParser {\n  /**\n   * Error thrown when a buffer constructor is not detected.\n   */\n  static readonly BufferConstructorNotDetectedError = new Error(\n    'buffer constructor not detected'\n  );\n\n  /**\n   * Error thrown when a complex type format is invalid.\n   */\n  static readonly ComplexTypeFormatInvalidError = new Error(\n    'complex type format is invalid'\n  );\n\n  /**\n   * Error thrown when a complex type format is not detected.\n   */\n  static readonly ErrComplexTypeFormatNotDetected = new Error(\n    'complex type format is not detected'\n  );\n\n  /**\n   * Error thrown when a JSON constructor is not found.\n   */\n  static readonly ErrJsonConstructorNotFound = new Error(\n    'json type constructor is not found'\n  );\n\n  /**\n   * A record of simple CLTypes indexed by their TypeName.\n   */\n  static readonly simpleTypeByName: Record<TypeName, CLType> = {\n    [TypeName.Bool]: CLTypeBool,\n    [TypeName.I32]: CLTypeInt32,\n    [TypeName.I64]: CLTypeInt64,\n    [TypeName.U8]: CLTypeUInt8,\n    [TypeName.U32]: CLTypeUInt32,\n    [TypeName.U64]: CLTypeUInt64,\n    [TypeName.U128]: CLTypeUInt128,\n    [TypeName.U256]: CLTypeUInt256,\n    [TypeName.U512]: CLTypeUInt512,\n    [TypeName.Unit]: CLTypeUnit,\n    [TypeName.String]: CLTypeString,\n    [TypeName.Key]: CLTypeKey,\n    [TypeName.URef]: CLTypeUref,\n    [TypeName.Any]: CLTypeAny,\n    [TypeName.PublicKey]: CLTypePublicKey\n  };\n\n  /**\n   * A record of simple CLTypes indexed by their TypeID.\n   */\n  static readonly simpleTypeByID: { [key in TypeID]?: CLType } = {\n    [TypeID.Bool]: CLTypeBool,\n    [TypeID.I32]: CLTypeInt32,\n    [TypeID.I64]: CLTypeInt64,\n    [TypeID.U8]: CLTypeUInt8,\n    [TypeID.U32]: CLTypeUInt32,\n    [TypeID.U64]: CLTypeUInt64,\n    [TypeID.U128]: CLTypeUInt128,\n    [TypeID.U256]: CLTypeUInt256,\n    [TypeID.U512]: CLTypeUInt512,\n    [TypeID.Unit]: CLTypeUnit,\n    [TypeID.String]: CLTypeString,\n    [TypeID.Key]: CLTypeKey,\n    [TypeID.URef]: CLTypeUref,\n    [TypeID.Any]: CLTypeAny,\n    [TypeID.PublicKey]: CLTypePublicKey\n  };\n\n  /**\n   * Retrieves a simple CLType by its TypeName.\n   * @param typeName - The TypeName of the CLType to retrieve.\n   * @returns The corresponding CLType.\n   * @throws Error if the type name is not registered.\n   */\n  static getSimpleTypeByName(typeName: TypeName): CLType {\n    const result = CLTypeParser.simpleTypeByName[typeName];\n    if (!result) {\n      throw new Error(`type name is not registered, source: ${typeName}`);\n    }\n    return result;\n  }\n\n  /**\n   * Parses a CLType from a raw JSON string.\n   * @param source - The raw JSON string to parse.\n   * @returns The parsed CLType.\n   */\n  static fromRawJson(source: any): CLType {\n    try {\n      return CLTypeParser.fromInterface(source);\n    } catch (err) {\n      return CLTypeParser.getSimpleTypeByName(source as TypeName);\n    }\n  }\n\n  /**\n   * Parses a CLType from a Uint8Array.\n   * @param bytes - The Uint8Array to parse.\n   * @returns An object containing the parsed CLType and the remaining bytes.\n   * @throws BufferConstructorNotDetectedError if the type is not recognized.\n   */\n  static matchBytesToCLType(bytes: Uint8Array): IResultWithBytes<CLType> {\n    const tag = bytes[0];\n    const remainder = bytes.subarray(1);\n\n    switch (tag) {\n      case TypeID.Bool:\n      case TypeID.I32:\n      case TypeID.I64:\n      case TypeID.U8:\n      case TypeID.U32:\n      case TypeID.U64:\n      case TypeID.U128:\n      case TypeID.U256:\n      case TypeID.U512:\n      case TypeID.Unit:\n      case TypeID.String:\n      case TypeID.Key:\n      case TypeID.URef:\n      case TypeID.Any:\n      case TypeID.PublicKey:\n        return {\n          result: CLTypeParser.simpleTypeByID[tag]!,\n          bytes: remainder\n        };\n      case TypeID.Option:\n        const {\n          result: optionInner,\n          bytes: optionBytes\n        } = CLTypeParser.matchBytesToCLType(remainder);\n        return { result: new CLTypeOption(optionInner), bytes: optionBytes };\n      case TypeID.List:\n        const {\n          result: listInner,\n          bytes: listBytes\n        } = CLTypeParser.matchBytesToCLType(remainder);\n        return { result: new CLTypeList(listInner), bytes: listBytes };\n      case TypeID.ByteArray:\n        const {\n          result: byteArraySize,\n          bytes: byteArrayBytes\n        } = CLValueUInt32.fromBytes(remainder);\n        return {\n          result: new CLTypeByteArray(byteArraySize.toNumber()),\n          bytes: byteArrayBytes\n        };\n      case TypeID.Result:\n        const {\n          result: innerOk,\n          bytes: resultBytes\n        } = CLTypeParser.matchBytesToCLType(remainder);\n\n        if (!resultBytes) {\n          throw new Error('Missing Error type bytes in Result');\n        }\n\n        const {\n          result: innerErr,\n          bytes: errBytes\n        } = CLTypeParser.matchBytesToCLType(resultBytes);\n        return { result: new CLTypeResult(innerOk, innerErr), bytes: errBytes };\n      case TypeID.Map:\n        const {\n          result: key,\n          bytes: keyBytes\n        } = CLTypeParser.matchBytesToCLType(remainder);\n\n        if (!keyBytes) {\n          throw new Error('Missing Key type bytes in Map');\n        }\n\n        const {\n          result: val,\n          bytes: valBytes\n        } = CLTypeParser.matchBytesToCLType(keyBytes);\n        return { result: new CLTypeMap(key, val), bytes: valBytes };\n      case TypeID.Tuple1:\n        const {\n          result: innerTypeRes,\n          bytes: tuple1Bytes\n        } = CLTypeParser.matchBytesToCLType(remainder);\n        return { result: new CLTypeTuple1(innerTypeRes), bytes: tuple1Bytes };\n      case TypeID.Tuple2:\n        const {\n          result: innerType1Res,\n          bytes: innerType1Bytes\n        } = CLTypeParser.matchBytesToCLType(remainder);\n\n        if (!innerType1Bytes) {\n          throw new Error('Missing second tuple type bytes in CLTuple2Type');\n        }\n\n        const {\n          result: innerType2Res,\n          bytes: innerType2Bytes\n        } = CLTypeParser.matchBytesToCLType(innerType1Bytes);\n        return {\n          result: new CLTypeTuple2(innerType1Res, innerType2Res),\n          bytes: innerType2Bytes\n        };\n      case TypeID.Tuple3:\n        const {\n          result: innerType1,\n          bytes: innerType1Byte\n        } = CLTypeParser.matchBytesToCLType(remainder);\n\n        if (!innerType1Byte) {\n          throw new Error('Missing second tuple type bytes in CLTuple3Type');\n        }\n\n        const {\n          result: innerType2,\n          bytes: innerType2Byte\n        } = CLTypeParser.matchBytesToCLType(innerType1Byte);\n\n        if (!innerType2Byte) {\n          throw new Error('Missing third tuple type bytes in CLTuple3Type');\n        }\n\n        const {\n          result: innerType3,\n          bytes: innerType3Byte\n        } = CLTypeParser.matchBytesToCLType(innerType2Byte);\n        return {\n          result: new CLTypeTuple3(innerType1, innerType2, innerType3),\n          bytes: innerType3Byte\n        };\n      default:\n        throw CLTypeParser.BufferConstructorNotDetectedError;\n    }\n  }\n\n  /**\n   * Parses a CLType from an interface (object or string).\n   * @param rawData - The data to parse.\n   * @returns The parsed CLType.\n   */\n  static fromInterface(rawData: any): CLType {\n    if (typeof rawData === 'string') {\n      return CLTypeParser.getSimpleTypeByName(rawData as TypeName);\n    }\n    return CLTypeParser.fromComplexStruct(rawData);\n  }\n\n  /**\n   * Parses a CLType from a complex structure.\n   * @param rawData - The complex structure to parse.\n   * @returns The parsed CLType.\n   * @throws Various errors if the structure is invalid or unrecognized.\n   */\n  private static fromComplexStruct(rawData: any): CLType {\n    if (typeof rawData === 'object' && rawData !== null) {\n      const keys = Object.keys(rawData);\n      if (keys.length > 1) {\n        throw CLTypeParser.ComplexTypeFormatInvalidError;\n      }\n      const key = keys[0];\n      const val = rawData[key];\n      switch (key) {\n        case TypeName.Option:\n          return CLTypeOption.fromJSON(val);\n        case TypeName.List:\n          return CLTypeList.fromJSON(val);\n        case TypeName.ByteArray:\n          return CLTypeByteArray.fromJSON(val);\n        case TypeName.Result:\n          return CLTypeResult.fromJSON(val);\n        case TypeName.Map:\n          return CLTypeMap.fromJSON(val);\n        case TypeName.Tuple1:\n          return CLTypeTuple1.fromJSON(val);\n        case TypeName.Tuple2:\n          return CLTypeTuple2.fromJSON(val);\n        case TypeName.Tuple3:\n          return CLTypeTuple3.fromJSON(val);\n        default:\n          throw CLTypeParser.ErrJsonConstructorNotFound;\n      }\n    }\n    throw CLTypeParser.ErrComplexTypeFormatNotDetected;\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { TypeID, TypeName, CLType } from './CLType';\nimport { CLTypeParser } from './Parser';\n\n/**\n * Error thrown when the JSON format for a Result type is invalid.\n */\nexport const ErrInvalidResultJsonFormat = new Error(\n  'invalid json format for Result type'\n);\n\n/**\n * Represents a Result type in the Casper type system.\n * This class implements the CLType interface, allowing for Result types with defined Ok and Err types.\n */\nexport class CLTypeResult implements CLType {\n  /**\n   * The CLType of the Ok value in the Result.\n   */\n  innerOk: CLType;\n\n  /**\n   * The CLType of the Err value in the Result.\n   */\n  innerErr: CLType;\n\n  /**\n   * Initializes a new instance of the CLTypeResult class.\n   * @param innerOk - The CLType of the Ok value.\n   * @param innerErr - The CLType of the Err value.\n   */\n  constructor(innerOk: CLType, innerErr: CLType) {\n    this.innerOk = innerOk;\n    this.innerErr = innerErr;\n  }\n\n  /**\n   * Converts the CLTypeResult instance to its byte representation.\n   * This includes the type ID for Result, followed by the byte representations of the Ok and Err types.\n   * @returns A Uint8Array representing the CLTypeResult.\n   */\n  public toBytes(): Uint8Array {\n    return concat([\n      Uint8Array.from([this.getTypeID()]),\n      this.innerOk.toBytes(),\n      this.innerErr.toBytes()\n    ]);\n  }\n\n  /**\n   * Provides a string representation of the CLTypeResult.\n   * @returns A string in the format \"(Result: Ok(okType), Err(errType))\".\n   */\n  public toString(): string {\n    return `(${this.getName()}: Ok(${this.innerOk.getName()}), Err(${this.innerErr.getName()}))`;\n  }\n\n  /**\n   * Retrieves the type ID of the CLTypeResult.\n   * @returns The TypeID associated with Result.\n   */\n  public getTypeID(): TypeID {\n    return TypeID.Result;\n  }\n\n  /**\n   * Retrieves the name of the CLTypeResult.\n   * @returns The TypeName for Result.\n   */\n  public getName(): TypeName {\n    return TypeName.Result;\n  }\n\n  /**\n   * Converts the CLTypeResult instance to a JSON-compatible representation.\n   * The JSON object includes a \"Result\" key containing the JSON representations of the Ok and Err types.\n   * @returns A JSON object representing the Result type and its Ok and Err types.\n   */\n  public toJSON(): { [key: string]: { ok: CLType; err: CLType } } {\n    return {\n      [this.getName()]: {\n        ok: this.innerOk.toJSON(),\n        err: this.innerErr.toJSON()\n      }\n    };\n  }\n\n  /**\n   * Creates a CLTypeResult instance from a JSON representation.\n   * Parses JSON input to determine the Ok and Err types for the Result.\n   * @param source - The JSON representation of the CLTypeResult.\n   * @returns A new CLTypeResult instance with parsed Ok and Err types.\n   * @throws {ErrInvalidResultJsonFormat} If the JSON structure is invalid.\n   */\n  public static fromJSON(source: any): CLTypeResult {\n    if (typeof source !== 'object' || source === null) {\n      throw ErrInvalidResultJsonFormat;\n    }\n\n    const okData = source.ok;\n    if (okData === undefined) {\n      throw ErrInvalidResultJsonFormat;\n    }\n    const innerOk = CLTypeParser.fromInterface(okData);\n\n    const errData = source.err;\n    if (errData === undefined) {\n      throw ErrInvalidResultJsonFormat;\n    }\n    const innerErr = CLTypeParser.fromInterface(errData);\n\n    return new CLTypeResult(innerOk, innerErr);\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { TypeID, TypeName, CLType } from './CLType';\nimport { CLTypeParser } from './Parser';\n\n/**\n * Represents a Tuple1 type in the Casper type system.\n * This class implements the CLType interface for tuples containing a single element.\n */\nexport class CLTypeTuple1 implements CLType {\n  /**\n   * The CLType of the single element in the Tuple1.\n   */\n  inner: CLType;\n\n  /**\n   * Initializes a new instance of the CLTypeTuple1 class.\n   * @param inner - The CLType of the single element in the Tuple1.\n   */\n  constructor(inner: CLType) {\n    this.inner = inner;\n  }\n\n  /**\n   * Converts the CLTypeTuple1 instance to its byte representation.\n   * This includes the type ID for Tuple1 followed by the byte representation of the inner type.\n   * @returns A Uint8Array representing the CLTypeTuple1.\n   */\n  public toBytes(): Uint8Array {\n    return concat([Uint8Array.from([this.getTypeID()]), this.inner.toBytes()]);\n  }\n\n  /**\n   * Provides a string representation of the CLTypeTuple1.\n   * @returns A string in the format \"Tuple1 (innerType)\".\n   */\n  public toString(): string {\n    return `${this.getName()} (${this.inner.toString()})`;\n  }\n\n  /**\n   * Retrieves the type ID of the CLTypeTuple1.\n   * @returns The TypeID associated with Tuple1.\n   */\n  public getTypeID(): TypeID {\n    return TypeID.Tuple1;\n  }\n\n  /**\n   * Retrieves the name of the CLTypeTuple1.\n   * @returns The TypeName for Tuple1.\n   */\n  public getName(): TypeName {\n    return TypeName.Tuple1;\n  }\n\n  /**\n   * Converts the CLTypeTuple1 instance to a JSON-compatible representation.\n   * The JSON object contains a \"Tuple1\" key with an array that includes the inner type.\n   * @returns A JSON object representing the Tuple1 type and its inner type.\n   */\n  public toJSON(): { [key: string]: CLType[] } {\n    return { [this.getName()]: [this.inner.toJSON()] };\n  }\n\n  /**\n   * Creates a CLTypeTuple1 instance from a JSON representation.\n   * Parses JSON input to determine the inner type for the Tuple1.\n   * @param source - The JSON representation of the CLTypeTuple1.\n   * @returns A new CLTypeTuple1 instance with the parsed inner type.\n   * @throws Error if the JSON structure is invalid or the inner type is not correctly specified.\n   */\n  public static fromJSON(source: any): CLTypeTuple1 {\n    if (!Array.isArray(source) || source.length !== 1) {\n      throw new Error(\n        'invalid tuple1 type format, should be array of 1 element'\n      );\n    }\n    const inner = CLTypeParser.fromInterface(source[0]);\n\n    if (!inner) {\n      throw new Error('Invalid inner type in Tuple1 JSON format');\n    }\n\n    return new CLTypeTuple1(inner);\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { TypeID, TypeName, CLType } from './CLType';\nimport { CLTypeParser } from './Parser';\n\n/**\n * Represents a Tuple2 type in the Casper type system.\n * This class implements the CLType interface for tuples containing two elements.\n */\nexport class CLTypeTuple2 implements CLType {\n  /**\n   * The CLType of the first element in the Tuple2.\n   */\n  inner1: CLType;\n\n  /**\n   * The CLType of the second element in the Tuple2.\n   */\n  inner2: CLType;\n\n  /**\n   * Initializes a new instance of the CLTypeTuple2 class.\n   * @param inner1 - The CLType of the first element in the Tuple2.\n   * @param inner2 - The CLType of the second element in the Tuple2.\n   */\n  constructor(inner1: CLType, inner2: CLType) {\n    this.inner1 = inner1;\n    this.inner2 = inner2;\n  }\n\n  /**\n   * Converts the CLTypeTuple2 instance to its byte representation.\n   * This includes the type ID for Tuple2 followed by the byte representations of both inner types.\n   * @returns A Uint8Array representing the CLTypeTuple2.\n   */\n  public toBytes(): Uint8Array {\n    return concat([\n      Uint8Array.from([this.getTypeID()]),\n      this.inner1.toBytes(),\n      this.inner2.toBytes()\n    ]);\n  }\n\n  /**\n   * Provides a string representation of the CLTypeTuple2.\n   * @returns A string in the format \"Tuple2 (innerType1, innerType2)\".\n   */\n  public toString(): string {\n    return `${this.getName()} (${this.inner1.toString()}, ${this.inner2.toString()})`;\n  }\n\n  /**\n   * Retrieves the type ID of the CLTypeTuple2.\n   * @returns The TypeID associated with Tuple2.\n   */\n  public getTypeID(): TypeID {\n    return TypeID.Tuple2;\n  }\n\n  /**\n   * Retrieves the name of the CLTypeTuple2.\n   * @returns The TypeName for Tuple2.\n   */\n  public getName(): TypeName {\n    return TypeName.Tuple2;\n  }\n\n  /**\n   * Converts the CLTypeTuple2 instance to a JSON-compatible representation.\n   * The JSON object contains a \"Tuple2\" key with an array including the two inner types.\n   * @returns A JSON object representing the Tuple2 type and its inner types.\n   */\n  public toJSON(): { [key: string]: CLType[] } {\n    return { [this.getName()]: [this.inner1.toJSON(), this.inner2.toJSON()] };\n  }\n\n  /**\n   * Creates a CLTypeTuple2 instance from a JSON representation.\n   * Parses JSON input to determine the two inner types for the Tuple2.\n   * @param source - The JSON representation of the CLTypeTuple2.\n   * @returns A new CLTypeTuple2 instance with the parsed inner types.\n   * @throws Error if the JSON structure is invalid or the inner types are not correctly specified.\n   */\n  public static fromJSON(source: any): CLTypeTuple2 {\n    if (!Array.isArray(source) || source.length !== 2) {\n      throw new Error(\n        'invalid tuple2 type format, should be array of 2 elements'\n      );\n    }\n    const inner1 = CLTypeParser.fromInterface(source[0]);\n    const inner2 = CLTypeParser.fromInterface(source[1]);\n\n    if (!inner1 || !inner2) {\n      throw new Error('Invalid inner types in Tuple2 JSON format');\n    }\n\n    return new CLTypeTuple2(inner1, inner2);\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { TypeID, TypeName, CLType } from './CLType';\nimport { CLTypeParser } from './Parser';\n\n/**\n * Represents a Tuple3 type in the Casper type system.\n * This class implements the CLType interface for tuples containing three elements.\n */\nexport class CLTypeTuple3 implements CLType {\n  /**\n   * The CLType of the first element in the Tuple3.\n   */\n  inner1: CLType;\n\n  /**\n   * The CLType of the second element in the Tuple3.\n   */\n  inner2: CLType;\n\n  /**\n   * The CLType of the third element in the Tuple3.\n   */\n  inner3: CLType;\n\n  /**\n   * Initializes a new instance of the CLTypeTuple3 class.\n   * @param inner1 - The CLType of the first element in the Tuple3.\n   * @param inner2 - The CLType of the second element in the Tuple3.\n   * @param inner3 - The CLType of the third element in the Tuple3.\n   */\n  constructor(inner1: CLType, inner2: CLType, inner3: CLType) {\n    this.inner1 = inner1;\n    this.inner2 = inner2;\n    this.inner3 = inner3;\n  }\n\n  /**\n   * Converts the CLTypeTuple3 instance to its byte representation.\n   * This includes the type ID for Tuple3 followed by the byte representations of the three inner types.\n   * @returns A Uint8Array representing the CLTypeTuple3.\n   */\n  public toBytes(): Uint8Array {\n    return concat([\n      Uint8Array.from([this.getTypeID()]),\n      this.inner1.toBytes(),\n      this.inner2.toBytes(),\n      this.inner3.toBytes()\n    ]);\n  }\n\n  /**\n   * Provides a string representation of the CLTypeTuple3.\n   * @returns A string in the format \"Tuple3 (innerType1, innerType2, innerType3)\".\n   */\n  public toString(): string {\n    return `${this.getName()} (${this.inner1.toString()}, ${this.inner2.toString()}, ${this.inner3.toString()})`;\n  }\n\n  /**\n   * Retrieves the type ID of the CLTypeTuple3.\n   * @returns The TypeID associated with Tuple3.\n   */\n  public getTypeID(): TypeID {\n    return TypeID.Tuple3;\n  }\n\n  /**\n   * Retrieves the name of the CLTypeTuple3.\n   * @returns The TypeName for Tuple3.\n   */\n  public getName(): TypeName {\n    return TypeName.Tuple3;\n  }\n\n  /**\n   * Converts the CLTypeTuple3 instance to a JSON-compatible representation.\n   * The JSON object contains a \"Tuple3\" key with an array that includes the three inner types.\n   * @returns A JSON object representing the Tuple3 type and its inner types.\n   */\n  public toJSON(): { [key: string]: CLType[] } {\n    return {\n      [this.getName()]: [\n        this.inner1.toJSON(),\n        this.inner2.toJSON(),\n        this.inner3.toJSON()\n      ]\n    };\n  }\n\n  /**\n   * Creates a CLTypeTuple3 instance from a JSON representation.\n   * Parses JSON input to determine the three inner types for the Tuple3.\n   * @param source - The JSON representation of the CLTypeTuple3.\n   * @returns A new CLTypeTuple3 instance with the parsed inner types.\n   * @throws Error if the JSON structure is invalid or the inner types are not correctly specified.\n   */\n  public static fromJSON(source: any): CLTypeTuple3 {\n    if (!Array.isArray(source) || source.length !== 3) {\n      throw new Error(\n        'invalid tuple3 type format, should be array of 3 elements'\n      );\n    }\n    const inner1 = CLTypeParser.fromInterface(source[0]);\n    const inner2 = CLTypeParser.fromInterface(source[1]);\n    const inner3 = CLTypeParser.fromInterface(source[2]);\n\n    if (!inner1 || !inner2 || !inner3) {\n      throw new Error('Invalid inner types in Tuple3 JSON format');\n    }\n\n    return new CLTypeTuple3(inner1, inner2, inner3);\n  }\n}\n","export * from './ByteArray';\nexport * from './CLType';\nexport * from './Map';\nexport * from './Dynamic';\nexport * from './List';\nexport * from './Option';\nexport * from './Parser';\nexport * from './Result';\nexport * from './Tuple1';\nexport * from './Tuple2';\nexport * from './Tuple3';\nexport * from './CLTypeRaw';\n","export * from './Any';\nexport * from './Bool';\nexport * from './ByteArray';\nexport * from './CLValue';\nexport * from './Numeric';\nexport * from './List';\nexport * from './Map';\nexport * from './Option';\nexport * from './Parser';\nexport * from './Result';\nexport * from './String';\nexport * from './Tuple1';\nexport * from './Tuple2';\nexport * from './Tuple3';\nexport * from './UintBig';\nexport * from './Unit';\nexport * from './cltype';\n","export * from './Account';\nexport * from './AddressableEntity';\nexport * from './Args';\nexport * from './AuctionState';\nexport * from './Bid';\nexport * from './BidKind';\nexport * from './Block';\nexport * from './BlockProposer';\nexport * from './Contract';\nexport * from './ContractPackage';\nexport * from './Deploy';\nexport * from './DeployInfo';\nexport * from './EntryPoint';\nexport * from './EraEnd';\nexport * from './EraInfo';\nexport * from './EraSummary';\nexport * from './ExecutableDeployItem';\nexport * from './ExecutionResult';\nexport * from './HexBytes';\nexport * from './InitiatorAddr';\nexport * from './MessageTopic';\nexport * from './MinimalBlockInfo';\nexport * from './NamedKey';\nexport * from './Package';\nexport * from './PricingMode';\nexport * from './Prepayment';\nexport * from './StoredValue';\nexport * from './Time';\nexport * from './Transaction';\nexport * from './TransactionV1Payload';\nexport * from './TransactionEntryPoint';\nexport * from './TransactionScheduling';\nexport * from './TransactionTarget';\nexport * from './Transfer';\nexport * from './Transform';\nexport * from './UnbondingPurse';\nexport * from './ValidatorWeight';\nexport * from './Conversions';\nexport * from './key';\nexport * from './clvalue';\nexport * from './keypair';\nexport * from './ContractWasm';\nexport * from './TransactionBuilder';\nexport * from './ByteConverters';\nexport * from './SerializationUtils';\n","import { jsonObject } from 'typedjson';\nimport { Hash } from './Hash';\nimport { PrefixName } from './Key';\n\n/**\n * Represents an account hash in the Casper network.\n * This class extends the `Hash` class, adding specific methods and properties for managing account hashes, which include special prefixes.\n */\n@jsonObject\nexport class AccountHash extends Hash {\n  /**\n   * Stores the prefix of the original hash string if it had one.\n   * Possible prefixes are `\"00\"` or `\"account-hash-\"`.\n   */\n  private originPrefix: string;\n\n  /**\n   * Initializes a new AccountHash instance.\n   * @param hash - The underlying Hash object containing the raw bytes of the account hash.\n   * @param originPrefix - Optional. The prefix of the original hash string (default is an empty string).\n   */\n  constructor(hash: Hash, originPrefix = '') {\n    super(hash.toBytes());\n    this.originPrefix = originPrefix;\n  }\n\n  /**\n   * Parses a string representation of an account hash and creates an AccountHash instance.\n   * Recognizes and preserves any prefix, either `\"00\"` or `\"account-hash-\"`.\n   * @param source - The string representation of the account hash.\n   * @returns A new AccountHash instance containing the parsed hash and prefix.\n   */\n  public static fromString(source: string): AccountHash {\n    let originPrefix = '';\n    if (source.length === 66 && source.startsWith('00')) {\n      originPrefix = '00';\n    } else if (source.startsWith(PrefixName.Account)) {\n      originPrefix = PrefixName.Account;\n    }\n\n    const hexString = source.slice(originPrefix.length);\n    const hash = Hash.fromHex(hexString);\n    return new AccountHash(hash, originPrefix);\n  }\n\n  /**\n   * Returns the account hash as a string, prefixed with `\"account-hash-\"`.\n   * This is useful for displaying the hash in a format recognized by the Casper network.\n   * @returns The account hash as a prefixed string.\n   */\n  public toPrefixedString(): string {\n    return PrefixName.Account + this.toHex();\n  }\n\n  /**\n   * Serializes the AccountHash to its JSON representation.\n   * The JSON representation includes the original prefix if present.\n   * @returns A string representation of the AccountHash for JSON serialization.\n   */\n  public toJSON(): string {\n    return this.originPrefix + this.toHex();\n  }\n\n  /**\n   * Deserializes an AccountHash instance from a JSON string representation.\n   * @param data - The JSON string representation of the AccountHash.\n   * @returns A new AccountHash instance created from the JSON string.\n   * @throws {Error} Throws an error if the input is not a valid JSON string.\n   */\n  public static fromJSON(data: string): AccountHash {\n    return AccountHash.fromString(data);\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { Hash } from './Hash';\nimport { PrefixName } from './Key';\n\n/**\n * Represents an addressable entity hash in the Casper network.\n * This class extends the `Hash` class to include a prefix indicating it is an addressable entity, adding specific methods and properties for managing such hashes.\n */\n@jsonObject\nexport class AddressableEntityHash extends Hash {\n  /**\n   * Stores the prefix of the original hash string if it had one.\n   * Defaults to `addressable-entity-` if not provided.\n   */\n  @jsonMember({ constructor: String })\n  originPrefix: string;\n\n  /**\n   * Initializes a new AddressableEntityHash instance.\n   * @param hashBytes - The byte array representing the hash value.\n   * @param originPrefix - Optional. The prefix of the original hash string. Defaults to `addressable-entity-`.\n   */\n  constructor(\n    hashBytes: Uint8Array,\n    originPrefix: string = PrefixName.AddressableEntity\n  ) {\n    super(hashBytes);\n    this.originPrefix = originPrefix;\n  }\n\n  /**\n   * Parses a hexadecimal string to create an AddressableEntityHash instance.\n   * Checks if the input string starts with the `addressable-entity-` prefix, removing it if present.\n   * @param source - The hexadecimal string representation of the hash, with or without the prefix.\n   * @returns A new AddressableEntityHash instance.\n   */\n  static fromHex(source: string): AddressableEntityHash {\n    const originPrefix = source.startsWith(PrefixName.AddressableEntity)\n      ? PrefixName.AddressableEntity\n      : '';\n    const hexBytes = Hash.fromHex(source.replace(originPrefix, ''));\n    return new AddressableEntityHash(hexBytes.toBytes(), originPrefix);\n  }\n\n  /**\n   * Returns the addressable entity hash as a prefixed string.\n   * Always includes the `addressable-entity-` prefix.\n   * @returns The prefixed hexadecimal string representation of the hash.\n   */\n  toPrefixedString(): string {\n    return `${PrefixName.AddressableEntity}${this.toHex()}`;\n  }\n\n  /**\n   * Serializes the AddressableEntityHash to its JSON representation.\n   * The JSON representation includes the original prefix if it was specified.\n   * @returns A string combining the prefix (if present) and the hexadecimal representation of the hash.\n   */\n  toJSON(): string {\n    return `${this.originPrefix}${this.toHex()}`;\n  }\n\n  /**\n   * Deserializes an AddressableEntityHash instance from a JSON string representation.\n   * @param json - The JSON string representation of the AddressableEntityHash, with or without the prefix.\n   * @returns A new AddressableEntityHash instance created from the JSON string.\n   */\n  static fromJSON(json: string): AddressableEntityHash {\n    return AddressableEntityHash.fromHex(json);\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { Conversions } from '../Conversions';\nimport { IResultWithBytes } from '../clvalue';\nimport { PrefixName } from './Key';\n\n/**\n * Enum representing the types of balance hold addresses.\n */\nexport enum BalanceHoldAddrTag {\n  Gas = 0,\n  Processing = 1\n}\n\n/**\n * Custom error class for BalanceHoldAddrTag related errors.\n */\nexport class BalanceHoldAddrTagError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'BalanceHoldAddrTagError';\n  }\n}\n\n/**\n * Validates and returns the BalanceHoldAddrTag for a given tag number.\n * @param tag - The tag number to validate.\n * @returns The corresponding BalanceHoldAddrTag.\n * @throws BalanceHoldAddrTagError if the tag is invalid.\n */\nexport function getBalanceHoldAddrTag(tag: number): BalanceHoldAddrTag {\n  if (tag === BalanceHoldAddrTag.Gas || tag === BalanceHoldAddrTag.Processing) {\n    return tag;\n  }\n  throw new BalanceHoldAddrTagError('Invalid BalanceHoldAddrTag');\n}\n\n/**\n * Constants related to the structure of a BalanceHoldAddr.\n */\nconst ByteHashLen = 32;\nconst BlockTypeBytesLen = 8;\n\ntype URefAddr = Uint8Array;\n\n/**\n * Represents a hold on a balance, including the address of the purse and the block time.\n */\n@jsonObject\nexport class Hold {\n  /**\n   * The address of the purse on which the hold is placed.\n   */\n  @jsonMember({ name: 'PurseAddr', constructor: Uint8Array })\n  purseAddr: URefAddr;\n\n  /**\n   * The block time at which the hold was created.\n   */\n  @jsonMember({\n    name: 'BlockTime',\n    constructor: Date,\n    serializer: (n: number) => new Date(n).toISOString(),\n    deserializer: (s: string) => Date.parse(s)\n  })\n  blockTime: Date;\n\n  constructor(purseAddr: URefAddr, blockTime: Date) {\n    this.purseAddr = purseAddr;\n    this.blockTime = blockTime;\n  }\n}\n\n/**\n * Represents an address holding a balance, categorized by either 'Gas' or 'Processing' type.\n */\n@jsonObject\nexport class BalanceHoldAddr {\n  /**\n   * The hold categorized as 'Gas', if any.\n   */\n  @jsonMember({ name: 'Gas', constructor: Hold })\n  gas?: Hold;\n\n  /**\n   * The hold categorized as 'Processing', if any.\n   */\n  @jsonMember({ name: 'Processing', constructor: Hold })\n  processing?: Hold;\n\n  constructor(gas?: Hold, processing?: Hold) {\n    this.gas = gas;\n    this.processing = processing;\n  }\n\n  /**\n   * Parses a string representation of a BalanceHoldAddr and returns a new instance.\n   * @param source - The string representation of the BalanceHoldAddr.\n   * @returns A new BalanceHoldAddr instance.\n   */\n  static fromString(source: string): BalanceHoldAddr {\n    const decoded = new Uint8Array(\n      source.match(/.{1,2}/g)?.map(byte => parseInt(byte, 16)) || []\n    );\n    return BalanceHoldAddr.fromBytes(decoded)?.result;\n  }\n\n  /**\n   * Converts the BalanceHoldAddr to a prefixed string, using 'balance-hold-' as the prefix.\n   * @returns The prefixed string representation of the BalanceHoldAddr.\n   */\n  toPrefixedString(): string {\n    const bytes = this.toBytes();\n    return PrefixName.BalanceHold + Conversions.encodeBase16(bytes);\n  }\n\n  /**\n   * Serializes the BalanceHoldAddr to its byte representation.\n   * Includes a byte for the hold type, the purse address, and an 8-byte block time.\n   * @returns The serialized byte representation of the BalanceHoldAddr.\n   */\n  toBytes(): Uint8Array {\n    let hold = this.gas;\n    let holdType = BalanceHoldAddrTag.Gas;\n\n    if (this.processing) {\n      holdType = BalanceHoldAddrTag.Processing;\n      hold = this.processing;\n    }\n\n    const result = new Uint8Array(ByteHashLen + BlockTypeBytesLen + 1);\n    result[0] = holdType;\n\n    result.set(hold!.purseAddr, 1);\n\n    const blockTimeMillis = hold!.blockTime.getTime();\n    const blockTimeBuffer = Buffer.alloc(8);\n    blockTimeBuffer.writeBigUInt64LE(BigInt(blockTimeMillis));\n    result.set(blockTimeBuffer, ByteHashLen + 1);\n\n    return result;\n  }\n\n  /**\n   * Deserializes a BalanceHoldAddr from a byte array.\n   * @param bytes - The byte array containing the BalanceHoldAddr data.\n   * @returns A new BalanceHoldAddr instance.\n   * @throws Error if the byte format is invalid.\n   * @throws BalanceHoldAddrTagError if the hold type is unexpected.\n   */\n  static fromBytes(bytes: Uint8Array): IResultWithBytes<BalanceHoldAddr> {\n    if (bytes.length < ByteHashLen + BlockTypeBytesLen + 1) {\n      throw new Error('Invalid BalanceHoldAddr format');\n    }\n\n    const tag = bytes[0];\n    const balanceHoldAddrTag = getBalanceHoldAddrTag(tag);\n\n    const purseAddr = bytes.slice(1, ByteHashLen + 1);\n    const blockTimeMillis = new DataView(\n      bytes.buffer,\n      ByteHashLen + 1\n    ).getBigUint64(0, true);\n    const blockTime = new Date(Number(blockTimeMillis));\n\n    const hold = new Hold(purseAddr, blockTime);\n\n    if (balanceHoldAddrTag === BalanceHoldAddrTag.Gas) {\n      return { result: new BalanceHoldAddr(hold, undefined), bytes: purseAddr };\n    } else if (balanceHoldAddrTag === BalanceHoldAddrTag.Processing) {\n      return { result: new BalanceHoldAddr(undefined, hold), bytes: purseAddr };\n    }\n\n    throw new BalanceHoldAddrTagError('Unexpected BalanceHoldAddr type');\n  }\n\n  /**\n   * Parses a JSON string representation of a BalanceHoldAddr.\n   * @param json - The JSON string.\n   * @returns A new BalanceHoldAddr instance.\n   */\n  public static fromJSON(json: string): BalanceHoldAddr {\n    return this.fromString(json);\n  }\n\n  /**\n   * Serializes the BalanceHoldAddr to its JSON string representation.\n   * @returns The JSON string representation of the BalanceHoldAddr.\n   */\n  public toJSON(): string {\n    return this.toPrefixedString();\n  }\n}\n","import { BigNumber } from '@ethersproject/bignumber';\n\nimport { jsonMember, jsonObject } from 'typedjson';\nimport { Hash } from './Hash';\nimport { IResultWithBytes } from '../clvalue';\nimport { HexBytes } from '../HexBytes';\n\n/**\n * Enum representing the different types of bid addresses.\n * Each type corresponds to a specific tag value that uniquely identifies the bid address type.\n */\nexport enum BidAddrTag {\n  UnifiedTag = 0,\n  ValidatorTag,\n  DelegatedAccountTag,\n  DelegatedPurseTag,\n  CreditTag,\n  ReservedDelegationAccountTag,\n  ReservedDelegationPurseTag,\n  UnbondAccountTag,\n  UnbondPurseTag\n}\n\n/** Error indicating an invalid BidAddrTag was encountered. */\nexport const ErrInvalidBidAddrTag = new Error('Invalid BidAddrTag');\n\n/** Error indicating an unexpected BidAddrTag was found in a BidAddr. */\nexport const ErrUnexpectedBidAddrTagInBidAddr = new Error(\n  'Unexpected BidAddrTag in BidAddr'\n);\n\n/** Error indicating the BidAddr format is invalid. */\nexport const ErrInvalidBidAddrFormat = new Error('Invalid BidAddr format');\n\n// Constants defining specific key lengths based on tag type\nconst UnifiedOrValidatorAddrLen = 33; // BidAddrTag(1) + Hash(32)\nconst CreditAddrLen = 41; // BidAddrTag(1) + Hash(32) + EraId(8)\nconst ValidatorHashDelegatorAddrLen = 65; // BidAddrTag(1) + Hash(32) + Hash(32)\n\n/**\n * Represents a bid address, which stores information such as unified, validator, delegator, or credit data types.\n */\n@jsonObject\nexport class BidAddr {\n  /** Unified hash for UnifiedTag addresses. */\n  @jsonMember({ name: 'Unified', constructor: Hash })\n  unified?: Hash;\n\n  /** Validator hash for ValidatorTag addresses. */\n  @jsonMember({ name: 'Validator', constructor: Hash })\n  validator?: Hash;\n\n  /** Delegator account hash for DelegatedAccountTag addresses. */\n  @jsonMember({ name: 'DelegatorAccount', constructor: Hash })\n  delegatorAccount?: Hash;\n\n  /** Delegator purse address for DelegatedPurseTag addresses. */\n  @jsonMember({ name: 'DelegatorPurseAddress', constructor: String })\n  delegatorPurseAddress?: string;\n\n  /** Era ID for CreditTag addresses. */\n  @jsonMember({ name: 'EraId', constructor: Number })\n  eraId?: number;\n\n  /** Private field indicating the tag type of the BidAddr. */\n  private tag: BidAddrTag;\n\n  /**\n   * Validates and returns the BidAddrTag from a numeric value.\n   * @param tag - The numeric tag value to validate.\n   * @returns The corresponding BidAddrTag.\n   * @throws {ErrInvalidBidAddrTag} If the tag value is invalid.\n   */\n  static bidAddrTag(tag: number): BidAddrTag {\n    const addrTag = tag as BidAddrTag;\n\n    if (!Object.values(BidAddrTag).includes(addrTag)) {\n      throw ErrInvalidBidAddrTag;\n    }\n\n    return addrTag;\n  }\n\n  /**\n   * Returns the tag associated with the bid address.\n   * @returns The BidAddrTag of the bid address.\n   */\n  public getTag(): BidAddrTag {\n    return this.tag;\n  }\n\n  /**\n   * Creates a BidAddr from a hexadecimal string.\n   * @param source - The hexadecimal string representation of the BidAddr.\n   * @returns A new BidAddr instance.\n   * @throws {ErrInvalidBidAddrFormat} If the format is invalid.\n   * @throws {ErrUnexpectedBidAddrTagInBidAddr} If an unexpected tag is encountered.\n   */\n  static fromHex(source: string): BidAddr {\n    const hexBytes = Buffer.from(source, 'hex');\n\n    if (hexBytes.length === 0) {\n      throw new Error('Wrong key length.');\n    }\n\n    const bidAddrTag = BidAddr.bidAddrTag(hexBytes[0]);\n    const bidAddr = new BidAddr();\n    bidAddr.tag = bidAddrTag;\n\n    switch (bidAddrTag) {\n      case BidAddrTag.UnifiedTag:\n      case BidAddrTag.ValidatorTag:\n        if (hexBytes.length !== UnifiedOrValidatorAddrLen) {\n          throw new Error(\n            `Wrong key length for ${BidAddrTag[bidAddrTag]} BidAddr. Expected 33 bytes.`\n          );\n        }\n        const key =\n          bidAddrTag === BidAddrTag.UnifiedTag ? 'unified' : 'validator';\n        bidAddr[key] = Hash.fromBytes(hexBytes.slice(1, 33))?.result;\n        break;\n\n      case BidAddrTag.DelegatedAccountTag:\n      case BidAddrTag.ReservedDelegationAccountTag:\n      case BidAddrTag.UnbondAccountTag:\n        if (hexBytes.length !== ValidatorHashDelegatorAddrLen) {\n          throw new Error(\n            `Wrong key length for ${BidAddrTag[bidAddrTag]} BidAddr. Expected 65 bytes.`\n          );\n        }\n        bidAddr.validator = Hash.fromBytes(hexBytes.slice(1, 33))?.result;\n        bidAddr.delegatorAccount = Hash.fromBytes(hexBytes.slice(33))?.result;\n        break;\n\n      case BidAddrTag.DelegatedPurseTag:\n      case BidAddrTag.ReservedDelegationPurseTag:\n      case BidAddrTag.UnbondPurseTag:\n        if (hexBytes.length !== ValidatorHashDelegatorAddrLen) {\n          throw new Error(\n            `Wrong key length for ${BidAddrTag[bidAddrTag]} BidAddr. Expected 65 bytes.`\n          );\n        }\n\n        bidAddr.validator = Hash.fromBytes(hexBytes.slice(1, 33))?.result;\n        bidAddr.delegatorPurseAddress = new HexBytes(\n          hexBytes.slice(33)\n        ).toHex();\n        break;\n\n      case BidAddrTag.CreditTag:\n        if (hexBytes.length !== CreditAddrLen) {\n          throw new Error(\n            'Wrong key length for Credit BidAddr. Expected 41 bytes.'\n          );\n        }\n        bidAddr.validator = Hash.fromBytes(hexBytes.slice(1, 33))?.result;\n        bidAddr.eraId = hexBytes.readUInt32LE(33);\n        break;\n\n      default:\n        throw new Error(`Wrong BidAddr tag ${bidAddrTag}.`);\n    }\n\n    return bidAddr;\n  }\n\n  /**\n   * Creates a BidAddr from a byte array.\n   * @param bytes - The byte array.\n   * @returns A new BidAddr instance.\n   * @throws {ErrInvalidBidAddrFormat} If the format is invalid.\n   */\n  static fromBytes(bytes: Uint8Array): IResultWithBytes<BidAddr> {\n    if (bytes.length < UnifiedOrValidatorAddrLen) throw ErrInvalidBidAddrFormat;\n\n    const tag = bytes[0];\n    const rem = bytes.subarray(1);\n    const bidAddrTag = BidAddr.bidAddrTag(tag);\n    const bidAddr = new BidAddr();\n    bidAddr.tag = bidAddrTag;\n\n    const parseHashPair = (\n      input: Uint8Array\n    ): { validator: Hash; delegator: Hash; bytes: Uint8Array } => {\n      const { result: validator, bytes: nextBytes } = Hash.fromBytes(input);\n      const { result: delegator, bytes } = Hash.fromBytes(nextBytes!);\n      return { validator, delegator, bytes };\n    };\n\n    const parseHexBytesPair = (\n      input: Uint8Array\n    ): { validator: Hash; delegator: string; bytes: Uint8Array } => {\n      const { result: validator, bytes: nextBytes } = Hash.fromBytes(input);\n      const hexBytes = new HexBytes(nextBytes!);\n      return { validator, delegator: hexBytes.toHex(), bytes: hexBytes.bytes };\n    };\n\n    switch (bidAddrTag) {\n      case BidAddrTag.UnifiedTag: {\n        const { result: unifiedHash, bytes } = Hash.fromBytes(rem);\n        bidAddr.unified = unifiedHash;\n        return { result: bidAddr, bytes };\n      }\n      case BidAddrTag.ValidatorTag: {\n        const { result: validatorHash, bytes } = Hash.fromBytes(rem);\n        bidAddr.validator = validatorHash;\n        return { result: bidAddr, bytes };\n      }\n      case BidAddrTag.DelegatedAccountTag: {\n        const { validator, delegator, bytes } = parseHashPair(rem);\n        bidAddr.delegatorAccount = delegator;\n        bidAddr.validator = validator;\n        return { result: bidAddr, bytes };\n      }\n      case BidAddrTag.CreditTag: {\n        const { result: validator, bytes: nextBytes } = Hash.fromBytes(rem);\n        const eraIdBytes = Uint8Array.from(nextBytes!.subarray(0, 8));\n        bidAddr.eraId = BigNumber.from(eraIdBytes.slice().reverse()).toNumber();\n        bidAddr.validator = validator;\n        return { result: bidAddr, bytes: nextBytes };\n      }\n      case BidAddrTag.DelegatedPurseTag: {\n        const { validator, delegator, bytes } = parseHexBytesPair(rem);\n        bidAddr.validator = validator;\n        bidAddr.delegatorPurseAddress = delegator;\n        return { result: bidAddr, bytes };\n      }\n      case BidAddrTag.ReservedDelegationAccountTag: {\n        const { validator, delegator, bytes } = parseHashPair(rem);\n        bidAddr.validator = validator;\n        bidAddr.delegatorAccount = delegator;\n        return { result: bidAddr, bytes };\n      }\n      case BidAddrTag.ReservedDelegationPurseTag: {\n        const { validator, delegator, bytes } = parseHexBytesPair(rem);\n        bidAddr.validator = validator;\n        bidAddr.delegatorPurseAddress = delegator;\n        return { result: bidAddr, bytes };\n      }\n      case BidAddrTag.UnbondAccountTag: {\n        const { validator, delegator, bytes } = parseHashPair(rem);\n        bidAddr.validator = validator;\n        bidAddr.delegatorAccount = delegator;\n        return { result: bidAddr, bytes };\n      }\n      case BidAddrTag.UnbondPurseTag: {\n        const { validator, delegator, bytes } = parseHexBytesPair(rem);\n        bidAddr.validator = validator;\n        bidAddr.delegatorPurseAddress = delegator;\n        return { result: bidAddr, bytes };\n      }\n      default:\n        throw ErrInvalidBidAddrFormat;\n    }\n  }\n\n  /**\n   * Returns a prefixed string representation of the BidAddr.\n   * @returns The prefixed string representation.\n   */\n  toPrefixedString(): string {\n    return `bid-addr-${this.toHex()}`;\n  }\n\n  /**\n   * Converts the BidAddr to its hexadecimal string representation, ensuring proper formatting.\n   * @returns The hexadecimal string representation of the BidAddr.\n   * @throws {Error} If the BidAddr type is unexpected or required fields are missing.\n   */\n  toHex(): string {\n    const tagHex = this.tag.toString(16).padStart(2, '0');\n\n    switch (this.tag) {\n      case BidAddrTag.UnifiedTag:\n        if (!this.unified) {\n          throw new Error(\n            `Missing 'unified' field for tag ${BidAddrTag.UnifiedTag}`\n          );\n        }\n        return `${tagHex}${this.unified.toHex()}`;\n      case BidAddrTag.ValidatorTag:\n        if (!this.validator) {\n          throw new Error(\n            `Missing 'validator' field for tag ${BidAddrTag.ValidatorTag}`\n          );\n        }\n        return `${tagHex}${this.validator.toHex()}`;\n      case BidAddrTag.DelegatedAccountTag:\n        if (!this.validator || !this.delegatorAccount) {\n          throw new Error(\n            `Missing 'validator' or 'delegatorAccount' field for tag ${BidAddrTag.DelegatedAccountTag}`\n          );\n        }\n        return `${tagHex}${this.validator.toHex()}${this.delegatorAccount.toHex()}`;\n      case BidAddrTag.DelegatedPurseTag:\n        if (!this.validator || !this.delegatorPurseAddress) {\n          throw new Error(\n            `Missing 'validator' or 'delegatorPurseAddress' field for tag ${BidAddrTag.DelegatedPurseTag}`\n          );\n        }\n        return `${tagHex}${this.validator.toHex()}${\n          this.delegatorPurseAddress\n        }`;\n      case BidAddrTag.CreditTag:\n        if (!this.validator || this.eraId === undefined) {\n          throw new Error(\n            `Missing 'validator' or 'eraId' field for tag ${BidAddrTag.CreditTag}`\n          );\n        }\n        const eraIdHex = Buffer.alloc(8);\n        eraIdHex.writeUInt32LE(this.eraId, 0);\n        return `${tagHex}${this.validator.toHex()}${eraIdHex.toString('hex')}`;\n      case BidAddrTag.ReservedDelegationAccountTag:\n        if (!this.validator || !this.delegatorAccount) {\n          throw new Error(\n            `Missing 'validator' or 'delegatorAccount' field for tag ${BidAddrTag.ReservedDelegationAccountTag}`\n          );\n        }\n        return `${tagHex}${this.validator.toHex()}${this.delegatorAccount.toHex()}`;\n      case BidAddrTag.ReservedDelegationPurseTag:\n        if (!this.validator || !this.delegatorPurseAddress) {\n          throw new Error(\n            `Missing 'validator' or 'delegatorPurseAddress' field for tag ${BidAddrTag.ReservedDelegationPurseTag}`\n          );\n        }\n        return `${tagHex}${this.validator.toHex()}${\n          this.delegatorPurseAddress\n        }`;\n      case BidAddrTag.UnbondAccountTag:\n        if (!this.validator || !this.delegatorAccount) {\n          throw new Error(\n            `Missing 'validator' or 'delegatorAccount' field for tag ${BidAddrTag.UnbondAccountTag}`\n          );\n        }\n        return `${tagHex}${this.validator.toHex()}${this.delegatorAccount.toHex()}`;\n      case BidAddrTag.UnbondPurseTag:\n        if (!this.validator || !this.delegatorPurseAddress) {\n          throw new Error(\n            `Missing 'validator' or 'delegatorPurseAddress' field for tag ${BidAddrTag.UnbondPurseTag}`\n          );\n        }\n        return `${tagHex}${this.validator.toHex()}${\n          this.delegatorPurseAddress\n        }`;\n      default:\n        throw new Error(`Unexpected BidAddr type: ${this.tag}`);\n    }\n  }\n\n  /**\n   * Converts the BidAddr to a byte array.\n   * @returns The byte array representation of the BidAddr.\n   * @throws {Error} If the BidAddr type is unexpected.\n   */\n  toBytes(): Uint8Array {\n    const typeByte = this.getTag();\n\n    const concatBuffers = (buffers: Buffer[]): Buffer => Buffer.concat(buffers);\n\n    const createBuffer = (tag: number, ...parts: Uint8Array[]): Buffer => {\n      return concatBuffers([Buffer.from([tag]), ...parts.map(Buffer.from)]);\n    };\n\n    switch (typeByte) {\n      case BidAddrTag.UnifiedTag:\n        return new Uint8Array(createBuffer(typeByte, this.unified!.toBytes()));\n      case BidAddrTag.ValidatorTag:\n        return new Uint8Array(\n          createBuffer(typeByte, this.validator!.toBytes())\n        );\n      case BidAddrTag.DelegatedAccountTag:\n        if (this.delegatorAccount && this.validator) {\n          return new Uint8Array(\n            createBuffer(\n              typeByte,\n              this.validator.toBytes(),\n              this.delegatorAccount.toBytes()\n            )\n          );\n        }\n        break;\n      case BidAddrTag.DelegatedPurseTag:\n        if (this.delegatorPurseAddress && this.validator) {\n          return new Uint8Array(\n            createBuffer(\n              typeByte,\n              this.validator.toBytes(),\n              HexBytes.fromHex(this.delegatorPurseAddress).bytes\n            )\n          );\n        }\n        break;\n      case BidAddrTag.CreditTag:\n        if (this.validator && this.eraId) {\n          const eraIdBuffer = Buffer.alloc(8);\n          eraIdBuffer.writeBigUInt64LE(BigInt(this.eraId), 0);\n          return new Uint8Array(\n            createBuffer(\n              typeByte,\n              this.validator.toBytes(),\n              new Uint8Array(eraIdBuffer)\n            )\n          );\n        }\n        break;\n      case BidAddrTag.ReservedDelegationAccountTag:\n        if (this.validator && this.delegatorAccount) {\n          return new Uint8Array(\n            createBuffer(\n              typeByte,\n              this.validator.toBytes(),\n              this.delegatorAccount.toBytes()\n            )\n          );\n        }\n        break;\n      case BidAddrTag.ReservedDelegationPurseTag:\n        if (this.delegatorPurseAddress && this.validator) {\n          return new Uint8Array(\n            createBuffer(\n              typeByte,\n              this.validator.toBytes(),\n              HexBytes.fromHex(this.delegatorPurseAddress).bytes\n            )\n          );\n        }\n        break;\n      case BidAddrTag.UnbondAccountTag:\n        if (this.validator && this.delegatorAccount) {\n          return new Uint8Array(\n            createBuffer(\n              typeByte,\n              this.validator.toBytes(),\n              this.delegatorAccount.toBytes()\n            )\n          );\n        }\n        break;\n      case BidAddrTag.UnbondPurseTag:\n        if (this.delegatorPurseAddress && this.validator) {\n          return new Uint8Array(\n            createBuffer(\n              typeByte,\n              this.validator.toBytes(),\n              HexBytes.fromHex(this.delegatorPurseAddress).bytes\n            )\n          );\n        }\n        break;\n      default:\n        throw new Error(\n          `Unexpected BidAddr type: Unknown type byte ${typeByte}`\n        );\n    }\n\n    throw new Error(\n      `Unexpected BidAddr type: Missing required fields for type byte ${typeByte}`\n    );\n  }\n\n  /**\n   * Creates a BidAddr from its JSON representation.\n   * @param json - The JSON string.\n   * @returns A new BidAddr instance.\n   */\n  public static fromJSON(json: string): BidAddr {\n    return this.fromHex(json);\n  }\n\n  /**\n   * Converts the BidAddr to its JSON representation.\n   * @returns The JSON string representation.\n   */\n  public toJSON(): string {\n    return this.toPrefixedString();\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { IResultWithBytes } from '../clvalue';\n\n/**\n * Enum representing the types of block global addresses.\n */\nexport enum BlockGlobalAddrTag {\n  BlockTime = 0,\n  MessageCount = 1\n}\n\n/**\n * Custom error class for errors related to BlockGlobalAddrTag.\n */\nexport class BlockGlobalAddrTagError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'BlockGlobalAddrTagError';\n  }\n}\n\n/**\n * Validates and returns the BlockGlobalAddrTag for a given tag number.\n * @param tag - The tag number to validate.\n * @returns The corresponding BlockGlobalAddrTag.\n * @throws BlockGlobalAddrTagError if the tag is invalid.\n */\nexport function getBlockGlobalAddrTag(tag: number): BlockGlobalAddrTag {\n  if (\n    tag === BlockGlobalAddrTag.BlockTime ||\n    tag === BlockGlobalAddrTag.MessageCount\n  ) {\n    return tag;\n  }\n  throw new BlockGlobalAddrTagError('Invalid BlockGlobalAddrTag');\n}\n\nconst BlockTimePrefix = 'time-';\nconst MessageCountPrefix = 'message-count-';\nconst PrefixNameBlockGlobal = 'block-global-';\n\n/**\n * Represents a block global address within the system, supporting both block time and message count addresses.\n */\n@jsonObject\nexport class BlockGlobalAddr {\n  /**\n   * The block time object, if this is a block time address.\n   */\n  @jsonMember({ name: 'BlockTime', constructor: Object })\n  blockTime?: object;\n\n  /**\n   * The message count object, if this is a message count address.\n   */\n  @jsonMember({ name: 'MessageCount', constructor: Object })\n  messageCount?: object;\n\n  /**\n   * Constructs a new BlockGlobalAddr instance.\n   * @param blockTime - Optional parameter for the block time object.\n   * @param messageCount - Optional parameter for the message count object.\n   */\n  constructor(blockTime?: object, messageCount?: object) {\n    this.blockTime = blockTime;\n    this.messageCount = messageCount;\n  }\n\n  /**\n   * Creates a BlockGlobalAddr from a string representation.\n   * @param source - The string representation of the block global address.\n   * @returns A new BlockGlobalAddr instance.\n   * @throws Error if the format does not match known block global address types.\n   */\n  static fromString(source: string): BlockGlobalAddr {\n    if (source.startsWith(BlockTimePrefix)) {\n      return new BlockGlobalAddr({}, undefined);\n    } else if (source.startsWith(MessageCountPrefix)) {\n      return new BlockGlobalAddr(undefined, {});\n    }\n    throw new Error('Invalid BlockGlobalAddr format');\n  }\n\n  /**\n   * Returns a prefixed string representation of the BlockGlobalAddr.\n   * @returns A prefixed string that includes the block global address type and a default hash value.\n   */\n  toPrefixedString(): string {\n    const prefix = this.blockTime ? BlockTimePrefix : MessageCountPrefix;\n    const emptyHash = '0'.repeat(64);\n    return `${PrefixNameBlockGlobal}${prefix}${emptyHash}`;\n  }\n\n  /**\n   * Creates a BlockGlobalAddr from a byte array representation.\n   * @param bytes - The byte array containing the tag for the block global address type.\n   * @returns An instance of BlockGlobalAddr representing the given type.\n   * @throws Error if the byte array tag does not match any known BlockGlobalAddr type.\n   */\n  static fromBytes(bytes: Uint8Array): IResultWithBytes<BlockGlobalAddr> {\n    const tagByte = bytes[0];\n    const tag = getBlockGlobalAddrTag(tagByte);\n\n    if (tag === BlockGlobalAddrTag.BlockTime) {\n      return { result: new BlockGlobalAddr({}, undefined), bytes };\n    } else if (tag === BlockGlobalAddrTag.MessageCount) {\n      return { result: new BlockGlobalAddr(undefined, {}), bytes };\n    }\n\n    throw new Error('Unexpected BlockGlobalAddr type');\n  }\n\n  /**\n   * Converts the BlockGlobalAddr to a byte array representation.\n   * @returns A Uint8Array containing the byte tag representing the block global address type.\n   */\n  toBytes(): Uint8Array {\n    const tag = this.messageCount\n      ? BlockGlobalAddrTag.MessageCount\n      : BlockGlobalAddrTag.BlockTime;\n    return Uint8Array.of(tag);\n  }\n\n  /**\n   * Creates a BlockGlobalAddr from a JSON string representation.\n   * @param json - The JSON string representation.\n   * @returns A new BlockGlobalAddr instance.\n   */\n  public static fromJSON(json: string): BlockGlobalAddr {\n    return this.fromString(json);\n  }\n\n  /**\n   * Converts the BlockGlobalAddr to its JSON string representation.\n   * @returns The JSON string that represents this BlockGlobalAddr.\n   */\n  public toJSON(): string {\n    return this.toPrefixedString();\n  }\n}\n","import { concat } from '@ethersproject/bytes';\nimport { Hash } from './Hash';\nimport { PrefixName } from './Key';\nimport { IResultWithBytes } from '../clvalue';\n\n/**\n * Enum representing types of byte code within the system.\n */\nenum ByteCodeKind {\n  /** Represents an empty byte code type. */\n  EmptyKind = 0,\n  /** Represents a V1 Casper WASM byte code type. */\n  V1CasperWasmKind = 1\n}\n\nconst EmptyPrefix = 'empty-';\nconst V1WasmPrefix = 'v1-wasm-';\n\n/**\n * Custom error class for ByteCode-related errors.\n */\nclass ByteCodeError extends Error {\n  /** Error for an invalid byte code format. */\n  static ErrInvalidByteCodeFormat = new ByteCodeError(\n    'Invalid ByteCode format'\n  );\n  /** Error for an invalid byte code kind. */\n  static ErrInvalidByteCodeKind = new ByteCodeError('Invalid ByteCodeKind');\n\n  constructor(message: string) {\n    super(message);\n    this.name = 'ByteCodeError';\n  }\n}\n\n/**\n * Represents a byte code in the system, providing support for V1 Casper WASM or an empty byte code.\n */\nexport class ByteCode {\n  private V1CasperWasm?: Hash;\n  private isEmpty: boolean;\n\n  /**\n   * Constructs a new ByteCode instance.\n   * @param V1CasperWasm - The hash representing V1 Casper WASM byte code.\n   * @param isEmpty - Whether the byte code is empty. Default is `false`.\n   */\n  constructor(V1CasperWasm?: Hash, isEmpty = false) {\n    this.V1CasperWasm = V1CasperWasm;\n    this.isEmpty = isEmpty;\n  }\n\n  /**\n   * Creates a ByteCode from a JSON string representation.\n   * @param data - The JSON string representation of the ByteCode.\n   * @returns A new ByteCode instance.\n   * @throws ByteCodeError.ErrInvalidByteCodeFormat if the format is invalid.\n   */\n  static fromJSON(data: string): ByteCode {\n    if (data.startsWith(V1WasmPrefix)) {\n      return new ByteCode(Hash.fromHex(data.replace(V1WasmPrefix, '')));\n    } else if (data.startsWith(EmptyPrefix)) {\n      return new ByteCode(undefined, true);\n    } else {\n      throw ByteCodeError.ErrInvalidByteCodeFormat;\n    }\n  }\n\n  /**\n   * Converts the ByteCode instance to its JSON string representation.\n   * @returns The JSON string representation of the ByteCode.\n   */\n  toJSON(): string {\n    return this.toPrefixedString();\n  }\n\n  /**\n   * Determines if the ByteCode instance represents an empty byte code.\n   * @returns True if the byte code is empty; otherwise, false.\n   */\n  isEmptyCode(): boolean {\n    return this.isEmpty;\n  }\n\n  /**\n   * Returns a prefixed string representation of the ByteCode.\n   * @returns A prefixed string based on the byte code type.\n   * @throws Error if the ByteCode type is unexpected.\n   */\n  toPrefixedString(): string {\n    if (this.V1CasperWasm) {\n      return PrefixName.ByteCode + V1WasmPrefix + this.V1CasperWasm.toHex();\n    } else if (this.isEmpty) {\n      const emptyHash = Hash.fromBytes(new Uint8Array(Hash.ByteHashLen).fill(0))\n        ?.result;\n      return PrefixName.ByteCode + EmptyPrefix + emptyHash.toHex();\n    } else {\n      throw new Error('Unexpected ByteCode type');\n    }\n  }\n\n  /**\n   * Creates a ByteCode instance from a byte array representation.\n   * @param bytes - The byte array.\n   * @returns An object with the new ByteCode instance and remaining bytes.\n   * @throws ByteCodeError.ErrInvalidByteCodeFormat if the format is invalid.\n   */\n  static fromBytes(bytes: Uint8Array): IResultWithBytes<ByteCode> {\n    const tag = bytes[0];\n    const kind = this.newByteCodeKindFromByte(tag);\n    switch (kind) {\n      case ByteCodeKind.EmptyKind:\n        return { result: new ByteCode(undefined, true), bytes };\n      case ByteCodeKind.V1CasperWasmKind:\n        const wasmHash = Hash.fromBytes(\n          bytes.subarray(1, Hash.ByteHashLen + 1)\n        );\n        return {\n          result: new ByteCode(wasmHash?.result),\n          bytes: wasmHash?.bytes\n        };\n      default:\n        throw ByteCodeError.ErrInvalidByteCodeFormat;\n    }\n  }\n\n  /**\n   * Converts a byte to its corresponding ByteCodeKind.\n   * @param tag - The byte to convert.\n   * @returns The corresponding ByteCodeKind.\n   * @throws ByteCodeError.ErrInvalidByteCodeKind if the byte doesn't match a valid ByteCodeKind.\n   */\n  static newByteCodeKindFromByte(tag: number): ByteCodeKind {\n    if (tag in ByteCodeKind) {\n      return tag as ByteCodeKind;\n    }\n    throw ByteCodeError.ErrInvalidByteCodeKind;\n  }\n\n  /**\n   * Converts the ByteCode instance to a byte array representation.\n   * @returns The byte array representation of the ByteCode.\n   * @throws Error if the ByteCode type is unexpected.\n   */\n  toBytes(): Uint8Array {\n    if (this.V1CasperWasm) {\n      const kindBytes = new Uint8Array([ByteCodeKind.V1CasperWasmKind]);\n      const wasmBytes = this.V1CasperWasm.toBytes();\n      return concat([kindBytes, wasmBytes]);\n    } else if (this.isEmpty) {\n      return new Uint8Array([ByteCodeKind.EmptyKind]);\n    } else {\n      throw new Error('Unexpected ByteCode type');\n    }\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { Hash } from './Hash';\nimport { PrefixName } from './Key';\n\n/**\n * Represents a contract hash within the system, providing various prefixed representations.\n */\n@jsonObject\nexport class ContractHash {\n  /**\n   * The hash object representing the contract.\n   */\n  @jsonMember({ name: 'Hash', constructor: Hash })\n  hash: Hash;\n\n  /**\n   * The prefix of the original contract hash string, if any (e.g., \"hash-\", \"contract-wasm-\", \"contract-\").\n   */\n  @jsonMember({ name: 'originPrefix', constructor: String })\n  originPrefix: string;\n\n  /**\n   * Constructs a new `ContractHash` instance.\n   * @param hash - The `Hash` object representing the contract hash.\n   * @param originPrefix - The original prefix of the contract hash string.\n   */\n  constructor(hash: Hash, originPrefix: string) {\n    this.hash = hash;\n    this.originPrefix = originPrefix;\n  }\n\n  /**\n   * Converts the `ContractHash` instance to its JSON representation.\n   * @returns A string representation of the `ContractHash`, including the original prefix.\n   */\n  toJSON(): string {\n    return this.originPrefix + this.hash.toHex();\n  }\n\n  /**\n   * Returns the contract hash as a WASM-prefixed string.\n   * @returns The contract hash prefixed with `ContractWasm`.\n   */\n  toPrefixedWasmString(): string {\n    return PrefixName.ContractWasm + this.hash.toHex();\n  }\n\n  /**\n   * Returns the contract hash as a general prefixed string.\n   * @returns The contract hash prefixed with `Contract`.\n   */\n  toPrefixedString(): string {\n    return PrefixName.Contract + this.hash.toHex();\n  }\n\n  /**\n   * Creates a `ContractHash` instance from its JSON representation.\n   * @param json - The JSON string representation of the `ContractHash`.\n   * @returns A new `ContractHash` instance.\n   */\n  static fromJSON(json: string): ContractHash {\n    return ContractHash.newContract(json);\n  }\n\n  /**\n   * Creates a new `ContractHash` instance from a string representation.\n   * @param source - The string representation of the contract hash.\n   * @returns A new `ContractHash` instance.\n   */\n  static newContract(source: string): ContractHash {\n    let originPrefix = '';\n    if (source.startsWith(PrefixName.Hash)) {\n      originPrefix = PrefixName.Hash;\n    } else if (source.startsWith(PrefixName.ContractWasm)) {\n      originPrefix = PrefixName.ContractWasm;\n    } else if (source.startsWith(PrefixName.Contract)) {\n      originPrefix = PrefixName.Contract;\n    } else if (source.startsWith(PrefixName.EntityContract)) {\n      originPrefix = PrefixName.EntityContract;\n    }\n\n    const hexBytes = Hash.fromHex(source.slice(originPrefix.length));\n    return new ContractHash(hexBytes, originPrefix);\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { Hash } from './Hash';\nimport { PrefixName } from './Key';\n\n/**\n * Represents a contract package hash within the system, with support for prefixed and JSON representations.\n */\n@jsonObject\nexport class ContractPackageHash {\n  /**\n   * The hash object representing the contract package.\n   */\n  @jsonMember({ name: 'Hash', constructor: Hash })\n  hash: Hash;\n\n  /**\n   * The original prefix of the contract package hash string, if any (e.g., \"hash-\", \"contract-package-wasm-\", \"contract-package-\").\n   */\n  @jsonMember({ name: 'originPrefix', constructor: String })\n  originPrefix: string;\n\n  /**\n   * Constructs a new `ContractPackageHash` instance.\n   * @param hash - The `Hash` object representing the contract package hash.\n   * @param originPrefix - The original prefix of the contract package hash string, if applicable.\n   */\n  constructor(hash: Hash, originPrefix: string) {\n    this.hash = hash;\n    this.originPrefix = originPrefix;\n  }\n\n  /**\n   * Converts the `ContractPackageHash` instance to its JSON representation.\n   * @returns A string representation of the `ContractPackageHash`, including the original prefix.\n   */\n  toJSON(): string {\n    return this.originPrefix + this.hash.toHex();\n  }\n\n  /**\n   * Returns the contract package hash as a prefixed string.\n   * @returns The contract package hash prefixed with `ContractPackage`.\n   */\n  toPrefixedString(): string {\n    return PrefixName.ContractPackage + this.hash.toHex();\n  }\n\n  /**\n   * Creates a `ContractPackageHash` instance from its JSON representation.\n   * @param json - The JSON string representation of the `ContractPackageHash`.\n   * @returns A new `ContractPackageHash` instance.\n   */\n  static fromJSON(json: string): ContractPackageHash {\n    return ContractPackageHash.newContractPackage(json);\n  }\n\n  /**\n   * Creates a new `ContractPackageHash` instance from a string representation.\n   * @param source - The string representation of the contract package hash, including any prefix.\n   * @returns A new `ContractPackageHash` instance.\n   */\n  static newContractPackage(source: string): ContractPackageHash {\n    let originPrefix = '';\n    if (source.startsWith(PrefixName.Hash)) {\n      originPrefix = PrefixName.Hash;\n    } else if (source.startsWith(PrefixName.ContractPackageWasm)) {\n      originPrefix = PrefixName.ContractPackageWasm;\n    } else if (source.startsWith(PrefixName.ContractPackage)) {\n      originPrefix = PrefixName.ContractPackage;\n    }\n\n    const hexBytes = Hash.fromHex(source.slice(originPrefix.length));\n    return new ContractPackageHash(hexBytes, originPrefix);\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { concat } from '@ethersproject/bytes';\n\nimport { Hash } from './Hash';\nimport { IResultWithBytes } from '../clvalue';\nimport { PrefixName } from './Key';\n\n/**\n * Enum representing the types of entities within the system.\n */\nexport enum EntityKindType {\n  SystemKind = 0,\n  AccountKind = 1,\n  SmartContractKind = 2\n}\n\n/** Error thrown when the EntityAddr format is invalid. */\nexport const ErrInvalidEntityAddrFormat = new Error(\n  'invalid EntityAddr format'\n);\n\n/** Error thrown when the EntityKind is invalid. */\nexport const ErrInvalidEntityKind = new Error('invalid EntityKind');\n\n/**\n * Represents an entity address in the system. This class supports addresses for three types of entities:\n * system, account, and smart contract. The address type is indicated by either the system, account, or smartContract property being set.\n */\n@jsonObject\nexport class EntityAddr {\n  /** The system hash, if this is a system entity. */\n  @jsonMember({ constructor: Hash, name: 'System' })\n  system?: Hash;\n\n  /** The account hash, if this is an account entity. */\n  @jsonMember({ constructor: Hash, name: 'Account' })\n  account?: Hash;\n\n  /** The smart contract hash, if this is a smart contract entity. */\n  @jsonMember({ constructor: Hash, name: 'SmartContract' })\n  smartContract?: Hash;\n\n  /**\n   * Creates a new EntityAddr instance.\n   * @param system - The hash representing a system entity.\n   * @param account - The hash representing an account entity.\n   * @param smartContract - The hash representing a smart contract entity.\n   */\n  constructor(system?: Hash, account?: Hash, smartContract?: Hash) {\n    this.system = system;\n    this.account = account;\n    this.smartContract = smartContract;\n  }\n\n  /**\n   * Returns a prefixed string representation of the EntityAddr, with different prefixes for each entity type.\n   * @returns The prefixed string representation, with \"entity-system-\", \"entity-account-\", or \"entity-contract-\" based on entity type.\n   */\n  toPrefixedString(): string {\n    if (this.system) {\n      return `${PrefixName.Entity}system-${this.system.toHex()}`;\n    } else if (this.account) {\n      return `${PrefixName.Entity}account-${this.account.toHex()}`;\n    } else if (this.smartContract) {\n      return `${PrefixName.Entity}contract-${this.smartContract.toHex()}`;\n    }\n    return '';\n  }\n\n  /**\n   * Creates an EntityAddr from a prefixed string representation.\n   * @param source - The prefixed string representation of the EntityAddr.\n   * @returns A new EntityAddr instance.\n   * @throws {ErrInvalidEntityAddrFormat} If the format is invalid.\n   */\n  static fromPrefixedString(source: string): EntityAddr {\n    source = source.replace(PrefixName.Entity, '');\n\n    if (source.startsWith('system-')) {\n      const hash = Hash.fromHex(source.replace('system-', ''));\n      return new EntityAddr(hash, undefined, undefined);\n    } else if (source.startsWith('account-')) {\n      const hash = Hash.fromHex(source.replace('account-', ''));\n      return new EntityAddr(undefined, hash, undefined);\n    } else if (source.startsWith('contract-')) {\n      const hash = Hash.fromHex(source.replace('contract-', ''));\n      return new EntityAddr(undefined, undefined, hash);\n    }\n    throw ErrInvalidEntityAddrFormat;\n  }\n\n  /**\n   * Converts the EntityAddr to a byte array.\n   * The first byte represents the entity type, followed by the bytes of the associated hash.\n   * @returns The byte array representation of the EntityAddr.\n   * @throws {Error} If the EntityAddr type is unexpected.\n   */\n  toBytes(): Uint8Array {\n    let prefix: number;\n    let bytes: Uint8Array;\n\n    if (this.system) {\n      prefix = EntityKindType.SystemKind;\n      bytes = this.system.toBytes();\n    } else if (this.account) {\n      prefix = EntityKindType.AccountKind;\n      bytes = this.account.toBytes();\n    } else if (this.smartContract) {\n      prefix = EntityKindType.SmartContractKind;\n      bytes = this.smartContract.toBytes();\n    } else {\n      throw new Error('Unexpected EntityAddr type');\n    }\n\n    return concat([Uint8Array.from([prefix]), bytes]);\n  }\n\n  /**\n   * Creates an EntityAddr from a byte array. The first byte indicates the entity type,\n   * and the remaining bytes represent the hash.\n   * @param bytes - The byte array.\n   * @returns A new EntityAddr instance.\n   * @throws {Error} If the buffer is empty or the format is invalid.\n   */\n  static fromBytes(bytes: Uint8Array): IResultWithBytes<EntityAddr> {\n    if (bytes.length === 0) {\n      throw new Error('Buffer is empty, cannot create EntityAddr.');\n    }\n\n    const tag = bytes[0];\n    const rem = bytes.subarray(1);\n    const entityKindTag = EntityAddr.getEntityKindFromByte(tag);\n    const { result: hash, bytes: hashBytes } = Hash.fromBytes(rem);\n\n    switch (entityKindTag) {\n      case EntityKindType.SystemKind:\n        return {\n          result: new EntityAddr(hash, undefined, undefined),\n          bytes: hashBytes\n        };\n      case EntityKindType.AccountKind:\n        return {\n          result: new EntityAddr(undefined, hash, undefined),\n          bytes: hashBytes\n        };\n      case EntityKindType.SmartContractKind:\n        return {\n          result: new EntityAddr(undefined, undefined, hash),\n          bytes: hashBytes\n        };\n      default:\n        throw new Error('Invalid EntityAddr format.');\n    }\n  }\n\n  /**\n   * Converts a byte to an EntityKind.\n   * @param tag - The byte to convert.\n   * @returns The corresponding EntityKind.\n   * @throws {Error} If the byte doesn't correspond to a valid EntityKind.\n   */\n  private static getEntityKindFromByte(tag: number): EntityKindType {\n    if (tag in EntityKindType) {\n      return tag as EntityKindType;\n    } else {\n      throw new Error('Invalid entity kind tag.');\n    }\n  }\n\n  /**\n   * Creates an EntityAddr from its JSON representation.\n   * @param json - The JSON string representation of the EntityAddr.\n   * @returns A new EntityAddr instance.\n   */\n  public static fromJSON(json: string): EntityAddr {\n    return this.fromPrefixedString(json);\n  }\n\n  /**\n   * Converts the EntityAddr to its JSON representation.\n   * @returns The JSON string representation of the EntityAddr.\n   */\n  public toJSON(): string {\n    return this.toPrefixedString();\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { concat } from '@ethersproject/bytes';\n\nimport { EntityAddr } from './EntityAddr';\nimport { Hash } from './Hash';\nimport { Conversions } from '../Conversions';\nimport { IResultWithBytes } from '../clvalue';\n\n/**\n * Enum representing the types of entry points in the Casper VM.\n */\nexport enum EntryPointTag {\n  V1EntryPoint = 0,\n  V2EntryPoint = 1\n}\n\n/**\n * Custom error class for EntryPoint related errors.\n */\nexport class EntryPointError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'EntryPointError';\n  }\n}\n\n/**\n * Validates and returns the EntryPointTag for a given tag number.\n * @param tag - The tag number to validate.\n * @returns The corresponding EntryPointTag.\n * @throws EntryPointError if the tag is invalid.\n */\nexport function getEntryPointTag(tag: number): EntryPointTag {\n  if (\n    tag === EntryPointTag.V1EntryPoint ||\n    tag === EntryPointTag.V2EntryPoint\n  ) {\n    return tag;\n  }\n  throw new EntryPointError('Invalid EntryPointTag');\n}\n\nconst V1Prefix = 'v1-';\nconst V2Prefix = 'v2-';\nconst SelectorBytesLen = 4;\n\n/**\n * Represents a V1 Casper VM entry point with an entity address and name bytes.\n */\n@jsonObject\nclass VmCasperV1 {\n  @jsonMember({\n    name: 'EntityAddr',\n    constructor: EntityAddr,\n    deserializer: json => EntityAddr.fromJSON(json),\n    serializer: (value: EntityAddr) => value.toJSON()\n  })\n  entityAddr: EntityAddr;\n\n  @jsonMember(Uint8Array, { name: 'NameBytes' })\n  nameBytes: Uint8Array;\n\n  constructor(entityAddr: EntityAddr, nameBytes: Uint8Array) {\n    this.entityAddr = entityAddr;\n    this.nameBytes = nameBytes;\n  }\n}\n\n/**\n * Represents a V2 Casper VM entry point with an entity address and selector.\n */\n@jsonObject\nclass VmCasperV2 {\n  @jsonMember({\n    name: 'EntityAddr',\n    constructor: EntityAddr,\n    deserializer: json => EntityAddr.fromJSON(json),\n    serializer: value => value.toJSON()\n  })\n  entityAddr: EntityAddr;\n\n  @jsonMember({ name: 'Selector', constructor: Number })\n  selector: number;\n\n  constructor(entityAddr: EntityAddr, selector: number) {\n    this.entityAddr = entityAddr;\n    this.selector = selector;\n  }\n}\n\n/**\n * Represents an entry point address in the system, which may be a V1 or V2 Casper VM entry point.\n */\n@jsonObject\nexport class EntryPointAddr {\n  @jsonMember({ name: 'VmCasperV1', constructor: VmCasperV1 })\n  vmCasperV1?: VmCasperV1;\n\n  @jsonMember({ name: 'VmCasperV2', constructor: VmCasperV2 })\n  vmCasperV2?: VmCasperV2;\n\n  /**\n   * Creates a new EntryPointAddr instance.\n   * @param vmCasperV1 - The V1 Casper VM entry point, if applicable.\n   * @param vmCasperV2 - The V2 Casper VM entry point, if applicable.\n   */\n  constructor(vmCasperV1?: VmCasperV1, vmCasperV2?: VmCasperV2) {\n    this.vmCasperV1 = vmCasperV1;\n    this.vmCasperV2 = vmCasperV2;\n  }\n\n  /**\n   * Creates an EntryPointAddr from a string representation.\n   * @param source - The string representation of the entry point address.\n   * @returns A new EntryPointAddr instance.\n   * @throws EntryPointError if the format is invalid.\n   */\n  static fromString(source: string): EntryPointAddr {\n    const lastIndex = source.lastIndexOf('-');\n    if (lastIndex === -1) {\n      throw new EntryPointError('Invalid EntryPoint format');\n    }\n\n    const prefix = source.substring(0, lastIndex);\n    const data = source.substring(lastIndex + 1);\n\n    const rawBytes = Buffer.from(data, 'hex');\n\n    if (prefix.startsWith(V1Prefix)) {\n      const entityAddr = EntityAddr.fromPrefixedString(\n        prefix.replace(V1Prefix, '')\n      );\n      const nameBytes = new Uint8Array(rawBytes);\n\n      return new EntryPointAddr(new VmCasperV1(entityAddr, nameBytes));\n    } else if (prefix.startsWith(V2Prefix)) {\n      const entityAddr = EntityAddr.fromPrefixedString(\n        prefix.replace(V2Prefix, '')\n      );\n      const selector = rawBytes.readUInt32LE(0);\n\n      return new EntryPointAddr(\n        undefined,\n        new VmCasperV2(entityAddr, selector)\n      );\n    } else {\n      throw new EntryPointError('Invalid EntryPoint format');\n    }\n  }\n\n  /**\n   * Returns a prefixed string representation of the EntryPointAddr.\n   * @returns The prefixed string representation.\n   * @throws EntryPointError if the EntryPointAddr type is unexpected.\n   */\n  toPrefixedString(): string {\n    if (this.vmCasperV1) {\n      return (\n        V1Prefix +\n        this.vmCasperV1.entityAddr.toPrefixedString() +\n        '-' +\n        Conversions.encodeBase16(this.vmCasperV1.nameBytes)\n      );\n    } else if (this.vmCasperV2) {\n      const selectorBuffer = Buffer.alloc(SelectorBytesLen);\n      selectorBuffer.writeUInt32LE(this.vmCasperV2.selector, 0);\n      return (\n        V2Prefix +\n        this.vmCasperV2.entityAddr.toPrefixedString() +\n        '-' +\n        selectorBuffer.toString('hex')\n      );\n    }\n    throw new EntryPointError('Unexpected EntryPointAddr type');\n  }\n\n  /**\n   * Converts the EntryPointAddr to a byte array.\n   * @returns The byte array representation of the EntryPointAddr.\n   * @throws EntryPointError if the EntryPointAddr type is unexpected.\n   */\n  toBytes(): Uint8Array {\n    let result: Uint8Array;\n\n    if (this.vmCasperV1) {\n      const entryPointTag = new Uint8Array([EntryPointTag.V1EntryPoint]);\n      const entityBytes = this.vmCasperV1.entityAddr.toBytes();\n      const nameBytes = this.vmCasperV1.nameBytes;\n\n      result = concat([entryPointTag, entityBytes, nameBytes]);\n    } else if (this.vmCasperV2) {\n      const entryPointTag = new Uint8Array([EntryPointTag.V2EntryPoint]);\n      const entityBytes = this.vmCasperV2.entityAddr.toBytes();\n\n      const selectorBuffer = Buffer.alloc(SelectorBytesLen);\n      selectorBuffer.writeUInt32LE(this.vmCasperV2.selector, 0);\n      const selectorBytes = new Uint8Array(selectorBuffer);\n\n      result = concat([entryPointTag, entityBytes, selectorBytes]);\n    } else {\n      throw new EntryPointError('Unexpected EntryPointAddr type');\n    }\n\n    return result;\n  }\n\n  /**\n   * Creates an EntryPointAddr from a byte array.\n   * @param array - The byte array.\n   * @returns A new EntryPointAddr instance.\n   * @throws EntryPointError if the EntryPointAddr type is unexpected.\n   */\n  static fromBytes(array: Uint8Array): IResultWithBytes<EntryPointAddr> {\n    const tag = array[0];\n    const entryPointTag = getEntryPointTag(tag);\n\n    const entityAddr = EntityAddr.fromBytes(array.slice(1));\n\n    if (entryPointTag === EntryPointTag.V1EntryPoint) {\n      const nameBytes = array.slice(\n        1 + Hash.ByteHashLen,\n        1 + Hash.ByteHashLen + 32\n      );\n      return {\n        result: new EntryPointAddr(\n          new VmCasperV1(entityAddr?.result, nameBytes)\n        ),\n        bytes: nameBytes\n      };\n    } else if (entryPointTag === EntryPointTag.V2EntryPoint) {\n      const selector = new DataView(\n        array.buffer,\n        1 + Hash.ByteHashLen\n      ).getUint32(0, true);\n\n      return {\n        result: new EntryPointAddr(\n          undefined,\n          new VmCasperV2(entityAddr?.result, selector)\n        ),\n        bytes: array.subarray(Hash.ByteHashLen)\n      };\n    } else {\n      throw new EntryPointError('Unexpected EntryPointAddr type');\n    }\n  }\n\n  /**\n   * Creates an EntryPointAddr from its JSON representation.\n   * @param json - The JSON string representation of the EntryPointAddr.\n   * @returns A new EntryPointAddr instance.\n   */\n  public static fromJSON(json: string): EntryPointAddr {\n    return this.fromString(json);\n  }\n\n  /**\n   * Converts the EntryPointAddr to its JSON representation.\n   * @returns The JSON string representation of the EntryPointAddr.\n   */\n  public toJSON(): string {\n    return this.toPrefixedString();\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { toBytesNumber } from '../ByteConverters';\n\n/**\n * Represents an Era in the system.\n * An Era is a distinct period in the blockchain, typically used for consensus, validator rotations, and reward distributions.\n */\n@jsonObject\nexport class Era {\n  /**\n   * The numeric identifier of the Era.\n   */\n  @jsonMember({ constructor: Number })\n  public value: number;\n\n  /**\n   * Creates a new Era instance.\n   * @param value - The numeric identifier of the Era.\n   */\n  constructor(value: number) {\n    this.value = value;\n  }\n\n  /**\n   * Converts the Era instance to its JSON representation.\n   * @returns A string representation of the Era's numeric value.\n   */\n  toJSON(): string {\n    return this.value.toString();\n  }\n\n  /**\n   * Creates an Era instance from its JSON representation.\n   * @param json - The JSON string representation of the Era.\n   * @returns A new Era instance.\n   * @throws Error if the JSON string cannot be parsed as a valid number.\n   */\n  static fromJSON(json: string): Era {\n    const value = parseInt(json, 10);\n    if (isNaN(value)) {\n      throw new Error(`Invalid Era value: ${json}`);\n    }\n    return new Era(value);\n  }\n\n  /**\n   * Creates an Era instance from a byte array.\n   * @param bytes - The byte array representing the Era value as a 32-bit unsigned integer.\n   * @returns A new Era instance.\n   */\n  static fromBytes(bytes: Uint8Array): Era {\n    const value = new DataView(bytes.buffer).getUint32(0, true);\n    return new Era(value);\n  }\n\n  /**\n   * Converts the Era instance to a byte array.\n   * @returns A Uint8Array representation of the Era value as a 32-bit unsigned integer.\n   */\n  toBytes(): Uint8Array {\n    return toBytesNumber(64, false)(this.value);\n  }\n}\n","import { jsonObject } from 'typedjson';\nimport { IResultWithBytes } from '../clvalue';\n\n/**\n * Represents a cryptographic hash.\n * This class provides methods for creating, manipulating, and comparing hash values.\n */\n@jsonObject\nexport class Hash {\n  private hashBytes: Uint8Array;\n\n  /** The fixed length of the hash in bytes. */\n  static ByteHashLen = 32;\n\n  /** The fixed length of the hash string representation in hexadecimal characters. */\n  static StringHashLen = 64;\n\n  /**\n   * Creates a new Hash instance.\n   * @param hashBytes - The byte array representing the hash.\n   * @throws Error if the byte array length does not match the expected hash length.\n   */\n  constructor(hashBytes: Uint8Array) {\n    if (hashBytes.length !== Hash.ByteHashLen) {\n      throw new Error(\n        `Invalid hash length, expected ${Hash.ByteHashLen} bytes.`\n      );\n    }\n    this.hashBytes = hashBytes;\n  }\n\n  /**\n   * Creates a Hash instance from a hexadecimal string.\n   * @param source - The hexadecimal string representation of the hash.\n   * @returns A new Hash instance.\n   * @throws Error if the string length does not match the expected hash length.\n   */\n  static fromHex(source: string): Hash {\n    if (source.length !== Hash.StringHashLen) {\n      throw new Error(\n        `Invalid string length, expected ${Hash.StringHashLen} characters.`\n      );\n    }\n    const bytes = Uint8Array.from(Buffer.from(source, 'hex'));\n    return new Hash(bytes);\n  }\n\n  /**\n   * Converts the Hash instance to a hexadecimal string.\n   * @returns The hexadecimal string representation of the hash.\n   */\n  toHex(): string {\n    return Buffer.from(this.hashBytes).toString('hex');\n  }\n\n  /**\n   * Converts the Hash instance to a byte array.\n   * @returns The byte array representation of the hash.\n   */\n  toBytes(): Uint8Array {\n    return this.hashBytes;\n  }\n\n  /**\n   * Converts the Hash instance to its JSON representation.\n   * @returns The JSON string representation of the hash.\n   */\n  toJSON(): string {\n    return this.toHex();\n  }\n\n  /**\n   * Creates a Hash instance from its JSON representation.\n   * @param json - The JSON string representation of the hash.\n   * @returns A new Hash instance.\n   */\n  static fromJSON(json: string): Hash {\n    return Hash.fromHex(json);\n  }\n\n  /**\n   * Creates a Hash instance from a byte array.\n   * @param source - The byte array representing the hash.\n   * @returns A result object containing the new Hash instance and the remaining bytes.\n   * @throws Error if the byte array length does not match the expected hash length.\n   */\n  static fromBytes(source: Uint8Array): IResultWithBytes<Hash> {\n    if (source.length < Hash.ByteHashLen) {\n      throw new Error('Key length is less than 32 bytes.');\n    }\n\n    const hashBytes = source.subarray(0, Hash.ByteHashLen);\n    return {\n      result: new Hash(hashBytes),\n      bytes: source.subarray(Hash.ByteHashLen)\n    };\n  }\n\n  /**\n   * Creates a Hash instance from a Buffer.\n   * @param buffer - The Buffer containing the hash bytes.\n   * @returns A new Hash instance.\n   * @throws Error if the buffer length is less than the required hash length.\n   */\n  static fromBuffer(buffer: Buffer): Hash {\n    if (buffer.length < Hash.ByteHashLen) {\n      throw new Error('Key length is not equal to 32 bytes.');\n    }\n    return new Hash(new Uint8Array(buffer.slice(0, Hash.ByteHashLen)));\n  }\n\n  /**\n   * Creates an array of Hash instances from a byte array.\n   * @param byteArray - The byte array containing multiple hash values.\n   * @returns An array of Hash instances created from the byte array.\n   * @throws Error if the byte array length is not a multiple of the hash length.\n   */\n  public static createHashArray(byteArray: Uint8Array): Hash[] {\n    if (byteArray.length % Hash.ByteHashLen !== 0) {\n      throw new Error(\n        `Byte array length must be a multiple of ${Hash.ByteHashLen}.`\n      );\n    }\n\n    const hashes: Hash[] = [];\n    for (let i = 0; i < byteArray.length; i += Hash.ByteHashLen) {\n      const chunk = byteArray.subarray(i, i + Hash.ByteHashLen);\n      hashes.push(new Hash(chunk));\n    }\n\n    return hashes;\n  }\n\n  /**\n   * Compares this Hash instance with another Hash instance for equality.\n   * @param other - The other Hash to compare with.\n   * @returns True if the hashes are equal, false otherwise.\n   */\n  equals(other: Hash): boolean {\n    if (this.hashBytes.length !== other.hashBytes.length) return false;\n    return this.hashBytes.every(\n      (byte, index) => byte === other.hashBytes[index]\n    );\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { AccountHash } from './Account';\nimport { Hash } from './Hash';\nimport { TransferHash } from './Transfer';\nimport { Era } from './Era';\nimport { EntityAddr } from './EntityAddr';\nimport { BidAddr } from './BidAddr';\nimport { ByteCode } from './ByteCode';\nimport { MessageAddr } from './MessageAddr';\nimport { NamedKeyAddr } from './NewNamedKeyAddr';\nimport { BlockGlobalAddr } from './BlockGlobalAddr';\nimport { BalanceHoldAddr } from './BalanceHoldAddr';\nimport { EntryPointAddr } from './EntryPointAddr';\nimport { URef } from './URef';\nimport { IResultWithBytes } from '../clvalue';\n\n/**\n * Enum that defines prefixes used to identify different types of blockchain entities and objects.\n */\nexport enum PrefixName {\n  Account = 'account-hash-',\n  AddressableEntity = 'addressable-entity-',\n  Hash = 'hash-',\n  ContractPackageWasm = 'contract-package-wasm',\n  ContractPackage = 'contract-package-',\n  ContractWasm = 'contract-wasm-',\n  Contract = 'contract-',\n  URef = 'uref-',\n  Transfer = 'transfer-',\n  DeployInfo = 'deploy-',\n  EraId = 'era-',\n  Bid = 'bid-',\n  Balance = 'balance-',\n  Withdraw = 'withdraw-',\n  Dictionary = 'dictionary-',\n  SystemContractRegistry = 'system-contract-registry-',\n  EraSummary = 'era-summary-',\n  Unbond = 'unbond-',\n  ChainspecRegistry = 'chainspec-registry-',\n  EntityContract = 'entity-contract-',\n  ChecksumRegistry = 'checksum-registry-',\n  BidAddr = 'bid-addr-',\n  Package = 'package-',\n  Entity = 'entity-',\n  ByteCode = 'byte-code-',\n  Message = 'message-',\n  NamedKey = 'named-key-',\n  BlockGlobal = 'block-',\n  BalanceHold = 'balance-hold-',\n  EntryPoint = 'entry-point-'\n}\n\n/**\n * Enum representing different types of blockchain key types used in the system.\n */\nexport enum KeyTypeID {\n  Account = 0,\n  Hash,\n  URef,\n  Transfer,\n  DeployInfo,\n  EraId,\n  Balance,\n  Bid,\n  Withdraw,\n  Dictionary,\n  SystemContractRegistry,\n  EraSummary,\n  Unbond,\n  ChainspecRegistry,\n  ChecksumRegistry,\n  BidAddr,\n  Package,\n  AddressableEntity,\n  ByteCode,\n  Message,\n  NamedKey,\n  BlockGlobal,\n  BalanceHold,\n  EntryPoint\n}\n\n/**\n * Enum for human-readable key type names, used to represent various key entities in the blockchain.\n */\nexport enum KeyTypeName {\n  Account = 'Account',\n  Hash = 'Hash',\n  URef = 'URef',\n  Transfer = 'Transfer',\n  Deploy = 'Deploy',\n  Era = 'Era',\n  Bid = 'Bid',\n  Balance = 'Balance',\n  Withdraw = 'Withdraw',\n  Dictionary = 'Dictionary',\n  SystemContractRegistry = 'SystemContractRegistry',\n  EraSummary = 'EraSummary',\n  Unbond = 'Unbond',\n  ChainspecRegistry = 'ChainspecRegistry',\n  ChecksumRegistry = 'ChecksumRegistry'\n}\n\n/**\n * Mapping of key type names to their corresponding KeyTypeID values.\n */\nexport const typeIDbyNames = new Map<KeyTypeName, KeyTypeID>([\n  [KeyTypeName.Account, KeyTypeID.Account],\n  [KeyTypeName.Hash, KeyTypeID.Hash],\n  [KeyTypeName.URef, KeyTypeID.URef],\n  [KeyTypeName.Transfer, KeyTypeID.Transfer],\n  [KeyTypeName.Deploy, KeyTypeID.DeployInfo],\n  [KeyTypeName.Era, KeyTypeID.EraId],\n  [KeyTypeName.Bid, KeyTypeID.Bid],\n  [KeyTypeName.Balance, KeyTypeID.Balance],\n  [KeyTypeName.Withdraw, KeyTypeID.Withdraw],\n  [KeyTypeName.Dictionary, KeyTypeID.Dictionary],\n  [KeyTypeName.SystemContractRegistry, KeyTypeID.SystemContractRegistry],\n  [KeyTypeName.EraSummary, KeyTypeID.EraSummary],\n  [KeyTypeName.Unbond, KeyTypeID.Unbond],\n  [KeyTypeName.ChainspecRegistry, KeyTypeID.ChainspecRegistry],\n  [KeyTypeName.ChecksumRegistry, KeyTypeID.ChecksumRegistry]\n]);\n\n/**\n * Mapping of blockchain key prefixes to their corresponding KeyKeyTypeID values.\n */\nexport const keyIDbyPrefix = new Map<PrefixName, KeyTypeID>([\n  [PrefixName.Account, KeyTypeID.Account],\n  [PrefixName.Hash, KeyTypeID.Hash],\n  [PrefixName.Transfer, KeyTypeID.Transfer],\n  [PrefixName.URef, KeyTypeID.URef],\n  [PrefixName.DeployInfo, KeyTypeID.DeployInfo],\n  [PrefixName.EraId, KeyTypeID.EraId],\n  [PrefixName.Bid, KeyTypeID.Bid],\n  [PrefixName.Balance, KeyTypeID.Balance],\n  [PrefixName.Withdraw, KeyTypeID.Withdraw],\n  [PrefixName.Dictionary, KeyTypeID.Dictionary],\n  [PrefixName.SystemContractRegistry, KeyTypeID.SystemContractRegistry],\n  [PrefixName.EraSummary, KeyTypeID.EraSummary],\n  [PrefixName.Unbond, KeyTypeID.Unbond],\n  [PrefixName.ChainspecRegistry, KeyTypeID.ChainspecRegistry],\n  [PrefixName.ChecksumRegistry, KeyTypeID.ChecksumRegistry],\n  [PrefixName.BidAddr, KeyTypeID.BidAddr],\n  [PrefixName.Package, KeyTypeID.Package],\n  [PrefixName.Entity, KeyTypeID.AddressableEntity],\n  [PrefixName.ByteCode, KeyTypeID.ByteCode],\n  [PrefixName.Message, KeyTypeID.Message],\n  [PrefixName.NamedKey, KeyTypeID.NamedKey],\n  [PrefixName.BlockGlobal, KeyTypeID.BlockGlobal],\n  [PrefixName.BalanceHold, KeyTypeID.BalanceHold],\n  [PrefixName.EntryPoint, KeyTypeID.EntryPoint]\n]);\n\n/**\n * Default byte length for keys.\n */\nexport const KEY_DEFAULT_BYTE_LENGTH = 32;\n\n/**\n * Represents a Key that can identify different types of entities in the system.\n */\n@jsonObject\nexport class Key {\n  @jsonMember({ name: 'Type', constructor: Number })\n  type: KeyTypeID;\n\n  @jsonMember(() => AccountHash, {\n    name: 'Account'\n  })\n  account?: AccountHash;\n\n  @jsonMember({\n    name: 'Hash',\n    constructor: Hash\n  })\n  hash?: Hash;\n\n  @jsonMember({\n    name: 'URef',\n    constructor: URef\n  })\n  uRef?: URef;\n\n  @jsonMember({\n    name: 'Transfer',\n    constructor: TransferHash\n  })\n  transfer?: TransferHash;\n\n  @jsonMember({\n    name: 'Deploy',\n    constructor: Hash\n  })\n  deploy?: Hash;\n\n  @jsonMember({\n    name: 'Era',\n    constructor: Era\n  })\n  era?: Era;\n\n  @jsonMember({\n    name: 'Balance',\n    constructor: Hash\n  })\n  balance?: Hash;\n\n  @jsonMember(() => AccountHash, {\n    name: 'Bid'\n  })\n  bid?: AccountHash;\n\n  @jsonMember(() => AccountHash, {\n    name: 'Withdraw'\n  })\n  withdraw?: AccountHash;\n\n  @jsonMember({\n    name: 'Dictionary',\n    constructor: Hash\n  })\n  dictionary?: Hash;\n\n  @jsonMember({\n    name: 'SystemContactRegistry',\n    constructor: Hash\n  })\n  systemContactRegistry?: Hash;\n\n  @jsonMember({\n    name: 'EraSummary',\n    constructor: Hash\n  })\n  eraSummary?: Hash;\n\n  @jsonMember(() => AccountHash, {\n    name: 'Unbond'\n  })\n  unbond?: AccountHash;\n\n  @jsonMember({\n    name: 'ChainspecRegistry',\n    constructor: Hash\n  })\n  chainspecRegistry?: Hash;\n\n  @jsonMember({\n    name: 'ChecksumRegistry',\n    constructor: Hash\n  })\n  checksumRegistry?: Hash;\n\n  @jsonMember({\n    name: 'BidAddr',\n    constructor: BidAddr\n  })\n  bidAddr?: BidAddr;\n\n  @jsonMember({\n    name: 'Package',\n    constructor: Hash\n  })\n  package?: Hash;\n\n  @jsonMember({\n    name: 'AddressableEntity',\n    constructor: EntityAddr\n  })\n  addressableEntity?: EntityAddr;\n\n  @jsonMember({\n    name: 'ByteCode',\n    constructor: ByteCode\n  })\n  byteCode?: ByteCode;\n\n  @jsonMember({\n    name: 'Message',\n    constructor: MessageAddr\n  })\n  message?: MessageAddr;\n\n  @jsonMember({\n    name: 'NamedKey',\n    constructor: NamedKeyAddr\n  })\n  namedKey?: NamedKeyAddr;\n\n  @jsonMember({\n    name: 'BlockGlobal',\n    constructor: BlockGlobalAddr\n  })\n  blockGlobal?: BlockGlobalAddr;\n\n  @jsonMember({\n    name: 'BalanceHold',\n    constructor: BalanceHoldAddr\n  })\n  balanceHold?: BalanceHoldAddr;\n\n  @jsonMember({\n    name: 'EntryPoint',\n    constructor: EntryPointAddr\n  })\n  entryPoint?: EntryPointAddr;\n\n  /**\n   * Converts the key to bytes.\n   * @returns A Uint8Array representing the serialized key.\n   */\n  bytes(withKeyTypeID = true): Uint8Array {\n    const typeBytes = withKeyTypeID ? Uint8Array.from([this.type]) : undefined;\n\n    switch (this.type) {\n      case KeyTypeID.Balance:\n        return Key.concatBytes(this.balance?.toBytes(), typeBytes);\n      case KeyTypeID.Bid:\n        return Key.concatBytes(this.bid?.toBytes(), typeBytes);\n      case KeyTypeID.Withdraw:\n        return Key.concatBytes(this.withdraw?.toBytes(), typeBytes);\n      case KeyTypeID.SystemContractRegistry:\n        return Key.concatBytes(\n          this.systemContactRegistry?.toBytes(),\n          typeBytes\n        );\n      case KeyTypeID.Unbond:\n        return Key.concatBytes(this.unbond?.toBytes(), typeBytes);\n      case KeyTypeID.ChainspecRegistry:\n        return Key.concatBytes(this.chainspecRegistry?.toBytes(), typeBytes);\n      case KeyTypeID.ChecksumRegistry:\n        return Key.concatBytes(this.checksumRegistry?.toBytes(), typeBytes);\n      case KeyTypeID.EraSummary:\n        return Key.concatBytes(this.eraSummary?.toBytes(), typeBytes);\n      case KeyTypeID.Account:\n        return Key.concatBytes(this.account?.toBytes(), typeBytes);\n      case KeyTypeID.Hash:\n        return Key.concatBytes(this.hash?.toBytes(), typeBytes);\n      case KeyTypeID.EraId:\n        return Key.concatBytes(this.era?.toBytes(), typeBytes);\n      case KeyTypeID.URef:\n        return Key.concatBytes(this.uRef?.bytes(), typeBytes);\n      case KeyTypeID.Transfer:\n        return Key.concatBytes(this.transfer?.toBytes(), typeBytes);\n      case KeyTypeID.DeployInfo:\n        return Key.concatBytes(this.deploy?.toBytes(), typeBytes);\n      case KeyTypeID.Dictionary:\n        return Key.concatBytes(this.dictionary?.toBytes(), typeBytes);\n      case KeyTypeID.BidAddr:\n        return Key.concatBytes(this.bidAddr?.toBytes(), typeBytes);\n      case KeyTypeID.Package:\n        return Key.concatBytes(this.package?.toBytes(), typeBytes);\n      case KeyTypeID.AddressableEntity:\n        return Key.concatBytes(this.addressableEntity?.toBytes(), typeBytes);\n      case KeyTypeID.ByteCode:\n        return Key.concatBytes(this.byteCode?.toBytes(), typeBytes);\n      case KeyTypeID.Message:\n        return Key.concatBytes(this.message?.toBytes(), typeBytes);\n      case KeyTypeID.NamedKey:\n        return Key.concatBytes(this.namedKey?.toBytes(), typeBytes);\n      case KeyTypeID.BlockGlobal:\n        return Key.concatBytes(this.blockGlobal?.toBytes(), typeBytes);\n      case KeyTypeID.BalanceHold:\n        return Key.concatBytes(this.balanceHold?.toBytes(), typeBytes);\n      case KeyTypeID.EntryPoint:\n        return Key.concatBytes(this.entryPoint?.toBytes(), typeBytes);\n      default:\n        return new Uint8Array();\n    }\n  }\n\n  /**\n   * Concatenates the type and field bytes.\n   * @param typeBytes - The bytes representing the type.\n   * @param fieldBytes - The bytes representing the field.\n   * @returns A Uint8Array with concatenated type and field bytes.\n   */\n  private static concatBytes(\n    fieldBytes: Uint8Array = Uint8Array.from([]),\n    typeBytes?: Uint8Array\n  ): Uint8Array {\n    if (typeBytes) {\n      const result = new Uint8Array(typeBytes.length + fieldBytes.length);\n      result.set(typeBytes);\n      result.set(fieldBytes, typeBytes.length);\n      return result;\n    }\n\n    return fieldBytes;\n  }\n\n  /**\n   * Converts the instance to a JSON-compatible hexadecimal string.\n   *\n   * @returns {string} The hex-encoded string representation of the instance.\n   */\n  public toJSON() {\n    return Buffer.from(this.bytes(false)).toString('hex');\n  }\n\n  /**\n   * Converts the key to a prefixed string representation.\n   * @returns The prefixed string of the key.\n   */\n  toPrefixedString(): string {\n    switch (this.type) {\n      case KeyTypeID.Account:\n        return this.account!.toPrefixedString();\n      case KeyTypeID.Hash:\n        return `${PrefixName.Hash}${this.hash?.toHex()}`;\n      case KeyTypeID.EraId:\n        return `${PrefixName.EraId}${this.era?.toJSON()}`;\n      case KeyTypeID.URef:\n        return this.uRef!.toPrefixedString();\n      case KeyTypeID.Transfer:\n        return this.transfer!.toPrefixedString();\n      case KeyTypeID.DeployInfo:\n        return `${PrefixName.DeployInfo}${this.deploy!.toHex()}`;\n      case KeyTypeID.Dictionary:\n        return `${PrefixName.Dictionary}${this.dictionary!.toHex()}`;\n      case KeyTypeID.Balance:\n        return `${PrefixName.Balance}${this.balance!.toHex()}`;\n      case KeyTypeID.Bid:\n        return `${PrefixName.Bid}${this.bid!.toHex()}`;\n      case KeyTypeID.Withdraw:\n        return `${PrefixName.Withdraw}${this.withdraw!.toHex()}`;\n      case KeyTypeID.SystemContractRegistry:\n        return `${\n          PrefixName.SystemContractRegistry\n        }${this.systemContactRegistry!.toHex()}`;\n      case KeyTypeID.EraSummary:\n        return `${PrefixName.EraSummary}${this.eraSummary!.toHex()}`;\n      case KeyTypeID.Unbond:\n        return `${PrefixName.Unbond}${this.unbond!.toHex()}`;\n      case KeyTypeID.ChainspecRegistry:\n        return `${\n          PrefixName.ChainspecRegistry\n        }${this.chainspecRegistry!.toHex()}`;\n      case KeyTypeID.ChecksumRegistry:\n        return `${\n          PrefixName.ChecksumRegistry\n        }${this.checksumRegistry!.toHex()}`;\n      case KeyTypeID.BidAddr:\n        return this.bidAddr!.toPrefixedString();\n      case KeyTypeID.Package:\n        return `${PrefixName.Package}${this.package!.toHex()}`;\n      case KeyTypeID.AddressableEntity:\n        return this.addressableEntity!.toPrefixedString();\n      case KeyTypeID.ByteCode:\n        return this.byteCode!.toPrefixedString();\n      case KeyTypeID.Message:\n        return this.message!.toPrefixedString();\n      case KeyTypeID.NamedKey:\n        return this.namedKey!.toPrefixedString();\n      case KeyTypeID.BlockGlobal:\n        return this.blockGlobal!.toPrefixedString();\n      case KeyTypeID.BalanceHold:\n        return this.balanceHold!.toPrefixedString();\n      case KeyTypeID.EntryPoint:\n        return this.entryPoint!.toPrefixedString();\n      default:\n        return '';\n    }\n  }\n\n  /**\n   * Converts the key to a string representation.\n   * @returns The string representation of the key.\n   */\n  toString(): string {\n    return this.toPrefixedString();\n  }\n\n  /**\n   * Creates a Key instance from a byte array.\n   * @param bytes - The byte array containing serialized key data.\n   * @returns A new Key instance.\n   * @throws Error if deserialization fails.\n   */\n  public static fromBytes(bytes: Uint8Array): IResultWithBytes<Key> {\n    const keyType = bytes[0] as KeyTypeID;\n    const contentBytes = bytes.subarray(1);\n\n    const result = new Key();\n    result.type = keyType;\n\n    switch (keyType) {\n      case KeyTypeID.Account:\n        const accountHash = Hash.fromBytes(contentBytes);\n        result.account = new AccountHash(accountHash?.result);\n        return { result, bytes: accountHash?.bytes };\n      case KeyTypeID.Hash:\n        const hashParsed = Hash.fromBytes(contentBytes);\n        result.hash = hashParsed?.result;\n        return { result, bytes: hashParsed?.bytes };\n      case KeyTypeID.URef:\n        const uref = URef.fromBytes(contentBytes);\n        result.uRef = uref?.result;\n        return { result, bytes: uref?.bytes };\n      case KeyTypeID.Transfer:\n        const transferHash = Hash.fromBytes(contentBytes);\n        result.transfer = new TransferHash(transferHash?.result.toHex());\n        return { result, bytes: transferHash?.bytes };\n      case KeyTypeID.DeployInfo:\n        const deploy = Hash.fromBytes(contentBytes);\n        result.deploy = deploy?.result;\n        return { result, bytes: deploy?.bytes };\n      case KeyTypeID.EraId:\n        const [eraBytes, eraRemainder] = splitAt(1, contentBytes);\n        result.era = Era.fromBytes(eraBytes);\n        return { result, bytes: eraRemainder };\n      case KeyTypeID.Balance:\n        const parsed = Hash.fromBytes(contentBytes);\n        result.balance = parsed?.result;\n\n        return { result, bytes: parsed?.bytes };\n      case KeyTypeID.Bid:\n        const bid = Hash.fromBytes(contentBytes);\n        result.bid = new AccountHash(bid.result);\n\n        return { result, bytes: bid?.bytes };\n      case KeyTypeID.Withdraw:\n        const withdraw = Hash.fromBytes(contentBytes);\n        const withdrawHash = withdraw?.result;\n        result.withdraw = new AccountHash(withdrawHash);\n        return { result, bytes: withdraw?.bytes };\n      case KeyTypeID.Dictionary:\n        const dictionary = Hash.fromBytes(contentBytes);\n        result.dictionary = dictionary?.result;\n        return { result, bytes: dictionary?.bytes };\n      case KeyTypeID.SystemContractRegistry:\n        const systemContractRegistry = Hash.fromBytes(contentBytes);\n        result.systemContactRegistry = systemContractRegistry?.result;\n        return { result, bytes: systemContractRegistry?.bytes };\n      case KeyTypeID.EraSummary:\n        const eraSummary = Hash.fromBytes(contentBytes);\n        result.eraSummary = eraSummary?.result;\n        return { result, bytes: eraSummary?.bytes };\n      case KeyTypeID.Unbond:\n        const { result: unbondHash, bytes: unbondBytes } = Hash.fromBytes(\n          contentBytes\n        );\n        result.unbond = new AccountHash(unbondHash);\n        return { result, bytes: unbondBytes };\n      case KeyTypeID.ChainspecRegistry:\n        const [chainBytes, chainspecRegistryBytes] = splitAt(\n          KEY_DEFAULT_BYTE_LENGTH,\n          contentBytes\n        );\n        result.chainspecRegistry = Hash.fromBytes(chainBytes)?.result;\n        return { result, bytes: chainspecRegistryBytes };\n      case KeyTypeID.ChecksumRegistry:\n        const checksumRegistry = Hash.fromBytes(contentBytes);\n        result.checksumRegistry = checksumRegistry?.result;\n        return { result, bytes: checksumRegistry?.bytes };\n      case KeyTypeID.BidAddr:\n        const { result: bidAddr, bytes: bidAddrBytes } = BidAddr.fromBytes(\n          contentBytes\n        );\n        result.bidAddr = bidAddr;\n\n        return { result, bytes: bidAddrBytes };\n      case KeyTypeID.Package:\n        const packageHash = Hash.fromBytes(contentBytes);\n        result.package = packageHash?.result;\n        return { result, bytes: packageHash?.bytes };\n      case KeyTypeID.AddressableEntity:\n        const {\n          result: entityAddr,\n          bytes: entityAddrBytes\n        } = EntityAddr.fromBytes(contentBytes);\n        result.addressableEntity = entityAddr;\n        return { result, bytes: entityAddrBytes };\n      case KeyTypeID.ByteCode:\n        const { result: byteCode, bytes: byteCodeBytes } = ByteCode.fromBytes(\n          contentBytes\n        );\n        result.byteCode = byteCode;\n\n        return { result, bytes: byteCodeBytes };\n      case KeyTypeID.Message:\n        const {\n          result: messageAddr,\n          bytes: messageAddrBytes\n        } = MessageAddr.fromBytes(contentBytes);\n        result.message = messageAddr;\n        return { result, bytes: messageAddrBytes };\n      case KeyTypeID.NamedKey:\n        const {\n          result: namedKey,\n          bytes: namedKeyBytes\n        } = NamedKeyAddr.fromBytes(contentBytes);\n        result.namedKey = namedKey;\n        return { result, bytes: namedKeyBytes };\n      case KeyTypeID.BlockGlobal:\n        const {\n          result: blockGlobal,\n          bytes: blockGlobalBytes\n        } = BlockGlobalAddr.fromBytes(contentBytes);\n        result.blockGlobal = blockGlobal;\n        return { result, bytes: blockGlobalBytes };\n      case KeyTypeID.BalanceHold:\n        const {\n          result: balanceHold,\n          bytes: balanceHoldBytes\n        } = BalanceHoldAddr.fromBytes(contentBytes);\n        result.balanceHold = balanceHold;\n        return { result, bytes: balanceHoldBytes };\n      case KeyTypeID.EntryPoint:\n        const {\n          result: entryPoint,\n          bytes: entryPointBytes\n        } = EntryPointAddr.fromBytes(contentBytes);\n        result.entryPoint = entryPoint;\n        return { result, bytes: entryPointBytes };\n      default:\n        throw new Error('Missing key type');\n    }\n  }\n\n  /**\n   * Finds the prefix name by matching the source string with a map of prefixes.\n   * @param source - The string to check for a matching prefix.\n   * @param prefixes - The map of prefix names to KeyTypeID.\n   * @returns The matching PrefixName or undefined if not found.\n   */\n  static findPrefixByMap(\n    source: string,\n    prefixes: Map<PrefixName, KeyTypeID>\n  ): PrefixName {\n    let result: PrefixName = '' as PrefixName;\n\n    prefixes.forEach((_, prefix) => {\n      if (source.startsWith(prefix)) {\n        if (\n          prefix === PrefixName.EraId &&\n          source.startsWith(PrefixName.EraSummary)\n        ) {\n          result = PrefixName.EraSummary;\n        } else if (\n          prefix === PrefixName.Bid &&\n          source.startsWith(PrefixName.BidAddr)\n        ) {\n          result = PrefixName.BidAddr;\n        } else if (\n          prefix === PrefixName.Balance &&\n          source.startsWith(PrefixName.BalanceHold)\n        ) {\n          result = PrefixName.BalanceHold;\n        } else {\n          result = prefix;\n        }\n        return; // Exit early from forEach if a match is found\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * Creates a Key instance based on the type ID and source string.\n   * @param source - The string containing the key data.\n   * @param typeID - The TypeID of the key.\n   * @returns A new Key instance.\n   * @throws Error if the type is not found or invalid.\n   */\n  static createByType(source: string, typeID: KeyTypeID): Key {\n    const result = new Key();\n    result.type = typeID;\n\n    switch (result.type) {\n      case KeyTypeID.EraId:\n        result.era = Era.fromJSON(source.replace(PrefixName.EraId, ''));\n\n        break;\n      case KeyTypeID.Hash:\n        result.hash = Hash.fromHex(source.replace(PrefixName.Hash, ''));\n        break;\n      case KeyTypeID.URef:\n        result.uRef = URef.fromString(source);\n        break;\n      case KeyTypeID.Account:\n        result.account = AccountHash.fromString(source);\n        break;\n      case KeyTypeID.Transfer:\n        result.transfer = TransferHash.fromJSON(source);\n        break;\n      case KeyTypeID.DeployInfo:\n        result.deploy = Hash.fromHex(source.replace(PrefixName.DeployInfo, ''));\n        break;\n      case KeyTypeID.Balance:\n        result.balance = Hash.fromHex(source.replace(PrefixName.Balance, ''));\n        break;\n      case KeyTypeID.Bid:\n        result.bid = AccountHash.fromString(source.replace(PrefixName.Bid, ''));\n        break;\n      case KeyTypeID.Withdraw:\n        result.withdraw = AccountHash.fromString(\n          source.replace(PrefixName.Withdraw, '')\n        );\n        break;\n      case KeyTypeID.Dictionary:\n        result.dictionary = Hash.fromHex(\n          source.replace(PrefixName.Dictionary, '')\n        );\n        break;\n      case KeyTypeID.SystemContractRegistry:\n        result.systemContactRegistry = Hash.fromHex(\n          source.replace(PrefixName.SystemContractRegistry, '')\n        );\n        break;\n      case KeyTypeID.EraSummary:\n        result.eraSummary = Hash.fromHex(\n          source.replace(PrefixName.EraSummary, '')\n        );\n        break;\n      case KeyTypeID.Unbond:\n        result.unbond = AccountHash.fromString(\n          source.replace(PrefixName.Unbond, '')\n        );\n        break;\n      case KeyTypeID.ChainspecRegistry:\n        result.chainspecRegistry = Hash.fromHex(\n          source.replace(PrefixName.ChainspecRegistry, '')\n        );\n        break;\n      case KeyTypeID.ChecksumRegistry:\n        result.checksumRegistry = Hash.fromHex(\n          source.replace(PrefixName.ChecksumRegistry, '')\n        );\n        break;\n      case KeyTypeID.BidAddr:\n        result.bidAddr = BidAddr.fromHex(\n          source.replace(PrefixName.BidAddr, '')\n        );\n        break;\n      case KeyTypeID.Package:\n        result.package = Hash.fromHex(source.replace(PrefixName.Package, ''));\n        break;\n      case KeyTypeID.AddressableEntity:\n        result.addressableEntity = EntityAddr.fromPrefixedString(\n          source.replace(PrefixName.AddressableEntity, '')\n        );\n        break;\n      case KeyTypeID.ByteCode:\n        result.byteCode = ByteCode.fromJSON(\n          source.replace(PrefixName.ByteCode, '')\n        );\n        break;\n      case KeyTypeID.Message:\n        result.message = MessageAddr.fromString(source);\n        break;\n      case KeyTypeID.NamedKey:\n        result.namedKey = NamedKeyAddr.fromString(\n          source.replace(PrefixName.NamedKey, '')\n        );\n        break;\n      case KeyTypeID.BlockGlobal:\n        result.blockGlobal = BlockGlobalAddr.fromString(\n          source.replace(PrefixName.BlockGlobal, '')\n        );\n        break;\n      case KeyTypeID.BalanceHold:\n        result.balanceHold = BalanceHoldAddr.fromString(\n          source.replace(PrefixName.BalanceHold, '')\n        );\n        break;\n      case KeyTypeID.EntryPoint:\n        result.entryPoint = EntryPointAddr.fromString(\n          source.replace(PrefixName.EntryPoint, '')\n        );\n        break;\n      default:\n        throw new Error(`type is not found -> source: ${source}`);\n    }\n    return result;\n  }\n\n  /**\n   * Parses a Key instance from a string representation.\n   * @param source - The string containing the key data.\n   * @returns A new Key instance.\n   * @throws Error if the format is invalid or unexpected.\n   */\n  static parseTypeByString(source: string): Key {\n    const openBracketIndex = source.indexOf('(');\n    if (openBracketIndex === -1) {\n      throw new Error('invalid key format');\n    }\n\n    const typeIndexStart = 5;\n    const keyTypeStr = source.slice(typeIndexStart, openBracketIndex);\n    const keyValue = source.slice(openBracketIndex + 1, -1);\n    const typeID = typeIDbyNames.get(keyTypeStr as KeyTypeName);\n    if (typeID === undefined) {\n      throw new Error('unexpected KeyType');\n    }\n\n    return Key.createByType(keyValue, typeID);\n  }\n\n  /**\n   * Creates a new Key instance from a source string.\n   * @param source - The string containing the key data.\n   * @returns A new Key instance.\n   * @throws Error if the prefix is not found or the source is invalid.\n   */\n  static newKey(source: string): Key {\n    if (source.length === Hash.StringHashLen) {\n      const defaultHash = Hash.fromHex(source);\n      const result = new Key();\n      result.type = KeyTypeID.Hash;\n      result.hash = defaultHash;\n      return result;\n    }\n\n    if (source.startsWith('Key::')) {\n      return Key.parseTypeByString(source);\n    }\n\n    if (source.startsWith('00') && source.length === Hash.StringHashLen + 2) {\n      return Key.createByType(source.slice(2), KeyTypeID.Account);\n    }\n\n    const prefix = Key.findPrefixByMap(source, keyIDbyPrefix);\n    if (!prefix) {\n      throw new Error(`prefix is not found, source: ${source}`);\n    }\n\n    return Key.createByType(source, keyIDbyPrefix.get(prefix)!);\n  }\n}\n\n/**\n * Splits the array at a given index.\n * @param i - The index to split the array.\n * @param arr - The Uint8Array to split.\n * @returns A new Uint8Array from the start to index i.\n * @throws Error if the index is out of bounds.\n */\nexport const splitAt = (i: number, arr: Uint8Array) => {\n  if (i > arr.length - 1) {\n    throw new Error('Early end of stream when deserializing data.');\n  }\n  const clonedArray = new Uint8Array(arr);\n  return [clonedArray.subarray(0, i), clonedArray.subarray(i)];\n};\n","import { concat } from '@ethersproject/bytes';\nimport { jsonMember, jsonObject } from 'typedjson';\n\nimport { Hash } from './Hash';\nimport { IResultWithBytes } from '../clvalue';\nimport { EntityAddr } from './EntityAddr';\n\n/** Prefix for topics in MessageAddr. */\nconst TopicPrefix = 'topic-';\n\n/** Prefix for messages in MessageAddr. */\nconst PrefixNameMessage = 'message-';\n\n/**\n * Represents an addressable message within the system. The address is composed of an associated entity address,\n * a hashed topic name, and an optional message index. It offers various utilities for serialization, deserialization,\n * and converting the address into prefixed string and byte representations.\n */\n@jsonObject\nexport class MessageAddr {\n  /** The address of the associated entity. */\n  @jsonMember({\n    name: 'EntityAddr',\n    constructor: EntityAddr,\n    deserializer: json => {\n      if (!json) return;\n      return EntityAddr.fromJSON(json);\n    },\n    serializer: value => value.toJSON()\n  })\n  public entityAddr: EntityAddr;\n\n  /** The hash of the topic name associated with this message. */\n  @jsonMember({ name: 'TopicNameHash', constructor: Hash })\n  public topicNameHash: Hash;\n\n  /** The optional index of the message within the topic. */\n  @jsonMember({ name: 'MessageIndex', constructor: Number })\n  public messageIndex?: number;\n\n  /**\n   * Creates an instance of MessageAddr.\n   * @param entityAddr - The address of the associated entity.\n   * @param topicNameHash - The hash of the topic name.\n   * @param messageIndex - Optional index of the message.\n   */\n  constructor(\n    entityAddr: EntityAddr,\n    topicNameHash: Hash,\n    messageIndex?: number\n  ) {\n    this.entityAddr = entityAddr;\n    this.topicNameHash = topicNameHash;\n    this.messageIndex = messageIndex;\n  }\n\n  /**\n   * Instantiates a `MessageAddr` from its string representation.\n   * The string should follow the prefixed format used in the system.\n   * @param source - The string representation of the MessageAddr.\n   * @returns A new MessageAddr instance.\n   * @throws Error if the provided string does not match the expected format.\n   */\n  static fromString(source: string): MessageAddr {\n    if (!source.startsWith(PrefixNameMessage)) {\n      throw new Error(\n        `Key not valid. It should start with '${PrefixNameMessage}'.`\n      );\n    }\n\n    source = source.substring(PrefixNameMessage.length);\n\n    let hashAddr: string;\n    let topicHash: string;\n    let index: number | undefined;\n\n    if (source.startsWith(TopicPrefix)) {\n      source = source.substring(TopicPrefix.length);\n      const parts = source.split('-');\n\n      if (parts.length !== 4) {\n        throw new Error(\n          'Key not valid. It should have a hash address and a topic hash.'\n        );\n      }\n\n      hashAddr = `${parts[0]}-${parts[1]}-${parts[2]}`;\n      topicHash = parts[3];\n    } else {\n      const parts = source.split('-');\n\n      if (parts.length !== 5) {\n        throw new Error(\n          'Key not valid. It should have a hash address, a topic hash, and a message index.'\n        );\n      }\n\n      hashAddr = `${parts[0]}-${parts[1]}-${parts[2]}`;\n      topicHash = parts[3];\n\n      if (parts[4].length === 0) {\n        throw new Error('Key not valid. Expected a non-empty message index.');\n      }\n\n      index = parseInt(parts[4], 16);\n    }\n\n    return new MessageAddr(\n      EntityAddr.fromPrefixedString(hashAddr),\n      Hash.fromHex(topicHash),\n      index\n    );\n  }\n\n  /**\n   * Converts the `MessageAddr` into a standardized prefixed string format.\n   * Useful for displaying or storing the address in text format.\n   * @returns A prefixed string representation of the `MessageAddr`.\n   */\n  toPrefixedString(): string {\n    let result = PrefixNameMessage;\n    if (!this.messageIndex) {\n      result += TopicPrefix;\n    }\n    result += this.entityAddr.toPrefixedString();\n    result += '-' + this.topicNameHash.toHex();\n\n    if (this.messageIndex !== undefined) {\n      result += `-${this.messageIndex}`;\n    }\n\n    return result;\n  }\n\n  /**\n   * Serializes the `MessageAddr` into a JSON-compatible string format.\n   * Primarily used for JSON-based data exchange.\n   * @returns A JSON string representation of the `MessageAddr`.\n   */\n  toJSON(): string {\n    return this.toPrefixedString();\n  }\n\n  /**\n   * Constructs a `MessageAddr` instance from a byte array.\n   * Interprets the byte array in a structured format to extract\n   * the entity address, topic name hash, and optionally, the message index.\n   * @param bytes - The byte array representing the MessageAddr.\n   * @returns A new `MessageAddr` instance wrapped in an `IResultWithBytes`.\n   */\n  static fromBytes(bytes: Uint8Array): IResultWithBytes<MessageAddr> {\n    const entityAddr = EntityAddr.fromBytes(bytes);\n    const topicNameHash = Hash.fromBytes(bytes);\n\n    let messageIndex: number | undefined;\n    if (bytes.length > 0) {\n      const messageIndexArray = bytes.slice(bytes.length - 4);\n      messageIndex = new DataView(messageIndexArray.buffer).getUint32(0, true);\n    }\n\n    return {\n      result: new MessageAddr(\n        entityAddr?.result,\n        topicNameHash?.result,\n        messageIndex\n      ),\n      bytes: concat([entityAddr.bytes, topicNameHash.bytes])\n    };\n  }\n\n  /**\n   * Converts the `MessageAddr` to a byte array, enabling binary data storage.\n   * Useful for transmission or storage where a compact format is needed.\n   * @returns A `Uint8Array` representing the `MessageAddr`.\n   */\n  toBytes(): Uint8Array {\n    const entityBytes = this.entityAddr.toBytes();\n    const topicBytes = this.topicNameHash.toBytes();\n    const result = new Uint8Array(\n      entityBytes.length +\n        topicBytes.length +\n        (this.messageIndex !== undefined ? 4 : 0)\n    );\n\n    result.set(entityBytes);\n    result.set(topicBytes, entityBytes.length);\n\n    if (this.messageIndex !== undefined) {\n      const indexBuffer = new Uint8Array(4);\n      new DataView(indexBuffer.buffer).setUint32(0, this.messageIndex, true);\n      result.set(indexBuffer, entityBytes.length + topicBytes.length);\n    }\n\n    return result;\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { EntityAddr } from './EntityAddr';\nimport { PrefixName } from './Key';\nimport { IResultWithBytes } from '../clvalue';\n\n/**\n * Represents a named key address, which is identified by a base entity address and a unique name.\n * The name is represented in bytes to allow for efficient encoding and decoding.\n */\n@jsonObject\nexport class NamedKeyAddr {\n  /**\n   * The base address of the entity to which this key belongs.\n   */\n  @jsonMember({ name: 'BaseAddr', constructor: EntityAddr })\n  baseAddr: EntityAddr;\n\n  /**\n   * The bytes representing the name associated with the address.\n   * Expected to be a 32-byte array for validity.\n   */\n  @jsonMember({ name: 'NameBytes', constructor: Uint8Array })\n  nameBytes: Uint8Array;\n\n  /**\n   * Creates an instance of NamedKeyAddr.\n   * @param baseAddr - The base address of the entity.\n   * @param nameBytes - The 32-byte array representing the name associated with the address.\n   */\n  constructor(baseAddr: EntityAddr, nameBytes: Uint8Array) {\n    this.baseAddr = baseAddr;\n    this.nameBytes = nameBytes;\n  }\n\n  /**\n   * Creates a NamedKeyAddr instance from a string representation, parsing the base address and name bytes.\n   * The string should follow the expected prefixed format used by the system.\n   * @param source - The string representation of the NamedKeyAddr.\n   * @returns A new NamedKeyAddr instance.\n   * @throws Error if the nameBytes length is not exactly 32 bytes.\n   */\n  static fromString(source: string): NamedKeyAddr {\n    const nameBytesData = source.substring(source.lastIndexOf('-') + 1);\n    const baseAddrSource = source\n      .substring(0, source.lastIndexOf('-'))\n      .replace(PrefixName.AddressableEntity, '');\n\n    const nameBytes = Buffer.from(nameBytesData, 'hex');\n    if (nameBytes.length !== 32) {\n      throw new Error('Invalid NameBytes length, expected 32 bytes.');\n    }\n\n    const baseAddr = EntityAddr.fromPrefixedString(baseAddrSource);\n    return new NamedKeyAddr(baseAddr, nameBytes);\n  }\n\n  /**\n   * Converts the NamedKeyAddr instance to a standardized prefixed string format.\n   * This format includes the base address and the name bytes, represented in hexadecimal.\n   * @returns A prefixed string representation of the NamedKeyAddr.\n   */\n  toPrefixedString(): string {\n    return `${\n      PrefixName.NamedKey\n    }${this.baseAddr.toPrefixedString()}-${Buffer.from(this.nameBytes).toString(\n      'hex'\n    )}`;\n  }\n\n  /**\n   * Serializes the NamedKeyAddr to a JSON-compatible string.\n   * Primarily used for exchanging data in JSON format.\n   * @returns A JSON-compatible string representation of the NamedKeyAddr.\n   */\n  toJSON(): string {\n    return this.toPrefixedString();\n  }\n\n  /**\n   * Constructs a NamedKeyAddr instance from a byte array representation.\n   * The byte array should contain the base address followed by the name bytes.\n   * @param bytes - The byte array representing the NamedKeyAddr.\n   * @returns An `IResultWithBytes` object containing the NamedKeyAddr instance and any remaining bytes.\n   * @throws Error if the byte array does not contain at least 32 bytes for the name.\n   */\n  static fromBytes(bytes: Uint8Array): IResultWithBytes<NamedKeyAddr> {\n    const baseAddr = EntityAddr.fromBytes(bytes);\n\n    if (bytes.length < 32) {\n      throw new Error('Insufficient bytes for NameBytes; expected 32 bytes.');\n    }\n    const nameBytes = bytes.slice(0, 32);\n    return {\n      result: new NamedKeyAddr(baseAddr?.result, nameBytes),\n      bytes: baseAddr?.bytes\n    };\n  }\n\n  /**\n   * Converts the NamedKeyAddr to a byte array for efficient storage or transmission.\n   * The byte array includes the base address followed by the 32-byte name.\n   * @returns A Uint8Array representing the NamedKeyAddr.\n   */\n  toBytes(): Uint8Array {\n    return Buffer.concat([this.baseAddr.toBytes(), this.nameBytes]);\n  }\n}\n","import { jsonMember, jsonObject } from 'typedjson';\nimport { Hash } from './Hash';\n\n/** Prefix for transfer hashes in TransferHash. */\nexport const PrefixNameTransfer = 'transfer-';\n\n/**\n * Represents a transfer hash, extending the `Hash` class, with an additional prefix specific to transfer entities.\n * This prefix aids in identifying transfer-related hashes within the system.\n */\n@jsonObject\nexport class TransferHash extends Hash {\n  /**\n   * The origin prefix used to identify transfer-related hashes, defaulting to `transfer-`.\n   */\n  @jsonMember({ name: 'originPrefix', constructor: String })\n  originPrefix: string = PrefixNameTransfer;\n\n  /**\n   * Creates an instance of TransferHash.\n   * Supports both hex strings (with or without the transfer prefix) and Uint8Array representations of the hash.\n   * @param source - A hex string or Uint8Array representing the hash.\n   */\n  constructor(source: string | Uint8Array) {\n    if (typeof source === 'string') {\n      const { hashBytes, originPrefix } = TransferHash.initializeFromSource(\n        source\n      );\n      // @ts-ignore\n      super(hashBytes);\n      this.originPrefix = originPrefix;\n    } else {\n      super(source);\n    }\n  }\n\n  /**\n   * Parses a source string to extract the hash bytes and verify if it includes the transfer prefix.\n   * @param source - The source string representing the transfer hash, optionally prefixed.\n   * @returns An object containing the hash bytes and the detected origin prefix.\n   */\n  private static initializeFromSource(\n    source: string\n  ): { hashBytes: Uint8Array; originPrefix: string } {\n    const originPrefix = source.startsWith(PrefixNameTransfer)\n      ? PrefixNameTransfer\n      : '';\n    const hashHex = source.replace(originPrefix, '');\n    return {\n      hashBytes: Uint8Array.from(Buffer.from(hashHex, 'hex')),\n      originPrefix\n    };\n  }\n\n  /**\n   * Converts the TransferHash to a standardized prefixed string format.\n   * This format includes the transfer-specific prefix followed by the hash in hexadecimal format.\n   * @returns A string representation of the TransferHash with its prefix.\n   */\n  toPrefixedString(): string {\n    return `${this.originPrefix}${this.toHex()}`;\n  }\n\n  /**\n   * Serializes the TransferHash to a JSON-compatible string.\n   * Primarily used for JSON-based data exchange or storage.\n   * @returns A JSON-compatible string representation of the TransferHash.\n   */\n  toJSON(): string {\n    return this.toPrefixedString();\n  }\n\n  /**\n   * Instantiates a TransferHash from a JSON-compatible string, allowing for easy deserialization.\n   * The string should represent the TransferHash in prefixed hex format.\n   * @param json - The JSON string representing the TransferHash.\n   * @returns A new TransferHash instance initialized from the JSON string.\n   */\n  static fromJSON(json: string): TransferHash {\n    return new TransferHash(json);\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { IResultWithBytes } from '../clvalue';\nimport { Conversions } from '../Conversions';\nimport { concat } from '@ethersproject/bytes';\n\n/**\n * Enum representing the access permissions of a URef.\n * These permissions define the allowed actions on the URef, such as read, write, or add.\n */\nexport enum UrefAccess {\n  None = 0,\n  Read,\n  Write,\n  Add,\n  ReadWrite,\n  ReadAdd,\n  AddWrite,\n  ReadAddWrite\n}\n\n/** Error thrown when the URef format is incorrect. */\nexport const ErrIncorrectUrefFormat = new Error('incorrect uref format');\n\n/** Prefix for URef strings. */\nexport const PrefixNameURef = 'uref-';\n\n/** Length of a URef hash in bytes. */\nexport const ByteHashLen = 32;\n\n/**\n * Represents an Unforgeable Reference (URef) in the system, identified by a unique hash and associated with specific access permissions.\n * A URef is used to control permissions and securely reference data in smart contracts.\n */\n@jsonObject\nexport class URef {\n  /** The unique data (hash) associated with the URef, represented as a 32-byte array. */\n  @jsonMember(Uint8Array)\n  data: Uint8Array;\n\n  /** The access permissions assigned to this URef, defined by the `UrefAccess` enum. */\n  @jsonMember({ constructor: Number })\n  access: UrefAccess;\n\n  /**\n   * Creates an instance of URef.\n   * @param data - The data (hash) of the URef, expected to be exactly 32 bytes.\n   * @param access - The access permissions for the URef, specified by the `UrefAccess` enum.\n   * @throws Error if the data length is not equal to `ByteHashLen` or if the access rights are unsupported.\n   */\n  constructor(data: Uint8Array, access: UrefAccess) {\n    if (data.length !== ByteHashLen) {\n      throw new Error(`Invalid URef data length; expected ${ByteHashLen}`);\n    }\n\n    if (!Object.values(UrefAccess).includes(access)) {\n      throw new Error('Unsupported AccessRights');\n    }\n\n    this.data = data;\n    this.access = access;\n  }\n\n  /**\n   * Converts the URef to a byte array representation.\n   * This format is useful for serialization or data transfer.\n   * @returns A Uint8Array representing the URef, combining its data and access bytes.\n   */\n  bytes(): Uint8Array {\n    const accessBytes = new Uint8Array([this.access]);\n    return concat([this.data, accessBytes]);\n  }\n\n  /**\n   * Converts the URef to a prefixed string representation, following the standard format for URef strings.\n   * @returns A string with the URef prefix, data in hex format, and access permissions in hex format.\n   */\n  toPrefixedString(): string {\n    return [PrefixNameURef.replace('-', ''), this.toString()].join('-');\n  }\n\n  /**\n   * Converts the URef to a string, displaying its data as a hexadecimal string along with the access permissions.\n   * @returns A string representation of the URef.\n   */\n  toString(): string {\n    return [\n      Conversions.encodeBase16(this.data),\n      new Array(3).join('0').slice((3 || 2) * -1) + this.access.toString(8)\n    ].join('-');\n  }\n\n  /**\n   * Sets or updates the access permissions for the URef.\n   * @param access - The new access permission to set, defined by the `UrefAccess` enum.\n   */\n  setAccess(access: UrefAccess) {\n    this.access = access;\n  }\n\n  /**\n   * Serializes the URef to a JSON-compatible string format.\n   * @returns A JSON string representation of the URef.\n   */\n  toJSON(): string {\n    return this.toPrefixedString();\n  }\n\n  /**\n   * Creates a URef from a JSON-compatible string representation.\n   * @param data - The JSON string representing the URef.\n   * @returns A new URef instance.\n   */\n  static fromJSON(data: string): URef {\n    return URef.fromString(data);\n  }\n\n  /**\n   * Parses a URef from a prefixed string format, which includes its data and access permissions.\n   * @param source - The string containing the URef data, starting with the URef prefix.\n   * @returns A new URef instance.\n   * @throws ErrIncorrectUrefFormat if the string format does not match the expected URef format.\n   */\n  static fromString(source: string): URef {\n    if (!source.startsWith(`${PrefixNameURef}`)) {\n      throw new Error(\"Prefix is not 'uref-'\");\n    }\n\n    const parts = source.substring(`${PrefixNameURef}`.length).split('-', 2);\n\n    if (parts.length !== 2) {\n      throw ErrIncorrectUrefFormat;\n    }\n    const data = Conversions.decodeBase16(parts[0]);\n    const access = parseInt(parts[1], 8);\n    return new URef(data, access as UrefAccess);\n  }\n\n  /**\n   * Creates a URef from a byte array representation, expecting the hash data and access byte.\n   * @param bytes - The byte array containing the URef data and access byte.\n   * @returns A new URef instance wrapped in an `IResultWithBytes` object.\n   * @throws Error if the byte array length does not match the expected URef structure.\n   */\n  static fromBytes(bytes: Uint8Array): IResultWithBytes<URef> {\n    if (bytes.length !== ByteHashLen + 1) {\n      throw new Error('Invalid URef bytes length');\n    }\n    const data = bytes.subarray(0, ByteHashLen);\n    const access = bytes[ByteHashLen];\n    return {\n      result: new URef(data, access as UrefAccess),\n      bytes: bytes.subarray(ByteHashLen + 1)\n    };\n  }\n\n  /**\n   * Returns the byte array representation of the URef, often used for driving values in other contexts.\n   * @returns A Uint8Array representing the URef.\n   */\n  toDriverValue(): Uint8Array {\n    return this.bytes();\n  }\n\n  /**\n   * Creates a URef instance from an ArrayBuffer, extracting the hash data and access byte.\n   * @param arrayBuffer - The ArrayBuffer containing the URef data.\n   * @returns A new URef instance.\n   * @throws Error if the ArrayBuffer size is smaller than expected.\n   */\n  public static fromBuffer(arrayBuffer: ArrayBuffer): URef {\n    const dataView = new DataView(arrayBuffer);\n\n    if (dataView.byteLength < ByteHashLen + 1) {\n      throw new Error('ArrayBuffer size is too small');\n    }\n\n    const data = new Uint8Array(arrayBuffer.slice(0, ByteHashLen));\n    const access = dataView.getUint8(ByteHashLen);\n\n    return new URef(data, access);\n  }\n}\n","export * from './Account';\nexport * from './AddressableEntity';\nexport * from './BalanceHoldAddr';\nexport * from './BidAddr';\nexport * from './BlockGlobalAddr';\nexport * from './EntityAddr';\nexport * from './EntryPointAddr';\nexport * from './Era';\nexport * from './Hash';\nexport * from './Key';\nexport * from './MessageAddr';\nexport * from './NewNamedKeyAddr';\nexport * from './Transfer';\nexport * from './URef';\nexport * from './ByteCode';\nexport * from './Contract';\nexport * from './ContractPackage';\n","/**\n * Enum representing supported cryptographic key algorithms.\n * Each value corresponds to a specific cryptographic algorithm used in digital signatures.\n */\nexport enum KeyAlgorithm {\n  /** ED25519 digital signature algorithm */\n  ED25519 = 1,\n\n  /** SECP256K1 elliptic curve digital signature algorithm */\n  SECP256K1 = 2\n}\n\n/**\n * Settings for each key algorithm, providing additional metadata.\n * Maps `KeyAlgorithm` enum values to their corresponding name.\n */\nexport const KeySettings: Record<KeyAlgorithm, { name: string }> = {\n  [KeyAlgorithm.ED25519]: { name: 'ED25519' },\n  [KeyAlgorithm.SECP256K1]: { name: 'SECP256K1' }\n};\n\n/**\n * Utility class for working with key algorithms, allowing conversion to string and byte formats.\n * Provides convenient methods to retrieve the algorithm name and numeric representation.\n */\nexport class KeyAlgorithmUtils {\n  /**\n   * Creates an instance of KeyAlgorithmUtils.\n   * @param algorithm - The key algorithm to manage, specified by the `KeyAlgorithm` enum.\n   */\n  constructor(private algorithm: KeyAlgorithm) {}\n\n  /**\n   * Returns the name of the key algorithm as a string.\n   * @returns The name of the key algorithm, as defined in `KeySettings`.\n   */\n  toString(): string {\n    return KeySettings[this.algorithm].name;\n  }\n\n  /**\n   * Returns the numeric byte representation of the key algorithm.\n   * @returns The numeric value of the key algorithm.\n   */\n  toByte(): number {\n    return this.algorithm;\n  }\n}\n","import { concat } from '@ethersproject/bytes';\n\nimport { PublicKey } from './PublicKey';\nimport { PrivateKey as Ed25519PrivateKey } from './ed25519/PrivateKey';\nimport { PrivateKey as Secp256k1PrivateKey } from './secp256k1/PrivateKey';\nimport { KeyAlgorithm } from './Algorithm';\n\n/**\n * Interface representing the structure and methods of a private key, including\n * functions to retrieve public key bytes, sign messages, and export to PEM format.\n */\nexport interface PrivateKeyInternal {\n  /** Retrieves the public key bytes. */\n  publicKeyBytes(): Uint8Array;\n  toBytes(): Uint8Array;\n\n  /**\n   * Signs a message using the private key.\n   * @param message - The message to sign.\n   * @returns A promise resolving to the signature bytes.\n   */\n  sign(message: Uint8Array): Uint8Array;\n\n  /** Converts the private key to PEM format. */\n  toPem(): string;\n}\n\n/**\n * Represents a private key with associated public key and cryptographic algorithm.\n * Provides methods for signing messages, exporting to PEM, and generating public keys.\n */\nexport class PrivateKey {\n  /** The cryptographic algorithm used for the key. */\n  private alg: KeyAlgorithm;\n\n  /** The public key associated with this private key. */\n  private pub: PublicKey;\n\n  /** The internal private key implementation. */\n  private priv: PrivateKeyInternal;\n\n  /**\n   * Creates an instance of PrivateKey.\n   * @param alg - The cryptographic algorithm.\n   * @param pub - The associated public key.\n   * @param priv - The private key implementation.\n   */\n  constructor(alg: KeyAlgorithm, pub: PublicKey, priv: PrivateKeyInternal) {\n    this.alg = alg;\n    this.pub = pub;\n    this.priv = priv;\n  }\n\n  toBytes(): Uint8Array {\n    return this.priv.toBytes();\n  }\n\n  /**\n   * Gets the public key associated with this private key.\n   * @returns The associated PublicKey instance.\n   */\n  public get publicKey(): PublicKey {\n    return this.pub;\n  }\n\n  /**\n   * Exports the private key to PEM format.\n   * @returns A PEM-encoded string of the private key.\n   */\n  public toPem(): string {\n    return this.priv.toPem();\n  }\n\n  /**\n   * Signs a message using the private key.\n   * @param msg - The message to sign.\n   * @returns A promise resolving to the signature bytes.\n   */\n  public sign(msg: Uint8Array): Uint8Array {\n    return this.priv.sign(msg);\n  }\n\n  /**\n   * Signs a message using the private key and includes the algorithm byte in the signature.\n   * @param msg - The message to sign.\n   * @returns A promise resolving to the signature bytes with the algorithm byte.\n   */\n  public signAndAddAlgorithmBytes(msg: Uint8Array): Uint8Array {\n    const signature = this.priv.sign(msg);\n    const algBytes = Uint8Array.of(this.alg);\n    return concat([algBytes, signature]);\n  }\n\n  /**\n   * Signs a message without including the algorithm byte.\n   * @param msg - The message to sign.\n   * @returns A promise resolving to the raw signature bytes.\n   */\n  public async rawSign(msg: Uint8Array): Promise<Uint8Array> {\n    return this.priv.sign(msg);\n  }\n\n  /**\n   * Generates a new private key with the specified algorithm.\n   * @param algorithm - The cryptographic algorithm to use.\n   * @returns A promise resolving to a new PrivateKey instance.\n   */\n  public static generate(algorithm: KeyAlgorithm): PrivateKey {\n    const priv = PrivateKeyFactory.createPrivateKey(algorithm);\n    const pubBytes = priv.publicKeyBytes();\n    const algBytes = Uint8Array.of(algorithm);\n    const pub = PublicKey.fromBuffer(concat([algBytes, pubBytes]));\n    return new PrivateKey(algorithm, pub, priv);\n  }\n\n  /**\n   * Creates a private key from a PEM-encoded string.\n   * @param content - The PEM-encoded string.\n   * @param algorithm - The cryptographic algorithm to use.\n   * @returns A promise resolving to a PrivateKey instance.\n   */\n  public static fromPem(\n    content: string,\n    algorithm: KeyAlgorithm\n  ): PrivateKey {\n    const priv = PrivateKeyFactory.createPrivateKeyFromPem(\n      content,\n      algorithm\n    );\n    const pubBytes = priv.publicKeyBytes();\n    const algBytes = Uint8Array.of(algorithm);\n    const pub = PublicKey.fromBuffer(concat([algBytes, pubBytes]));\n    return new PrivateKey(algorithm, pub, priv);\n  }\n\n  /**\n   * Creates a private key from a hexadecimal string.\n   * @param key - The hexadecimal string of the private key.\n   * @param algorithm - The cryptographic algorithm to use.\n   * @returns A promise resolving to a PrivateKey instance.\n   */\n  public static fromHex(\n    key: string,\n    algorithm: KeyAlgorithm\n  ): PrivateKey {\n    const priv = PrivateKeyFactory.createPrivateKeyFromHex(\n      key,\n      algorithm\n    );\n    const pubBytes = priv.publicKeyBytes();\n    const algBytes = Uint8Array.of(algorithm);\n    const pub = PublicKey.fromBuffer(concat([algBytes, pubBytes]));\n    return new PrivateKey(algorithm, pub, priv);\n  }\n}\n\n/**\n * Factory class for creating instances of PrivateKeyInternal using different formats and algorithms.\n * This utility class allows generating, importing, and creating private keys with specific cryptographic algorithms.\n */\nclass PrivateKeyFactory {\n  /**\n   * Creates a new private key using the specified algorithm.\n   * @param algorithm - The cryptographic algorithm to use.\n   * @returns A promise resolving to a PrivateKeyInternal instance.\n   * @throws Error if the algorithm is unsupported.\n   */\n  public static createPrivateKey(\n    algorithm: KeyAlgorithm\n  ): PrivateKeyInternal {\n    switch (algorithm) {\n      case KeyAlgorithm.ED25519:\n        return Ed25519PrivateKey.generate();\n      case KeyAlgorithm.SECP256K1:\n        return Secp256k1PrivateKey.generate();\n      default:\n        throw new Error(`Unsupported key algorithm: ${algorithm}`);\n    }\n  }\n\n  /**\n   * Creates a PrivateKeyInternal instance from a PEM-encoded string.\n   * @param content - The PEM-encoded string.\n   * @param algorithm - The cryptographic algorithm to use.\n   * @returns A promise resolving to a PrivateKeyInternal instance.\n   * @throws Error if the algorithm is unsupported.\n   */\n  public static createPrivateKeyFromPem(\n    content: string,\n    algorithm: KeyAlgorithm\n  ): PrivateKeyInternal {\n    switch (algorithm) {\n      case KeyAlgorithm.ED25519:\n        return Ed25519PrivateKey.fromPem(content);\n      case KeyAlgorithm.SECP256K1:\n        return Secp256k1PrivateKey.fromPem(content);\n      default:\n        throw new Error(`Unsupported key algorithm: ${algorithm}`);\n    }\n  }\n\n  /**\n   * Creates a PrivateKeyInternal instance from a hexadecimal string.\n   * @param key - The hexadecimal string of the private key.\n   * @param algorithm - The cryptographic algorithm to use.\n   * @returns A promise resolving to a PrivateKeyInternal instance.\n   * @throws Error if the algorithm is unsupported.\n   */\n  public static createPrivateKeyFromHex(\n    key: string,\n    algorithm: KeyAlgorithm\n  ): PrivateKeyInternal {\n    switch (algorithm) {\n      case KeyAlgorithm.ED25519:\n        return Ed25519PrivateKey.fromHex(key);\n      case KeyAlgorithm.SECP256K1:\n        return Secp256k1PrivateKey.fromHex(key);\n      default:\n        throw new Error(`Unsupported key algorithm: ${algorithm}`);\n    }\n  }\n}\n","import { jsonObject, jsonMember } from 'typedjson';\nimport { concat } from '@ethersproject/bytes';\n\nimport { PublicKey as Ed25519PublicKey } from './ed25519/PublicKey';\nimport { PublicKey as Secp256k1PublicKey } from './secp256k1/PublicKey';\nimport { Hash, AccountHash } from '../key';\nimport { Conversions } from '../Conversions';\nimport { IResultWithBytes } from '../clvalue';\nimport { byteHash } from '../ByteConverters';\n\n/** Error thrown when the signature is empty. */\nconst ErrEmptySignature = new Error('empty signature');\n\n/** Error thrown when the public key algorithm is invalid. */\nconst ErrInvalidPublicKeyAlgo = new Error('invalid public key algorithm');\n\n/** Error thrown when the signature is invalid. */\nconst ErrInvalidSignature = new Error('invalid signature');\n\n/** Error thrown when the public key is empty. */\nconst ErrEmptyPublicKey = new Error('empty public key');\n\n/**\n * Enum representing the supported cryptographic algorithms for public keys.\n */\nenum KeyAlgorithm {\n  ED25519 = 1,\n  SECP256K1 = 2\n}\n\nconst SMALL_BYTES_COUNT = 75;\n// prettier-ignore\nconst HEX_CHARS = [\n  '0', '1', '2', '3', '4', '5', '6', '7',\n  '8', '9', 'a', 'b', 'c', 'd', 'e', 'f',\n  'A', 'B', 'C', 'D', 'E', 'F'\n];\n\n/**\n * Interface representing the internal structure of a public key, which includes\n * methods for obtaining bytes and verifying signatures.\n */\ninterface PublicKeyInternal {\n  /** Returns the bytes of the public key. */\n  bytes(): Uint8Array;\n\n  /**\n   * Verifies a signature for a given message.\n   * @param message - The message to verify.\n   * @param sig - The signature to verify.\n   * @returns A promise that resolves to a boolean indicating the validity of the signature.\n   */\n  verifySignature(message: Uint8Array, sig: Uint8Array): boolean;\n\n  /**\n   * Convert this instance's public key to PEM format\n   * @returns A PEM compliant string containing this instance's public key\n   */\n  toPem(): string;\n}\n\n/**\n * Represents a public key with a cryptographic algorithm and key data.\n * Provides utilities for serialization, verification, and obtaining an associated account hash.\n */\n@jsonObject\nexport class PublicKey {\n  /** The cryptographic algorithm used for the key. */\n  @jsonMember({ constructor: Number })\n  cryptoAlg: KeyAlgorithm;\n\n  /** The key data associated with the public key. */\n  key: PublicKeyInternal | null;\n\n  /**\n   * Creates an instance of PublicKey.\n   * @param cryptoAlg - The cryptographic algorithm used by the key.\n   * @param key - The actual key data.\n   */\n  constructor(cryptoAlg: KeyAlgorithm, key: PublicKeyInternal) {\n    this.cryptoAlg = cryptoAlg;\n    this.key = key;\n  }\n\n  /**\n   * Returns the byte representation of the public key.\n   * @returns A Uint8Array of the public key bytes.\n   */\n  bytes(): Uint8Array {\n    if (!this.key) {\n      return new Uint8Array();\n    }\n\n    const cryptoAlgBytes = new Uint8Array([this.cryptoAlg]);\n    const keyBytes = this.key.bytes();\n\n    return concat([cryptoAlgBytes, keyBytes]);\n  }\n\n  /**\n   * Converts the public key to a hexadecimal string representation.\n   *\n   * @param checksummed - A boolean indicating whether to return a checksummed version of the hex string.\n   *   - `true`: Includes a checksum in the output.\n   *   - `false` (default): Returns the raw hexadecimal string without a checksum.\n   * @returns The hexadecimal string representation of the public key.\n   *   - If `checksummed` is `true`, the result includes a checksum.\n   *   - If `checksummed` is `false`, the raw hex string is returned.\n   * @throws {Error} If the public key is not initialized properly (i.e., `this.key` is missing).\n   */\n  toHex(checksummed = false): string {\n    if (!this.key) {\n      throw new Error('Public key initialised incorrectly. Missing key');\n    }\n\n    const rawHex = `0${this.cryptoAlg}${Conversions.encodeBase16(\n      this.key.bytes()\n    )}`;\n\n    if (checksummed) {\n      const bytes = Conversions.decodeBase16(rawHex);\n      return (\n        PublicKey.encode(bytes.slice(0, 1)) + PublicKey.encode(bytes.slice(1))\n      );\n    }\n\n    return rawHex;\n  }\n\n  /**\n   * Serializes the public key to a JSON-compatible string.\n   * @returns A JSON string representation of the public key.\n   */\n  toJSON(): string {\n    return this.toHex();\n  }\n\n  /**\n   * Converts the public key to a string representation.\n   * @returns A string representation of the public key in hexadecimal.\n   */\n  toString(): string {\n    return this.toHex();\n  }\n\n  /**\n   * Creates a PublicKey instance from a JSON string.\n   * @param json - The JSON string.\n   * @returns A new PublicKey instance.\n   */\n  static fromJSON(json: string): PublicKey {\n    return PublicKey.fromHex(json);\n  }\n\n  /**\n   * Creates a PublicKey instance from a hexadecimal string.\n   * @param source - The hexadecimal string.\n   * @returns A new PublicKey instance.\n   */\n  // static fromHex(source: string): PublicKey {\n  //   const publicKeyHexBytes = Conversions.decodeBase16(source);\n  //\n  //   return PublicKey.fromBuffer(publicKeyHexBytes);\n  // }\n\n  /**\n   * Tries to decode PublicKey from its hex-representation.\n   * The hex format should be as produced by PublicKey.toHex\n   * @param publicKeyHex public key hex string contains key tag\n   * @param checksummed throws an Error if true and given string is not checksummed\n   */\n  static fromHex(publicKeyHex: string, checksummed = false): PublicKey {\n    if (publicKeyHex.length < 2) {\n      throw new Error('Public key error: too short');\n    }\n\n    if (!/^0(1[0-9a-fA-F]{64}|2[0-9a-fA-F]{66})$/.test(publicKeyHex)) {\n      throw new Error('Invalid public key');\n    }\n\n    if (checksummed && !PublicKey.isChecksummed(publicKeyHex)) {\n      throw Error('Provided public key is not checksummed.');\n    }\n\n    return PublicKey.fromBuffer(Conversions.decodeBase16(publicKeyHex));\n  }\n\n  /**\n   * Creates a PublicKey instance from an ArrayBuffer.\n   * @param buffer - The ArrayBuffer.\n   * @returns A new PublicKey instance.\n   * @throws Error if the public key algorithm is invalid.\n   */\n  public static fromBuffer(buffer: ArrayBuffer): PublicKey {\n    const byteArray = new Uint8Array(buffer);\n    const alg = byteArray[0] as KeyAlgorithm;\n    const keyData = byteArray.slice(1);\n\n    let key: PublicKeyInternal;\n    switch (alg) {\n      case KeyAlgorithm.ED25519:\n        key = new Ed25519PublicKey(keyData);\n        break;\n      case KeyAlgorithm.SECP256K1:\n        key = new Secp256k1PublicKey(keyData);\n        break;\n      default:\n        throw ErrInvalidPublicKeyAlgo;\n    }\n\n    return new PublicKey(alg, key);\n  }\n\n  /**\n   * Generates an account hash for the public key, used to uniquely identify an account.\n   * @returns An AccountHash representing the account associated with this public key.\n   */\n  accountHash(): AccountHash {\n    if (!this.key) {\n      return new AccountHash(new Hash(new Uint8Array(0)));\n    }\n\n    const algString = KeyAlgorithm[this.cryptoAlg].toLowerCase();\n    const algBytes = new TextEncoder().encode(algString);\n    const separatorByte = new Uint8Array([0]);\n    const keyBytes = this.key.bytes();\n\n    const bytesToHash = concat([algBytes, separatorByte, keyBytes]);\n\n    const blakeHash = byteHash(bytesToHash);\n    const hash = Hash.fromBuffer(Buffer.from(blakeHash));\n    return new AccountHash(hash, 'account-hash');\n  }\n\n  /**\n   * Verifies a signature for a given message.\n   * @param message - The message to verify.\n   * @param sig - The signature to verify.\n   * @returns A promise that resolves to a boolean indicating the validity of the signature.\n   * @throws Error if the signature or public key is empty, or if the signature is invalid.\n   */\n  verifySignature(message: Uint8Array, sig: Uint8Array): boolean {\n    if (sig.length <= 1) throw ErrEmptySignature;\n    if (!this.key) throw ErrEmptyPublicKey;\n\n    const sigWithoutAlgByte = sig.slice(1);\n    const signature = this.key.verifySignature(message, sigWithoutAlgByte);\n\n    if (!signature) throw ErrInvalidSignature;\n\n    return signature;\n  }\n\n  public toPem(): string {\n    return this.key!.toPem();\n  }\n\n  /**\n   * Creates a PublicKey instance from a PEM-encoded string.\n   * @param content - The PEM string representing the private key.\n   * @param algorithm - The KeyAlgorithm of PEM\n   * @returns A new PublicKey instance.\n   * @throws Error if the content cannot be properly parsed.\n   */\n  public static fromPem(content: string, algorithm: KeyAlgorithm) {\n    let key: PublicKeyInternal | null = null;\n\n    switch (algorithm) {\n      case KeyAlgorithm.ED25519:\n        key = Ed25519PublicKey.fromPem(content);\n        break;\n      case KeyAlgorithm.SECP256K1:\n        key = Secp256k1PublicKey.fromPem(content);\n        break;\n      default:\n        throw ErrInvalidPublicKeyAlgo;\n    }\n\n    return new PublicKey(algorithm, key);\n  }\n\n  /**\n   * Checks equality between two PublicKey instances.\n   * @param other - The other PublicKey instance to compare.\n   * @returns True if the two PublicKey instances are equal; otherwise, false.\n   */\n  equals(other: PublicKey): boolean {\n    return this.toHex() === other.toHex();\n  }\n\n  /**\n   * Creates a new PublicKey instance from a hex string.\n   * @param source - The hex string.\n   * @returns A new PublicKey instance.\n   */\n  static newPublicKey(source: string): PublicKey {\n    const data = Buffer.from(source, 'hex');\n    return this.fromBytes(data)?.result;\n  }\n\n  /**\n   * Creates a PublicKey instance from a byte array.\n   * @param source - The byte array.\n   * @returns A new PublicKey instance.\n   * @throws Error if the public key algorithm is invalid.\n   */\n  static fromBytes(source: Uint8Array): IResultWithBytes<PublicKey> {\n    const alg = source[0];\n    let key: PublicKeyInternal | null = null;\n    let expectedPublicKeySize;\n\n    switch (alg) {\n      case KeyAlgorithm.ED25519:\n        expectedPublicKeySize = 32;\n        key = new Ed25519PublicKey(\n          source.subarray(1, expectedPublicKeySize + 1)\n        );\n        break;\n      case KeyAlgorithm.SECP256K1:\n        expectedPublicKeySize = 33;\n        key = new Secp256k1PublicKey(\n          source.subarray(1, expectedPublicKeySize + 1)\n        );\n        break;\n      default:\n        throw ErrInvalidPublicKeyAlgo;\n    }\n\n    return {\n      result: new PublicKey(alg, key),\n      bytes: source.subarray(expectedPublicKeySize + 1)\n    };\n  }\n\n  /**\n   * Verify a mixed-case hexadecimal string that it conforms to the checksum scheme\n   * similar to scheme in [EIP-55](https://eips.ethereum.org/EIPS/eip-55).\n   * Key differences:\n   * - Works on any length of (decoded) data up to `SMALL_BYTES_COUNT`, not just 20-byte addresses\n   * - Uses Blake2b hashes rather than Keccak\n   * - Uses hash bits rather than nibbles\n   * For backward compatibility: if the hex string is all uppercase or all lowercase, the check is\n   * skipped.\n   * @param input string to check if it is checksummed\n   * @returns true if input is checksummed\n   */\n  static isChecksummed = (input: string): boolean => {\n    const bytes = new Uint8Array(Buffer.from(input, 'hex'));\n\n    if (bytes.length > SMALL_BYTES_COUNT || isSameCase(input)) return true;\n\n    if (isValidPublicKey(input)) {\n      return (\n        input ===\n        PublicKey.encode(bytes.slice(0, 1)) + PublicKey.encode(bytes.slice(1))\n      );\n    }\n\n    return input === PublicKey.encode(bytes);\n  };\n\n  /**\n   * Returns the bytes encoded as hexadecimal with mixed-case based checksums following a scheme\n   * similar to [EIP-55](https://eips.ethereum.org/EIPS/eip-55).\n   * Key differences:\n   * - Works on any length of data, not just 20-byte addresses\n   * - Uses Blake2b hashes rather than Keccak\n   * - Uses hash bits rather than nibbles\n   * @param input Uint8Array to generate checksummed hex string\n   * @returns checksummed hex presentation string of input\n   */\n  static encode = (input: Uint8Array): string => {\n    const inputNibbles = bytesToNibbles(input);\n    const hashBits = bytesToBitsCycle(byteHash(input)).values();\n\n    const hexOutputString = inputNibbles.reduce((accum, nibble) => {\n      const c = HEX_CHARS[nibble];\n\n      if (/^[a-zA-Z()]+$/.test(c) && hashBits.next().value) {\n        return accum + c.toUpperCase();\n      } else {\n        return accum + c.toLowerCase();\n      }\n    }, '');\n\n    return hexOutputString;\n  };\n}\n\n/**\n * Represents a list of public keys, with utility methods for checking membership and managing keys.\n */\nexport class PublicKeyList {\n  private keys: PublicKey[];\n\n  /**\n   * Creates an instance of PublicKeyList.\n   * @param keys - An optional array of PublicKey instances.\n   */\n  constructor(keys: PublicKey[] = []) {\n    this.keys = keys;\n  }\n\n  /**\n   * Checks if a given PublicKey is present in the list.\n   * @param target - The PublicKey to check for.\n   * @returns True if the target PublicKey is in the list; otherwise, false.\n   */\n  contains(target: PublicKey): boolean {\n    return this.keys.some(key => key.equals(target));\n  }\n}\n\nexport function isSameCase(value: string) {\n  return /^[a-z0-9]+$|^[A-Z0-9]+$/.test(value);\n}\n\nexport function isValidPublicKey(key: string) {\n  return /^0(1[0-9a-fA-F]{64}|2[0-9a-fA-F]{66})$/.test(key);\n}\n\nfunction bytesToNibbles(bytes: Uint8Array): Uint8Array {\n  const outputNibbles = bytes.reduce((accum, byte) => {\n    return concat([accum, Uint8Array.of(byte >>> 4, byte & 0x0f)]);\n  }, new Uint8Array());\n\n  return outputNibbles;\n}\n\nfunction bytesToBitsCycle(bytes: Uint8Array) {\n  const output: boolean[] = [];\n\n  for (let i = 0, k = 0; i < bytes.length; i++)\n    for (let j = 0; j < 8; j++)\n      output[k++] = ((bytes[i] >>> j) & 0x01) === 0x01;\n\n  return output;\n}\n","import * as ed25519 from '@noble/ed25519';\nimport { PrivateKeyInternal } from '../PrivateKey';\nimport { sha512 } from '@noble/hashes/sha512';\nimport { Conversions } from '../../Conversions';\nimport { parseKey, readBase64WithPEM } from '../utils';\n\ned25519.utils.sha512Sync = (...m) => sha512(ed25519.utils.concatBytes(...m));\n\nconst ED25519_PEM_SECRET_KEY_TAG = 'PRIVATE KEY';\n\n/**\n * Represents an Ed25519 private key, supporting key generation, signing, and PEM encoding.\n * Provides methods for creating instances from byte arrays, hexadecimal strings, and PEM format.\n */\nexport class PrivateKey implements PrivateKeyInternal {\n  /** Size of the PEM prefix for Ed25519 private keys. */\n  static PemFramePrivateKeyPrefixSize = 16;\n\n  /** The raw bytes of the private key. */\n  private key: Uint8Array;\n\n  /**\n   * Creates an instance of PrivateKey.\n   * @param key - The private key bytes.\n   */\n  constructor(key: Uint8Array) {\n    this.key = key;\n  }\n\n  /**\n   * Generates a new random Ed25519 private key.\n   * @returns A promise that resolves to a new PrivateKey instance.\n   */\n  static generate(): PrivateKey {\n    const keyPair = ed25519.utils.randomPrivateKey();\n    return new PrivateKey(keyPair);\n  }\n\n  /**\n   * Retrieves the byte array of the associated public key.\n   * @returns A promise that resolves to the public key bytes.\n   */\n  publicKeyBytes(): Uint8Array {\n    return ed25519.sync.getPublicKey(this.key);\n  }\n\n  toBytes(): Uint8Array {\n    return this.key;\n  }\n\n  /**\n   * Signs a message using the private key.\n   * @param message - The message to sign.\n   * @returns A promise that resolves to the signature bytes.\n   */\n  sign(message: Uint8Array): Uint8Array {\n    return ed25519.sync.sign(message, this.key);\n  }\n\n  /**\n   * Creates a PrivateKey instance from a byte array.\n   * Validates that the byte array matches the expected length for an Ed25519 private key.\n   * @param key - The byte array representing the private key.\n   * @returns A new PrivateKey instance.\n   * @throws Error if the byte array length is not 64.\n   */\n  static fromBytes(key: Uint8Array): PrivateKey {\n    if (key.length !== 32) {\n      throw new Error(`Invalid key size: expected 64 bytes, got ${key.length}`);\n    }\n    return new PrivateKey(key);\n  }\n\n  /**\n   * Creates a PrivateKey instance from a hexadecimal string.\n   * Converts the hexadecimal string to bytes and validates the length.\n   * @param keyHex - The hexadecimal string representing the private key.\n   * @returns A new PrivateKey instance.\n   * @throws Error if the hex string length is not 128 characters.\n   */\n  static fromHex(keyHex: string): PrivateKey {\n    if (keyHex.length !== 64) {\n      throw new Error(\n        `Invalid hex string length: expected 64 characters, got ${keyHex.length}`\n      );\n    }\n    const keyBytes = Buffer.from(keyHex, 'hex');\n    return PrivateKey.fromBytes(keyBytes);\n  }\n\n  /**\n   * Exports the private key to PEM format, with a standardized prefix and suffix.\n   * @returns A PEM-encoded string of the private key.\n   */\n  toPem(): string {\n    const derPrefix = Buffer.from([\n      48,\n      46,\n      2,\n      1,\n      0,\n      48,\n      5,\n      6,\n      3,\n      43,\n      101,\n      112,\n      4,\n      34,\n      4,\n      32\n    ]);\n    const encoded = Conversions.encodeBase64(\n      Buffer.concat([derPrefix, Buffer.from(this.key)])\n    );\n\n    return (\n      `-----BEGIN ${ED25519_PEM_SECRET_KEY_TAG}-----\\n` +\n      `${encoded}\\n` +\n      `-----END ${ED25519_PEM_SECRET_KEY_TAG}-----\\n`\n    );\n  }\n\n  /**\n   * Creates a PrivateKey instance from a PEM-encoded string.\n   * Parses the PEM content to extract the private key bytes.\n   * @param content - The PEM string representing the private key.\n   * @returns A new PrivateKey instance.\n   * @throws Error if the content cannot be properly parsed.\n   */\n  static fromPem(content: string): PrivateKey {\n    const privateKeyBytes = readBase64WithPEM(content);\n\n    return new PrivateKey(\n      new Uint8Array(Buffer.from(parseKey(privateKeyBytes, 0, 32)))\n    );\n  }\n}\n","import * as ed25519 from '@noble/ed25519';\nimport { Conversions } from '../../Conversions';\nimport { parseKey, readBase64WithPEM } from '../utils';\n\n/** Expected size of an Ed25519 public key in bytes. */\nconst PublicKeySize = 32;\nconst ED25519_PEM_PUBLIC_KEY_TAG = 'PUBLIC KEY';\n\n/**\n * Represents an Ed25519 public key, supporting signature verification\n * and loading from byte arrays.\n */\nexport class PublicKey {\n  /** The raw bytes of the public key. */\n  private key: Uint8Array;\n\n  /**\n   * Creates an instance of PublicKey.\n   * @param key - The public key bytes.\n   */\n  constructor(key: Uint8Array) {\n    this.key = key;\n  }\n\n  /**\n   * Retrieves the byte array of the public key.\n   * @returns A `Uint8Array` representing the public key.\n   */\n  bytes(): Uint8Array {\n    return this.key;\n  }\n\n  /**\n   * Convert this instance's public key to PEM format\n   * @returns A PEM compliant string containing this instance's public key\n   */\n  public toPem(): string {\n    const derPrefix = Buffer.from([\n      48,\n      42,\n      48,\n      5,\n      6,\n      3,\n      43,\n      101,\n      112,\n      3,\n      33,\n      0\n    ]);\n    const encoded = Conversions.encodeBase64(\n      Buffer.concat([derPrefix, Buffer.from(this.key)])\n    );\n\n    return (\n      `-----BEGIN ${ED25519_PEM_PUBLIC_KEY_TAG}-----\\n` +\n      `${encoded}\\n` +\n      `-----END ${ED25519_PEM_PUBLIC_KEY_TAG}-----\\n`\n    );\n  }\n\n  /**\n   * Creates a PublicKey instance from a PEM-encoded string.\n   * @param content - The PEM string representing the private key.\n   * @returns A new PublicKey instance.\n   * @throws Error if the content cannot be properly parsed.\n   */\n  static fromPem(content: string): PublicKey {\n    const publicKeyBytes = readBase64WithPEM(content);\n\n    return new PublicKey(\n      new Uint8Array(Buffer.from(parseKey(publicKeyBytes, 32, 64)))\n    );\n  }\n\n  /**\n   * Verifies a signature for a given message.\n   * Utilizes the Ed25519 algorithm to check if the signature is valid\n   * for the given message and public key.\n   * @param message - The original message that was signed.\n   * @param signature - The signature to verify.\n   * @returns A promise that resolves to `true` if the signature is valid, or `false` otherwise.\n   */\n  verifySignature(message: Uint8Array, signature: Uint8Array): boolean {\n    return ed25519.sync.verify(signature, message, this.key);\n  }\n\n  /**\n   * Creates a PublicKey instance from a byte array.\n   * Validates the size of the byte array to ensure it matches the expected\n   * size of an Ed25519 public key.\n   * @param data - The byte array representing the public key.\n   * @returns A new PublicKey instance.\n   * @throws Error if the byte array length is not equal to `PublicKeySize`.\n   */\n  static fromBytes(data: Uint8Array): PublicKey {\n    if (data.length !== PublicKeySize) {\n      throw new Error(`Can't parse wrong size of public key: ${data.length}`);\n    }\n    return new PublicKey(data);\n  }\n}\n","export * from './PublicKey';\nexport * from './PrivateKey';\nexport * from './Algorithm';\n","import * as secp256k1 from '@noble/secp256k1';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { hmac } from '@noble/hashes/hmac';\nimport { PrivateKeyInternal } from '../PrivateKey';\nimport { Conversions } from '../../Conversions';\nimport { readBase64WithPEM } from '../utils';\nimport { encodePrivate } from './encoders';\n\nsecp256k1.utils.hmacSha256Sync = (k, ...m) =>\n  hmac(sha256, k, secp256k1.utils.concatBytes(...m));\n\n/**\n * Represents a secp256k1 private key, supporting key generation, signing, and PEM encoding.\n * The class offers static methods to create instances from bytes, hex, and PEM formats.\n */\nexport class PrivateKey implements PrivateKeyInternal {\n  /** The raw bytes of the private key. */\n  private key: Uint8Array;\n\n  /**\n   * Creates an instance of PrivateKey.\n   * @param key - The private key bytes.\n   */\n  constructor(key: Uint8Array) {\n    this.key = key;\n  }\n\n  /**\n   * Generates a new random secp256k1 private key.\n   * @returns A promise that resolves to a new PrivateKey instance.\n   */\n  static generate(): PrivateKey {\n    const privateKey = secp256k1.utils.randomPrivateKey();\n    return new PrivateKey(privateKey);\n  }\n\n  /**\n   * Retrieves the byte array of the public key in compressed format.\n   * @returns A promise that resolves to the compressed public key bytes.\n   */\n  publicKeyBytes(): Uint8Array {\n    return secp256k1.getPublicKey(this.key, true);\n  }\n\n  /**\n   * Retrieves the byte array of the public key in compressed format.\n   * @returns A promise that resolves to the compressed public key bytes.\n   */\n  async getPublicKeyBytes(): Promise<Uint8Array> {\n    return secp256k1.getPublicKey(this.key, true);\n  }\n\n  toBytes(): Uint8Array {\n    return this.key;\n  }\n\n  /**\n   * Signs a message using the private key.\n   * The message is first hashed with SHA-256 before signing.\n   * @param message - The message to sign.\n   * @returns A promise that resolves to the signature bytes in compact format.\n   */\n  sign(message: Uint8Array): Uint8Array {\n    const hash = sha256(message);\n    return secp256k1.signSync(hash, this.key, { der: false });\n  }\n\n  /**\n   * Creates a PrivateKey instance from a byte array.\n   * @param key - The byte array representing the private key.\n   * @returns A new PrivateKey instance.\n   * @throws Error if the byte array length is not 32.\n   */\n  static fromBytes(key: Uint8Array): PrivateKey {\n    if (key.length !== 32) {\n      throw new Error(\n        `Invalid private key length: expected 32 bytes, got ${key.length}`\n      );\n    }\n    return new PrivateKey(key);\n  }\n\n  /**\n   * Creates a PrivateKey instance from a hexadecimal string.\n   * @param key - The hexadecimal string representing the private key.\n   * @returns A new PrivateKey instance.\n   * @throws Error if the hex length is not 64 characters or if decoding fails.\n   */\n  static fromHex(key: string): PrivateKey {\n    if (key.length !== 64) {\n      throw new Error(\n        `Invalid private key hex length: expected 64 characters, got ${key.length}`\n      );\n    }\n\n    let decoded;\n    try {\n      decoded = secp256k1.utils.hexToBytes(key);\n    } catch (err) {\n      throw new Error(`Failed to decode hex: ${err}`);\n    }\n\n    return PrivateKey.fromBytes(decoded);\n  }\n\n  /**\n   * Exports the private key to PEM format, which can be used for secure storage or sharing.\n   * @returns A PEM-encoded string of the private key.\n   */\n  toPem(): string {\n    return encodePrivate(Conversions.encodeBase16(this.key), 'raw', 'pem');\n  }\n\n  /**\n   * Creates a PrivateKey instance from a PEM-encoded string.\n   * @param content - The PEM string representing the private key.\n   * @returns A new PrivateKey instance.\n   * @throws Error if the content cannot be properly parsed.\n   */\n  static fromPem(content: string): PrivateKey {\n    const privateKeyBytes = readBase64WithPEM(content);\n\n    const rawKeyHex = encodePrivate(Buffer.from(privateKeyBytes), 'der', 'raw');\n\n    return new PrivateKey(new Uint8Array(Buffer.from(rawKeyHex, 'hex')));\n  }\n}\n","import * as secp256k1 from '@noble/secp256k1';\nimport { sha256 } from '@noble/hashes/sha256';\nimport { Conversions } from '../../Conversions';\nimport { readBase64WithPEM } from '../utils';\nimport { encodePublic } from \"./encoders\";\n\n/** The expected size of a secp256k1 public key in bytes. */\nconst PublicKeySize = 33;\n\n/**\n * Represents a secp256k1 public key, providing methods to retrieve the compressed\n * public key bytes and verify digital signatures.\n */\nexport class PublicKey {\n  /** The raw bytes of the public key in compressed format. */\n  private key: Uint8Array;\n\n  /**\n   * Creates an instance of PublicKey.\n   * @param key - The public key bytes in compressed format.\n   */\n  constructor(key: Uint8Array) {\n    this.key = key;\n  }\n\n  /**\n   * Retrieves the byte array of the public key in compressed format.\n   * @returns A compressed `Uint8Array` representation of the public key.\n   */\n  bytes(): Uint8Array {\n    return this.key;\n  }\n\n  /**\n   * Convert this instance's public key to PEM format\n   * @returns A PEM compliant string containing this instance's public key\n   */\n  public toPem(): string {\n    return encodePublic(\n      Conversions.encodeBase16(this.key),\n      'raw',\n      'pem'\n    );\n  }\n\n  /**\n   * Verifies a signature for a given message.\n   * Uses the secp256k1 algorithm to validate if the provided signature matches\n   * the public key for the given message.\n   * @param message - The original message that was signed.\n   * @param signature - The signature to verify. Supports both raw (64-byte R || S) and DER formats.\n   * @returns A promise that resolves to `true` if the signature is valid, or `false` otherwise.\n   */\n  verifySignature(message: Uint8Array, signature: Uint8Array): boolean {\n    let compactSignature: Uint8Array;\n\n    if (signature.length === 64) {\n      // Use raw (R || S) format\n      compactSignature = signature;\n    } else {\n      try {\n        const parsedSig = secp256k1.Signature.fromDER(signature);\n        compactSignature = parsedSig.toCompactRawBytes();\n      } catch (error) {\n        console.error('Failed to parse DER signature:', error);\n        return false;\n      }\n    }\n\n    const hash = sha256(message);\n\n    return secp256k1.verify(compactSignature, hash, this.key);\n  }\n\n  /**\n   * Creates a PublicKey instance from a PEM-encoded string.\n   * @param content - The PEM string representing the private key.\n   * @returns A new PublicKey instance.\n   * @throws Error if the content cannot be properly parsed.\n   */\n  static fromPem(content: string): PublicKey {\n    const publicKeyBytes = readBase64WithPEM(content);\n\n    const rawKeyHex = encodePublic(\n      Buffer.from(publicKeyBytes),\n      'der',\n      'raw'\n    );\n\n    return new PublicKey(new Uint8Array(Buffer.from(rawKeyHex, 'hex')));\n  }\n\n  /**\n   * Creates a PublicKey instance from a byte array, validating the size and format.\n   * @param data - The byte array representing the public key in compressed format.\n   * @returns A promise that resolves to a new PublicKey instance.\n   * @throws Error if the public key size is incorrect or if the key is invalid.\n   */\n  static async fromBytes(data: Uint8Array): Promise<PublicKey> {\n    if (data.length !== PublicKeySize) {\n      throw new Error(`Can't parse public key with wrong size: ${data.length}`);\n    }\n\n    let key;\n    try {\n      const point = secp256k1.Point.fromHex(data);\n      const compressedKey = point.toRawBytes(true);\n      key = compressedKey;\n    } catch (error) {\n      throw new Error('Invalid public key');\n    }\n\n    return new PublicKey(key);\n  }\n}\n","import elliptic_1 from 'elliptic';\nimport BN from 'bn.js';\n// @ts-ignore\nimport asn1 from 'asn1.js';\n\n// Based on https://github.com/stacks-archive/key-encoder-js\n\ninterface PK {\n  version: any;\n  privateKey: Buffer;\n  parameters: number[];\n  publicKey?: {\n    unused: number;\n    data: Buffer;\n  };\n}\n\ntype KeyFormat = 'raw' | 'pem' | 'der';\n\nconst options = {\n  curveParameters: [1, 3, 132, 0, 10],\n  privatePEMOptions: { label: 'EC PRIVATE KEY' },\n  publicPEMOptions: { label: 'PUBLIC KEY' },\n  curve: new elliptic_1.ec('secp256k1')\n};\n\nconst algorithmID = [1, 2, 840, 10045, 2, 1];\n\nconst ECPrivateKeyASN = asn1.define('ECPrivateKey', function() {\n  // @ts-ignore\n  const self = this as any;\n  self.seq().obj(\n    self.key('version').int(),\n    self.key('privateKey').octstr(),\n    self\n      .key('parameters')\n      .explicit(0)\n      .objid()\n      .optional(),\n    self\n      .key('publicKey')\n      .explicit(1)\n      .bitstr()\n      .optional()\n  );\n});\n\nconst SubjectPublicKeyInfoASN = asn1.define('SubjectPublicKeyInfo', function() {\n  // @ts-ignore\n  const self = this as any;\n  self.seq().obj(\n    self\n      .key('algorithm')\n      .seq()\n      .obj(self.key('id').objid(), self.key('curve').objid()),\n    self.key('pub').bitstr()\n  );\n});\n\nexport function encodePrivate(\n  privateKey: string | Buffer,\n  originalFormat: KeyFormat,\n  destinationFormat: KeyFormat\n) {\n  let privateKeyObject;\n\n  /* Parse the incoming private key and convert it to a private key object */\n  if (originalFormat === 'raw') {\n    if (typeof privateKey !== 'string') {\n      throw 'private key must be a string';\n    }\n\n    const keyPair = options.curve.keyFromPrivate(privateKey, 'hex');\n    const rawPublicKey = keyPair.getPublic('hex');\n    privateKeyObject = privateKeyObjectFn(privateKey, rawPublicKey);\n  } else if (originalFormat === 'der') {\n    if (typeof privateKey !== 'string') {\n      // do nothing\n    } else if (typeof privateKey === 'string') {\n      privateKey = Buffer.from(privateKey, 'hex');\n    } else {\n      throw 'private key must be a buffer or a string';\n    }\n    privateKeyObject = ECPrivateKeyASN.decode(privateKey, 'der');\n  } else if (originalFormat === 'pem') {\n    if (typeof privateKey !== 'string') {\n      throw 'private key must be a string';\n    }\n    privateKeyObject = ECPrivateKeyASN.decode(\n      privateKey,\n      'pem',\n      options.privatePEMOptions\n    );\n  } else {\n    throw 'invalid private key format';\n  }\n  /* Export the private key object to the desired format */\n  if (destinationFormat === 'raw') {\n    return privateKeyObject.privateKey.toString('hex');\n  } else if (destinationFormat === 'der') {\n    return ECPrivateKeyASN.encode(privateKeyObject, 'der').toString('hex');\n  } else if (destinationFormat === 'pem') {\n    return ECPrivateKeyASN.encode(\n      privateKeyObject,\n      'pem',\n      options.privatePEMOptions\n    );\n  } else {\n    throw 'invalid destination format for private key';\n  }\n}\n\nexport function encodePublic(\n  publicKey: string | Buffer,\n  originalFormat: KeyFormat,\n  destinationFormat: KeyFormat\n): string {\n  let publicKeyObject;\n\n  /* Parse the incoming public key and convert it to a public key object */\n  if (originalFormat === 'raw') {\n    if (typeof publicKey !== 'string') {\n      throw 'public key must be a string';\n    }\n    publicKeyObject = publicKeyObjectFn(publicKey);\n  } else if (originalFormat === 'der') {\n    if (typeof publicKey !== 'string') {\n      // do nothing\n    } else if (typeof publicKey === 'string') {\n      publicKey = Buffer.from(publicKey, 'hex');\n    } else {\n      throw 'public key must be a buffer or a string';\n    }\n    publicKeyObject = SubjectPublicKeyInfoASN.decode(publicKey, 'der');\n  } else if (originalFormat === 'pem') {\n    if (typeof publicKey !== 'string') {\n      throw 'public key must be a string';\n    }\n    publicKeyObject = SubjectPublicKeyInfoASN.decode(\n      publicKey,\n      'pem',\n      options.publicPEMOptions\n    );\n  } else {\n    throw 'invalid public key format';\n  }\n\n  /* Export the private key object to the desired format */\n  if (destinationFormat === 'raw') {\n    return publicKeyObject.pub.data.toString('hex');\n  } else if (destinationFormat === 'der') {\n    return SubjectPublicKeyInfoASN.encode(publicKeyObject, 'der').toString(\n      'hex'\n    );\n  } else if (destinationFormat === 'pem') {\n    return SubjectPublicKeyInfoASN.encode(\n      publicKeyObject,\n      'pem',\n      options.publicPEMOptions\n    );\n  } else {\n    throw 'invalid destination format for public key';\n  }\n}\n\nfunction privateKeyObjectFn(rawPrivateKey: string, rawPublicKey: string) {\n  const privateKeyObject: PK = {\n    version: new BN(1),\n    privateKey: Buffer.from(rawPrivateKey, 'hex'),\n    parameters: options.curveParameters\n  };\n\n  if (rawPublicKey) {\n    privateKeyObject.publicKey = {\n      unused: 0,\n      data: Buffer.from(rawPublicKey, 'hex')\n    };\n  }\n\n  return privateKeyObject;\n}\n\nfunction publicKeyObjectFn(rawPublicKey: string) {\n  return {\n    algorithm: {\n      id: algorithmID,\n      curve: options.curveParameters\n    },\n    pub: {\n      unused: 0,\n      data: Buffer.from(rawPublicKey, 'hex')\n    }\n  }\n}\n","import { Conversions } from '../Conversions';\n\n/**\n * Reads in a base64 private key, ignoring the header: `-----BEGIN PUBLIC KEY-----`\n * and footer: `-----END PUBLIC KEY-----`\n * @param {string} content A .pem private key string with a header and footer\n * @returns A base64 private key as a `Uint8Array`\n * @remarks\n * If the provided base64 `content` string does not include a header/footer,\n * it will pass through this function unaffected\n * @example\n * Example PEM:\n *\n * ```\n * -----BEGIN PUBLIC KEY-----\\r\\n\n * MFYwEAYHKoZIzj0CAQYFK4EEAAoDQgAEj1fgdbpNbt06EY/8C+wbBXq6VvG+vCVD\\r\\n\n * Nl74LvVAmXfpdzCWFKbdrnIlX3EFDxkd9qpk35F/kLcqV3rDn/u3dg==\\r\\n\n * -----END PUBLIC KEY-----\\r\\n\n * ```\n */\nexport function readBase64WithPEM(content: string): Uint8Array {\n  const base64 = content\n    // there are two kinks of line-endings, CRLF(\\r\\n) and LF(\\n)\n    // we need handle both\n    .split(/\\r?\\n/)\n    .filter(x => !x.startsWith('---'))\n    .join('')\n    // remove the line-endings in the end of content\n    .trim();\n  return Conversions.decodeBase64(base64);\n}\n\n/**\n * Parses and validates a key in a certain range \"from\" to \"to\"\n * @param {Uint8Array} bytes The key to be parsed and validated\n * @param {number} from The starting index from which to parse the key\n * @param {number} to The ending index from which to parse the key\n * @returns The parsed key\n * @throws `Error` if the key is of an unexpected length\n */\nexport const parseKey = (bytes: Uint8Array, from: number, to: number) => {\n  const len = bytes.length;\n\n  const key =\n    len === 32\n      ? bytes\n      : len === 64\n      ? Buffer.from(bytes).slice(from, to)\n      : len > 32 && len < 64\n      ? Buffer.from(bytes).slice(len % 32)\n      : null;\n  if (key == null || key.length !== 32) {\n    throw Error(`Unexpected key length: ${len}`);\n  }\n  return key;\n};\n","import {\n  Args,\n  CLValue,\n  ContractHash,\n  DEFAULT_DEPLOY_TTL,\n  Deploy,\n  DeployHeader,\n  Duration,\n  ExecutableDeployItem,\n  NativeDelegateBuilder,\n  NativeRedelegateBuilder,\n  NativeUndelegateBuilder,\n  PublicKey,\n  StoredContractByHash,\n  Timestamp,\n  Transaction\n} from '../types';\nimport { AuctionManagerEntryPoint, CasperNetworkName } from '../@types';\nimport { AuctionManagerContractHashMap } from './constants';\n\nexport interface IMakeAuctionManagerDeployParams {\n  contractEntryPoint:\n    | AuctionManagerEntryPoint.delegate\n    | AuctionManagerEntryPoint.undelegate\n    | AuctionManagerEntryPoint.redelegate;\n  delegatorPublicKeyHex: string;\n  validatorPublicKeyHex: string;\n  newValidatorPublicKeyHex?: string;\n  amount: string;\n  paymentAmount?: string;\n  chainName?: CasperNetworkName;\n  ttl?: number;\n  contractHash?: string;\n  timestamp?: string;\n  gasPrice?: number;\n}\n\n/**\n * Creates a `Deploy` for the Auction Manager contract.\n *\n * This function generates a `Deploy` that interacts with the Auction Manager\n * contract on the Casper network. It supports operations such as delegation,\n * un-delegation, and validator change management.\n *\n * @param params - The parameters required to create the Auction Manager deploy.\n * @param params.contractEntryPoint - The entry point to invoke in the Auction Manager contract.\n * @param params.delegatorPublicKeyHex - The delegator's public key in hexadecimal format.\n * @param params.validatorPublicKeyHex - The validator's public key in hexadecimal format.\n * @param params.newValidatorPublicKeyHex - (Optional) The new validator's public key in hexadecimal format (used in validator change operations).\n * @param params.amount - The amount of CSPR to delegate/undelegate/redelegate.\n *                        This value must be represented in its smallest unit (motes).\n *                        For example, to transfer 2.5 CSPR, provide the value `2500000000` (2.5 * 10^9 motes).\n * @param params.paymentAmount - The amount of CSPR to pay a network fee.\n *                        This value must be represented in its smallest unit (motes).\n *                        For example, to transfer 2.5 CSPR, provide the value `2500000000` (2.5 * 10^9 motes).\n * @param params.chainName - (Optional) The name of the Casper network chain - {CasperNetworkName}.\n *                           Must be either `'casper'` (mainnet) or `'casper-test'` (testnet).\n *                           Defaults to `'CasperNetworkName.Mainnet'` if not specified.\n * @param params.ttl - (Optional) The time-to-live (TTL) for the `Deploy` in milliseconds.\n *                      Specifies how long the `Deploy` is valid before it expires.\n *                      Defaults 1800000 (30 minutes)\n * @param params.timestamp - (Optional) The timestamp in ISO 8601 format\n * @param params.contractHash - (Optional) The custom contract hash\n *\n * @returns A deploy object that can be signed and sent to the network.\n *\n * @throws {Error} Throws an error if required parameters are missing or invalid.\n *\n * @example\n * ```ts\n * import { makeAuctionManagerDeploy, AuctionManagerEntryPoint } from 'casper-js-sdk';\n *\n * const deploy = makeAuctionManagerDeploy({\n *   contractEntryPoint: AuctionManagerEntryPoint.delegate,\n *   delegatorPublicKeyHex: \"0123456789abcdef...\",\n *   validatorPublicKeyHex: \"0123456789awedef...\",\n *   amount: \"500000000000\",\n * });\n * ```\n */\nexport const makeAuctionManagerDeploy = ({\n  delegatorPublicKeyHex,\n  validatorPublicKeyHex,\n  contractEntryPoint,\n  amount,\n  paymentAmount = '2500000000',\n  chainName = CasperNetworkName.Mainnet,\n  newValidatorPublicKeyHex,\n  ttl = DEFAULT_DEPLOY_TTL,\n  contractHash,\n  timestamp,\n  gasPrice = 1\n}: IMakeAuctionManagerDeployParams) => {\n  const delegatorPublicKey = PublicKey.newPublicKey(delegatorPublicKeyHex);\n  const validatorPublicKey = PublicKey.newPublicKey(validatorPublicKeyHex);\n  const newValidatorValidatorPublicKey = newValidatorPublicKeyHex\n    ? PublicKey.newPublicKey(newValidatorPublicKeyHex)\n    : null;\n  const auctionContractHash =\n    contractHash ?? AuctionManagerContractHashMap[chainName];\n\n  if (!auctionContractHash) {\n    throw new Error(\n      `Auction contract hash is undefined for chain: ${chainName}`\n    );\n  }\n\n  const session = new ExecutableDeployItem();\n  session.storedContractByHash = new StoredContractByHash(\n    ContractHash.newContract(auctionContractHash),\n    contractEntryPoint,\n    Args.fromMap({\n      validator: CLValue.newCLPublicKey(validatorPublicKey),\n      delegator: CLValue.newCLPublicKey(delegatorPublicKey),\n      amount: CLValue.newCLUInt512(amount),\n      ...(newValidatorValidatorPublicKey\n        ? {\n            new_validator: CLValue.newCLPublicKey(\n              newValidatorValidatorPublicKey\n            )\n          }\n        : {})\n    })\n  );\n\n  const payment = ExecutableDeployItem.standardPayment(paymentAmount);\n\n  const deployHeader = DeployHeader.default();\n  deployHeader.account = delegatorPublicKey;\n  deployHeader.chainName = chainName;\n  deployHeader.ttl = new Duration(ttl);\n  deployHeader.gasPrice = gasPrice;\n\n  if (timestamp) {\n    deployHeader.timestamp = Timestamp.fromJSON(timestamp);\n  }\n\n  return Deploy.makeDeploy(deployHeader, payment, session);\n};\n\ninterface IMakeAuctionManagerTransactionParams\n  extends IMakeAuctionManagerDeployParams {\n  casperNetworkApiVersion: string;\n}\n\nexport const makeAuctionManagerTransaction = ({\n  delegatorPublicKeyHex,\n  validatorPublicKeyHex,\n  contractEntryPoint,\n  amount,\n  paymentAmount = '2500000000',\n  chainName = CasperNetworkName.Mainnet,\n  newValidatorPublicKeyHex,\n  ttl = DEFAULT_DEPLOY_TTL,\n  contractHash,\n  timestamp,\n  casperNetworkApiVersion,\n  gasPrice = 1\n}: IMakeAuctionManagerTransactionParams): Transaction => {\n  if (casperNetworkApiVersion.startsWith('2.')) {\n    switch (contractEntryPoint) {\n      case AuctionManagerEntryPoint.delegate: {\n        let txBuilder = new NativeDelegateBuilder()\n          .validator(PublicKey.fromHex(validatorPublicKeyHex))\n          .from(PublicKey.fromHex(delegatorPublicKeyHex))\n          .amount(amount)\n          .chainName(chainName)\n          .payment(Number(paymentAmount), gasPrice)\n          .ttl(ttl);\n\n        if (timestamp) {\n          txBuilder = txBuilder.timestamp(Timestamp.fromJSON(timestamp));\n        }\n\n        return txBuilder.build();\n      }\n      case AuctionManagerEntryPoint.undelegate: {\n        let txBuilder = new NativeUndelegateBuilder()\n          .validator(PublicKey.fromHex(validatorPublicKeyHex))\n          .from(PublicKey.fromHex(delegatorPublicKeyHex))\n          .amount(amount)\n          .chainName(chainName)\n          .payment(Number(paymentAmount), gasPrice)\n          .ttl(ttl);\n\n        if (timestamp) {\n          txBuilder = txBuilder.timestamp(Timestamp.fromJSON(timestamp));\n        }\n\n        return txBuilder.build();\n      }\n      case AuctionManagerEntryPoint.redelegate: {\n        if (!newValidatorPublicKeyHex) {\n          throw new Error('Missing newValidatorPublicKeyHex param');\n        }\n\n        let txBuilder = new NativeRedelegateBuilder()\n          .validator(PublicKey.fromHex(validatorPublicKeyHex))\n          .newValidator(PublicKey.fromHex(newValidatorPublicKeyHex))\n          .from(PublicKey.fromHex(delegatorPublicKeyHex))\n          .amount(amount)\n          .chainName(chainName)\n          .payment(Number(paymentAmount), gasPrice)\n          .ttl(ttl);\n\n        if (timestamp) {\n          txBuilder = txBuilder.timestamp(Timestamp.fromJSON(timestamp));\n        }\n\n        return txBuilder.build();\n      }\n    }\n  } else {\n    return Transaction.fromDeploy(\n      makeAuctionManagerDeploy({\n        delegatorPublicKeyHex,\n        validatorPublicKeyHex,\n        contractEntryPoint,\n        amount,\n        paymentAmount,\n        chainName,\n        newValidatorPublicKeyHex,\n        ttl,\n        contractHash,\n        timestamp\n      })\n    );\n  }\n};\n","import { BigNumber } from '@ethersproject/bignumber';\n\nimport {\n  InfoGetTransactionResult,\n  PurseIdentifier,\n  PutDeployResult,\n  PutTransactionResult,\n  RpcClient\n} from '../rpc';\nimport {\n  Args,\n  CLValue,\n  ContractCallBuilder,\n  NativeDelegateBuilder,\n  NativeRedelegateBuilder,\n  NativeTransferBuilder,\n  NativeUndelegateBuilder,\n  PublicKey,\n  SessionBuilder,\n  Transaction,\n  TransactionHash,\n  Hash\n} from '../types';\nimport { ErrorCode } from '../@types';\n\nexport class CasperNetwork {\n  private rpcClient: RpcClient;\n  private apiVersion: number;\n\n  constructor(rpcClient: RpcClient, apiVersion: number) {\n    this.rpcClient = rpcClient;\n    this.apiVersion = apiVersion;\n  }\n\n  public static async create(\n    rpcClient: RpcClient,\n    apiVersion?: number\n  ): Promise<CasperNetwork> {\n    if (!apiVersion) {\n      const status = await rpcClient.getStatus();\n\n      apiVersion = status.apiVersion.startsWith('2.') ? 2 : 1;\n    }\n\n    return new CasperNetwork(rpcClient, apiVersion);\n  }\n\n  public createDelegateTransaction(\n    delegatorPublicKey: PublicKey,\n    validatorPublicKey: PublicKey,\n    networkName: string,\n    amountMotes: string | BigNumber,\n    deployCost: number,\n    ttl: number,\n    auctionContractHash?: string,\n    gasPriceTolerance?: number\n  ): Transaction {\n    if (this.apiVersion === 2) {\n      return new NativeDelegateBuilder()\n        .validator(validatorPublicKey)\n        .from(delegatorPublicKey)\n        .amount(amountMotes)\n        .chainName(networkName)\n        .payment(deployCost, gasPriceTolerance)\n        .ttl(ttl)\n        .build();\n    }\n\n    if (auctionContractHash) {\n      return new ContractCallBuilder()\n        .from(delegatorPublicKey)\n        .byHash(auctionContractHash)\n        .entryPoint('delegate')\n        .payment(deployCost, gasPriceTolerance)\n        .chainName(networkName)\n        .runtimeArgs(\n          Args.fromMap({\n            validator: CLValue.newCLPublicKey(validatorPublicKey),\n            delegator: CLValue.newCLPublicKey(delegatorPublicKey),\n            amount: CLValue.newCLUInt512(amountMotes)\n          })\n        )\n        .ttl(ttl)\n        .buildFor1_5();\n    }\n\n    throw new Error(\n      'Auction contract hash is required when creating a transaction on Casper Network 1.5.x'\n    );\n  }\n\n  public createUndelegateTransaction(\n    delegatorPublicKey: PublicKey,\n    validatorPublicKey: PublicKey,\n    networkName: string,\n    amountMotes: string | BigNumber,\n    deployCost: number,\n    ttl: number,\n    auctionContractHash?: string,\n    gasPriceTolerance?: number\n  ): Transaction {\n    if (this.apiVersion === 2) {\n      return new NativeUndelegateBuilder()\n        .validator(validatorPublicKey)\n        .from(delegatorPublicKey)\n        .amount(amountMotes)\n        .chainName(networkName)\n        .payment(deployCost, gasPriceTolerance)\n        .ttl(ttl)\n        .build();\n    }\n\n    if (auctionContractHash) {\n      return new ContractCallBuilder()\n        .from(delegatorPublicKey)\n        .byHash(auctionContractHash)\n        .entryPoint('undelegate')\n        .chainName(networkName)\n        .payment(deployCost, gasPriceTolerance)\n        .ttl(ttl)\n        .runtimeArgs(\n          Args.fromMap({\n            validator: CLValue.newCLPublicKey(validatorPublicKey),\n            delegator: CLValue.newCLPublicKey(delegatorPublicKey),\n            amount: CLValue.newCLUInt512(amountMotes)\n          })\n        )\n        .buildFor1_5();\n    }\n\n    throw new Error(\n      'Auction contract hash is required when creating a transaction on Casper Network 1.5.x'\n    );\n  }\n\n  public createRedelegateTransaction(\n    delegatorPublicKey: PublicKey,\n    validatorPublicKey: PublicKey,\n    newValidatorPublicKey: PublicKey,\n    networkName: string,\n    amountMotes: string | BigNumber,\n    deployCost: number,\n    ttl: number,\n    auctionContractHash?: string,\n    gasPriceTolerance?: number\n  ): Transaction {\n    if (this.apiVersion === 2) {\n      return new NativeRedelegateBuilder()\n        .validator(validatorPublicKey)\n        .newValidator(newValidatorPublicKey)\n        .from(delegatorPublicKey)\n        .amount(amountMotes)\n        .chainName(networkName)\n        .payment(deployCost, gasPriceTolerance)\n        .ttl(ttl)\n        .build();\n    }\n\n    if (auctionContractHash) {\n      return new ContractCallBuilder()\n        .from(delegatorPublicKey)\n        .byHash(auctionContractHash)\n        .entryPoint('redelegate')\n        .chainName(networkName)\n        .payment(deployCost, gasPriceTolerance)\n        .runtimeArgs(\n          Args.fromMap({\n            validator: CLValue.newCLPublicKey(validatorPublicKey),\n            delegator: CLValue.newCLPublicKey(delegatorPublicKey),\n            amount: CLValue.newCLUInt512(amountMotes),\n            ...(newValidatorPublicKey\n              ? {\n                  new_validator: CLValue.newCLPublicKey(newValidatorPublicKey)\n                }\n              : {})\n          })\n        )\n        .ttl(ttl)\n        .buildFor1_5();\n    }\n\n    throw new Error(\n      'Auction contract hash is required when creating a transaction on Casper Network 1.5.x'\n    );\n  }\n\n  public createTransferTransaction(\n    senderPublicKey: PublicKey,\n    recipientPublicKey: PublicKey,\n    networkName: string,\n    amountMotes: string,\n    deployCost: number,\n    ttl: number,\n    id: number,\n    gasPriceTolerance?: number\n  ): Transaction {\n    const transferBuilder = new NativeTransferBuilder()\n      .from(senderPublicKey)\n      .target(recipientPublicKey)\n      .amount(amountMotes)\n      .chainName(networkName)\n      .payment(deployCost, gasPriceTolerance)\n      .ttl(ttl)\n      .id(id);\n    if (this.apiVersion === 2) {\n      return transferBuilder.build();\n    }\n\n    return transferBuilder.buildFor1_5();\n  }\n\n  public createContractCallTransaction(\n    senderPublicKey: PublicKey,\n    contractHash: string,\n    entryPoint: string,\n    networkName: string,\n    deployCost: number,\n    ttl: number,\n    args: Args,\n    gasPriceTolerance?: number\n  ): Transaction {\n    const contractCall = new ContractCallBuilder()\n      .byHash(contractHash)\n      .from(senderPublicKey)\n      .entryPoint(entryPoint)\n      .chainName(networkName)\n      .runtimeArgs(args)\n      .ttl(ttl)\n      .payment(deployCost, gasPriceTolerance);\n\n    if (this.apiVersion === 2) {\n      return contractCall.build();\n    }\n\n    return contractCall.buildFor1_5();\n  }\n\n  public createContractPackageCallTransaction(\n    senderPublicKey: PublicKey,\n    contractPackageHash: string,\n    entryPoint: string,\n    networkName: string,\n    deployCost: number,\n    args: Args,\n    ttl: number,\n    contractVersion?: number,\n    gasPriceTolerance?: number\n  ): Transaction {\n    const contractCall = new ContractCallBuilder()\n      .byPackageHash(contractPackageHash, contractVersion)\n      .from(senderPublicKey)\n      .entryPoint(entryPoint)\n      .chainName(networkName)\n      .runtimeArgs(args)\n      .ttl(ttl)\n      .payment(deployCost, gasPriceTolerance);\n\n    if (this.apiVersion === 2) {\n      return contractCall.build();\n    }\n\n    return contractCall.buildFor1_5();\n  }\n\n  public createSessionWasmTransaction(\n    senderPublicKey: PublicKey,\n    networkName: string,\n    deployCost: number,\n    ttl: number,\n    bytes: Uint8Array,\n    args: Args,\n    gasPriceTolerance?: number\n  ): Transaction {\n    const sessionWasm = new SessionBuilder()\n      .from(senderPublicKey)\n      .chainName(networkName)\n      .payment(deployCost, gasPriceTolerance)\n      .ttl(ttl)\n      .wasm(bytes)\n      .runtimeArgs(args);\n\n    if (this.apiVersion === 2) {\n      return sessionWasm.build();\n    }\n\n    return sessionWasm.buildFor1_5();\n  }\n\n  public async putTransaction(\n    transaction: Transaction\n  ): Promise<PutTransactionResult | PutDeployResult> {\n    if (this.apiVersion == 2) {\n      return await this.rpcClient.putTransaction(transaction);\n    }\n\n    const deploy = transaction.getDeploy();\n    if (deploy) {\n      return await this.rpcClient.putDeploy(deploy);\n    }\n\n    return Promise.reject(\n      'Legacy deploy transaction is required when submitting to Casper Network 1.5'\n    );\n  }\n\n  public async getTransaction(\n    hash: TransactionHash | Hash | string\n  ): Promise<InfoGetTransactionResult> {\n    if (typeof hash === 'string') {\n      hash = Hash.fromHex(hash);\n    }\n\n    if (this.apiVersion === 2) {\n      return await this.getTransactionOnCasper2x(hash);\n    }\n\n    return await this.getTransactionOnCasper1x(hash);\n  }\n\n  private async getTransactionOnCasper2x(\n    hash: TransactionHash | Hash\n  ): Promise<InfoGetTransactionResult> {\n    if (hash instanceof TransactionHash) {\n      if (hash.transactionV1) {\n        return await this.rpcClient.getTransactionByTransactionHash(\n          hash.transactionV1.toHex()\n        );\n      }\n      if (hash.deploy) {\n        return await this.rpcClient.getTransactionByDeployHash(\n          hash.deploy.toHex()\n        );\n      }\n    }\n\n    /**\n     * For unknown hash types, try fetching by transaction hash first, then fallback to deploy hash\n     */\n    try {\n      return await this.rpcClient.getTransactionByTransactionHash(hash.toHex());\n    } catch (error) {\n      if (error?.statusCode === ErrorCode.NoSuchTransaction) {\n        return await this.rpcClient.getTransactionByDeployHash(hash.toHex());\n      }\n      throw error;\n    }\n  }\n\n  private async getTransactionOnCasper1x(\n    hash: TransactionHash | Hash\n  ): Promise<InfoGetTransactionResult> {\n    const getDeployResult = await this.rpcClient.getDeploy(hash.toHex());\n    return getDeployResult.toInfoGetTransactionResult();\n  }\n\n  public async queryLatestBalance(identifier: PurseIdentifier) {\n    if (this.apiVersion === 2) {\n      return this.rpcClient.queryLatestBalance(identifier);\n    }\n\n    const purseUref = identifier?.purseUref;\n    if (!purseUref) return;\n\n    const balance = await this.rpcClient.getLatestBalance(\n      purseUref.toPrefixedString()\n    );\n    return balance?.toQueryBalanceResult();\n  }\n}\n","import {\n  Args,\n  CLValue,\n  ContractCallBuilder,\n  ContractHash,\n  DEFAULT_DEPLOY_TTL,\n  Deploy,\n  DeployHeader,\n  Duration,\n  ExecutableDeployItem,\n  Key,\n  KeyTypeID,\n  PublicKey,\n  StoredVersionedContractByHash,\n  Timestamp,\n  Transaction\n} from '../types';\nimport { CasperNetworkName } from '../@types';\n\nexport interface IMakeCep18TransferDeployParams {\n  contractPackageHash: string;\n  senderPublicKeyHex: string;\n  recipientPublicKeyHex: string;\n  transferAmount: string;\n  paymentAmount: string;\n  chainName?: string;\n  ttl?: number;\n  timestamp?: string;\n  gasPrice?: number;\n}\n\n/**\n * This function generates a `Deploy` for transferring CEP-18 from one account to another.\n *\n * @param params - The parameters required to create the CEP-18 transfer deploy.\n * @param params.contractPackageHash - The hash of the contract package to interact with.\n *                              This is a 64-character hexadecimal string representing the contract package.\n * @param params.senderPublicKeyHex - The sender's public key in hexadecimal format.\n * @param params.recipientPublicKeyHex - The recipient's public key in hexadecimal format.\n * @param params.transferAmount - The amount of CSPR to transfer.\n *                                This value must be represented in its smallest unit (motes).\n *                                For example, to transfer 2.5 CSPR, provide the value `2500000000` (2.5 * 10^9 motes).\n * @param params.paymentAmount - The amount of CSPR to pay a network fee.\n *                               This value must be represented in its smallest unit (motes).\n * @param params.chainName - (Optional) The name of the Casper network chain.\n *                           Defaults to `'CasperNetworkName.Mainnet'` if not specified.\n * @param params.ttl - (Optional) The time-to-live (TTL) for the `Deploy` in milliseconds.\n *                      Specifies how long the `Deploy` is valid before it expires.\n *                      Defaults 1800000 (30 minutes)\n * @param params.timestamp - (Optional) The timestamp in ISO 8601 format\n *\n * @returns A promise that resolves to the created Deploy instance, ready to be sent to the Casper network.\n *\n * @example\n * ```ts\n * import { makeCsprTransferDeploy } from 'casper-js-sdk';\n *\n * const deploy = await makeCep18TransferDeploy({\n *   contractHash: '0123456789asdfbcdef...',\n *   senderPublicKeyHex: '0123456789asdfbcdef...',\n *   recipientPublicKeyHex: '0123456789abcdef...',\n *   transferAmount: '25000000000', // 25 CEP-18 with 9 decimals\n *   paymentAmount: '3000000000', // 3 CSPR\n * });\n *\n * console.log('Created Deploy:', deploy);\n * ```\n */\n\nexport const makeCep18TransferDeploy = ({\n  contractPackageHash,\n  senderPublicKeyHex,\n  recipientPublicKeyHex,\n  transferAmount,\n  paymentAmount,\n  chainName = CasperNetworkName.Mainnet,\n  ttl = DEFAULT_DEPLOY_TTL,\n  timestamp,\n  gasPrice = 1\n}: IMakeCep18TransferDeployParams): Deploy => {\n  const senderPublicKey = PublicKey.newPublicKey(senderPublicKeyHex);\n  const recipientPublicKey = PublicKey.newPublicKey(recipientPublicKeyHex);\n\n  const session = new ExecutableDeployItem();\n\n  session.storedVersionedContractByHash = new StoredVersionedContractByHash(\n    ContractHash.newContract(contractPackageHash),\n    'transfer',\n    Args.fromMap({\n      recipient: CLValue.newCLKey(\n        Key.createByType(\n          recipientPublicKey.accountHash().toPrefixedString(),\n          KeyTypeID.Account\n        )\n      ),\n      amount: CLValue.newCLUInt256(transferAmount)\n    })\n  );\n\n  const payment = ExecutableDeployItem.standardPayment(paymentAmount);\n\n  const deployHeader = DeployHeader.default();\n  deployHeader.account = senderPublicKey;\n  deployHeader.chainName = chainName;\n  deployHeader.ttl = new Duration(ttl);\n  deployHeader.gasPrice = gasPrice;\n\n  if (timestamp) {\n    deployHeader.timestamp = Timestamp.fromJSON(timestamp);\n  }\n\n  return Deploy.makeDeploy(deployHeader, payment, session);\n};\n\ninterface IMakeCep18TransferTransactionParams\n  extends IMakeCep18TransferDeployParams {\n  casperNetworkApiVersion: string;\n}\n\nexport const makeCep18TransferTransaction = ({\n  contractPackageHash,\n  senderPublicKeyHex,\n  recipientPublicKeyHex,\n  transferAmount,\n  paymentAmount,\n  chainName = CasperNetworkName.Mainnet,\n  ttl = DEFAULT_DEPLOY_TTL,\n  timestamp,\n  casperNetworkApiVersion,\n  gasPrice = 1\n}: IMakeCep18TransferTransactionParams): Transaction => {\n  if (casperNetworkApiVersion.startsWith('2.')) {\n    let txBuilder = new ContractCallBuilder()\n      .byPackageHash(contractPackageHash)\n      .entryPoint('transfer')\n      .from(PublicKey.fromHex(senderPublicKeyHex))\n      .chainName(chainName)\n      .payment(Number(paymentAmount), gasPrice)\n      .ttl(ttl)\n      .runtimeArgs(\n        Args.fromMap({\n          recipient: CLValue.newCLKey(\n            Key.createByType(\n              PublicKey.fromHex(recipientPublicKeyHex)\n                .accountHash()\n                .toPrefixedString(),\n              KeyTypeID.Account\n            )\n          ),\n          amount: CLValue.newCLUInt256(transferAmount)\n        })\n      );\n\n    if (timestamp) {\n      txBuilder = txBuilder.timestamp(Timestamp.fromJSON(timestamp));\n    }\n\n    return txBuilder.build();\n  } else {\n    return Transaction.fromDeploy(\n      makeCep18TransferDeploy({\n        contractPackageHash,\n        senderPublicKeyHex,\n        recipientPublicKeyHex,\n        transferAmount,\n        paymentAmount,\n        chainName,\n        ttl,\n        timestamp\n      })\n    );\n  }\n};\n","import {\n  Args,\n  CLTypeUInt256,\n  CLTypeUInt8,\n  CLValue,\n  ContractCallBuilder,\n  ContractHash,\n  DEFAULT_DEPLOY_TTL,\n  Deploy,\n  DeployHeader,\n  Duration,\n  ExecutableDeployItem,\n  Key,\n  KeyTypeID,\n  PublicKey,\n  StoredVersionedContractByHash,\n  Timestamp,\n  Transaction\n} from '../types';\nimport { CasperNetworkName, NFTTokenStandard } from '../@types';\n\nexport interface IMakeNftTransferDeployParams {\n  nftStandard: NFTTokenStandard;\n  contractPackageHash: string;\n  senderPublicKeyHex: string;\n  recipientPublicKeyHex: string;\n  paymentAmount: string;\n  chainName?: string;\n  ttl?: number;\n  tokenId?: string;\n  tokenHash?: string;\n  timestamp?: string;\n  gasPrice?: number;\n}\n\n/**\n * Creates a `Deploy` for transferring an NFT (Non-Fungible Token).\n * This function constructs and returns a `Deploy` for transferring NFTs according to the specified parameters.\n *\n * @param params - The parameters required to create the NFT transfer deploy.\n * @param params.nftStandard - The NFT standard being used (e.g., CEP-78, CEP-47).\n * @param params.contractPackageHash - The hash of the contract package to interact with.\n * @param params.senderPublicKeyHex - The sender's public key in hexadecimal format.\n * @param params.recipientPublicKeyHex - The recipient's public key in hexadecimal format.\n * @param params.paymentAmount - The payment amount for the transaction, specified in motes.\n * @param params.chainName - The name of the Casper network chain (e.g., \"casper\", \"casper-test\"). Defaults to Mainnet.\n * @param params.ttl - The time-to-live (TTL) for the deploy in milliseconds. Defaults to the constant `DEFAULT_DEPLOY_TTL`.\n * @param params.tokenId - The ID of the token to transfer. Optional and used if the standard requires it.\n * @param params.tokenHash - The hash of the token to transfer. Optional and used if the standard requires it.\n * @param params.timestamp - (Optional) The timestamp in ISO 8601 format\n *\n * @returns A deploy object representing the NFT transfer operation.\n *\n * @example\n * ```ts\n * import { makeNftTransferDeploy, NFTTokenStandard } from 'casper-js-sdk';\n *\n * const deploy = await makeNftTransferDeploy({\n *   nftStandard: NFTTokenStandard.CEP47,\n *   contractPackageHash: '0123456789asdfbcdef...',\n *   senderPublicKeyHex: '0123456789asdfbcdef...',\n *   recipientPublicKeyHex: '0123456789abcdef...',\n *   paymentAmount: '3000000000', // 3 CSPR\n *   tokenId: 234,\n * });\n *\n * console.log('Created Deploy:', deploy);\n * ```\n */\nexport const makeNftTransferDeploy = ({\n  nftStandard,\n  contractPackageHash,\n  senderPublicKeyHex,\n  recipientPublicKeyHex,\n  paymentAmount,\n  chainName = CasperNetworkName.Mainnet,\n  ttl = DEFAULT_DEPLOY_TTL,\n  tokenId,\n  tokenHash,\n  timestamp,\n  gasPrice = 1\n}: IMakeNftTransferDeployParams): Deploy => {\n  const senderPublicKey = PublicKey.newPublicKey(senderPublicKeyHex);\n\n  const args = getRuntimeArgsForNftTransfer({\n    nftStandard,\n    recipientPublicKeyHex,\n    senderPublicKeyHex,\n    tokenHash,\n    tokenId\n  });\n\n  const session = new ExecutableDeployItem();\n\n  session.storedVersionedContractByHash = new StoredVersionedContractByHash(\n    ContractHash.newContract(contractPackageHash),\n    'transfer',\n    args\n  );\n\n  const payment = ExecutableDeployItem.standardPayment(paymentAmount);\n\n  const deployHeader = DeployHeader.default();\n  deployHeader.account = senderPublicKey;\n  deployHeader.chainName = chainName;\n  deployHeader.ttl = new Duration(ttl);\n  deployHeader.gasPrice = gasPrice;\n\n  if (timestamp) {\n    deployHeader.timestamp = Timestamp.fromJSON(timestamp);\n  }\n\n  return Deploy.makeDeploy(deployHeader, payment, session);\n};\n\ninterface IMakeNftTransferTransactionParams\n  extends IMakeNftTransferDeployParams {\n  casperNetworkApiVersion: string;\n}\n\nexport const makeNftTransferTransaction = ({\n  nftStandard,\n  contractPackageHash,\n  senderPublicKeyHex,\n  recipientPublicKeyHex,\n  paymentAmount,\n  chainName = CasperNetworkName.Mainnet,\n  ttl = DEFAULT_DEPLOY_TTL,\n  tokenId,\n  tokenHash,\n  timestamp,\n  casperNetworkApiVersion,\n  gasPrice = 1\n}: IMakeNftTransferTransactionParams): Transaction => {\n  if (casperNetworkApiVersion.startsWith('2.')) {\n    let txBuilder = new ContractCallBuilder()\n      .byPackageHash(contractPackageHash)\n      .entryPoint(nftStandard === NFTTokenStandard.CEP95 ? 'transfer_from' : 'transfer')\n      .from(PublicKey.fromHex(senderPublicKeyHex))\n      .chainName(chainName)\n      .ttl(ttl)\n      .payment(Number(paymentAmount), gasPrice)\n      .runtimeArgs(\n        getRuntimeArgsForNftTransfer({\n          nftStandard,\n          recipientPublicKeyHex,\n          senderPublicKeyHex,\n          tokenHash,\n          tokenId\n        })\n      );\n\n    if (timestamp) {\n      txBuilder = txBuilder.timestamp(Timestamp.fromJSON(timestamp));\n    }\n\n    return txBuilder.build();\n  } else {\n    return Transaction.fromDeploy(\n      makeNftTransferDeploy({\n        nftStandard,\n        contractPackageHash,\n        senderPublicKeyHex,\n        recipientPublicKeyHex,\n        paymentAmount,\n        chainName,\n        ttl,\n        tokenId,\n        tokenHash,\n        timestamp\n      })\n    );\n  }\n};\n\nexport const getRuntimeArgsForNftTransfer = ({\n  nftStandard,\n  senderPublicKeyHex,\n  recipientPublicKeyHex,\n  tokenId,\n  tokenHash\n}: Pick<\n  IMakeNftTransferDeployParams,\n  | 'nftStandard'\n  | 'senderPublicKeyHex'\n  | 'recipientPublicKeyHex'\n  | 'tokenId'\n  | 'tokenHash'\n>): Args => {\n  if (!(tokenId || tokenHash)) {\n    throw new Error('Specify either tokenId or tokenHash to make a transfer');\n  }\n\n  let args: Args | null = null;\n\n  if (nftStandard === NFTTokenStandard.CEP47) {\n    if (!tokenId) {\n      throw new Error('TokenId is required for CEP-47 transfer');\n    }\n\n    args = getRuntimeArgsForCep47Transfer({ tokenId, recipientPublicKeyHex });\n  }\n\n  if (nftStandard === NFTTokenStandard.CEP78) {\n    args = getRuntimeArgsForCep78Transfer({\n      tokenId,\n      tokenHash,\n      senderPublicKeyHex,\n      recipientPublicKeyHex\n    });\n  }\n\n  if (nftStandard === NFTTokenStandard.CEP95) {\n    if (!tokenId) {\n      throw new Error('TokenId is required for CEP-95 transfer');\n    }\n\n    args = getRuntimeArgsForCep95Transfer({ tokenId, recipientPublicKeyHex, senderPublicKeyHex });\n  }\n\n  if (!args) {\n    throw new Error('Arguments error. Check provided token data');\n  }\n\n  return args;\n};\n\nexport const getRuntimeArgsForCep78Transfer = ({\n  tokenHash,\n  tokenId,\n  recipientPublicKeyHex,\n  senderPublicKeyHex\n}: Pick<\n  IMakeNftTransferDeployParams,\n  'tokenId' | 'recipientPublicKeyHex' | 'tokenHash' | 'senderPublicKeyHex'\n>) => {\n  const runtimeArgs = Args.fromMap({\n    target_key: CLValue.newCLKey(\n      Key.createByType(\n        PublicKey.fromHex(recipientPublicKeyHex)\n          .accountHash()\n          .toPrefixedString(),\n        KeyTypeID.Account\n      )\n    ),\n    source_key: CLValue.newCLKey(\n      Key.createByType(\n        PublicKey.fromHex(senderPublicKeyHex)\n          .accountHash()\n          .toPrefixedString(),\n        KeyTypeID.Account\n      )\n    )\n  });\n\n  if (tokenId) {\n    try {\n      runtimeArgs.insert(\n        'is_hash_identifier_mode',\n        CLValue.newCLValueBool(false)\n      );\n      runtimeArgs.insert('token_id', CLValue.newCLUint64(tokenId));\n    } catch {\n      throw new Error('Invalid \"tokenId\" value. It should be uint64. Consider to use \"tokenHash\" param')\n    }\n  }\n\n  if (tokenHash) {\n    runtimeArgs.insert('is_hash_identifier_mode', CLValue.newCLValueBool(true));\n    runtimeArgs.insert('token_hash', CLValue.newCLString(tokenHash));\n  }\n\n  return runtimeArgs;\n};\n\nexport function getRuntimeArgsForCep47Transfer({\n  tokenId,\n  recipientPublicKeyHex\n}: Required<\n  Pick<IMakeNftTransferDeployParams, 'tokenId' | 'recipientPublicKeyHex'>\n>) {\n  return Args.fromMap({\n    recipient: CLValue.newCLKey(\n      Key.createByType(\n        PublicKey.fromHex(recipientPublicKeyHex)\n          .accountHash()\n          .toPrefixedString(),\n        KeyTypeID.Account\n      )\n    ),\n    token_ids: CLValue.newCLList(CLTypeUInt256, [CLValue.newCLUInt256(tokenId)])\n  });\n}\n\nexport function getRuntimeArgsForCep95Transfer({\n  tokenId,\n  recipientPublicKeyHex,\n  senderPublicKeyHex,\n}: Required<\n  Pick<IMakeNftTransferDeployParams, 'tokenId' | 'recipientPublicKeyHex' | 'senderPublicKeyHex'>\n>) {\n  return Args.fromMap({\n    from: CLValue.newCLKey(\n      Key.createByType(\n        PublicKey.fromHex(senderPublicKeyHex)\n          .accountHash()\n          .toPrefixedString(),\n        KeyTypeID.Account\n      )\n    ),\n    to: CLValue.newCLKey(\n      Key.createByType(\n        PublicKey.fromHex(recipientPublicKeyHex)\n          .accountHash()\n          .toPrefixedString(),\n        KeyTypeID.Account\n      )\n    ),\n    token_id: CLValue.newCLUInt256(tokenId),\n    data: CLValue.newCLOption(null, CLTypeUInt8),\n  });\n}\n","export function getEnumKeyByValue<T extends object>(\n  enumObj: T,\n  value: T[keyof T]\n): string | undefined {\n  return Object.keys(enumObj).find(key => enumObj[key as keyof T] === value);\n}\n\n/**\n * Compares two `Uint8Array`s\n * @param a The first `Uint8Array`\n * @param b The second `Uint8Array`\n * @returns `true` if the two `Uint8Array`s match, and `false` otherwise\n */\nexport const arrayEquals = (a: Uint8Array, b: Uint8Array): boolean => {\n  return a.length === b.length && a.every((val, index) => val === b[index]);\n};\n\n/**\n * Utility function to sleep for a given duration.\n * @param ms - Duration in milliseconds.\n * @returns A promise that resolves after the given duration.\n */\nexport const sleep = (ms: number): Promise<void> =>\n  new Promise(resolve => setTimeout(resolve, ms));\n","import { CasperNetworkName } from '../@types';\n\nexport const AuctionManagerContractHashMap: Record<\n  CasperNetworkName,\n  string\n> = {\n  [CasperNetworkName.Mainnet]:\n    'ccb576d6ce6dec84a551e48f0d0b7af89ddba44c7390b690036257a04a3ae9ea',\n  [CasperNetworkName.Testnet]:\n    '93d923e336b20a4c4ca14d592b60e5bd3fe330775618290104f9beb326db7ae2',\n  [CasperNetworkName.Integration]:\n    'e22d38bcf3454a93face78a353feaccbf1d637d1ef9ef2e061a655728ff59bbe',\n  [CasperNetworkName.DevNet]:\n    '93d923e336b20a4c4ca14d592b60e5bd3fe330775618290104f9beb326db7ae2'\n};\n\nexport const DEFAULT_MINIMUM_DELEGATION_AMOUNT =\n  BigInt(500) * BigInt(1_000_000_000);\nexport const DEFAULT_MAXIMUM_DELEGATION_AMOUNT =\n  BigInt(1_000_000_000) * BigInt(1_000_000_000);\n","import {\n  DEFAULT_DEPLOY_TTL,\n  Deploy,\n  DeployHeader,\n  Duration,\n  ExecutableDeployItem,\n  NativeTransferBuilder,\n  PublicKey,\n  Timestamp,\n  Transaction,\n  TransferDeployItem\n} from '../types';\nimport { CasperNetworkName } from '../@types';\n\nexport interface IMakeCsprTransferDeployParams {\n  senderPublicKeyHex: string;\n  recipientPublicKeyHex: string;\n  transferAmount: string;\n  chainName?: string;\n  memo?: string;\n  ttl?: number;\n  timestamp?: string;\n  gasPrice?: number;\n  paymentAmount?: string;\n}\n\n/**\n * Creates a CSPR transfer `Deploy`.\n *\n * This function generates a `Deploy` for transferring CSPR from one account to another.\n *\n * @param params - The parameters required to create the transfer deploy.\n * @param params.senderPublicKeyHex - The sender's public key in hexadecimal format.\n * @param params.recipientPublicKeyHex - The recipient's public key in hexadecimal format.\n * @param params.transferAmount - The amount of CSPR to transfer.\n *                                This value must be represented in its smallest unit (motes).\n *                                For example, to transfer 2.5 CSPR, provide the value `2500000000` (2.5 * 10^9 motes).\n * @param params.chainName - (Optional) The name of the Casper network chain.\n *                           Defaults to `'CasperNetworkName.Mainnet'` if not specified.\n * @param params.memo - (Optional) Tag/Memo (Comment/Note/Remark)\n *                      Most exchanges require a Tag/Memo for CSPR deposits to be credited correctly.\n *                      Make sure to provide the Tag/Memo if required.\n * @param params.ttl - (Optional) The time-to-live (TTL) for the `Deploy` in milliseconds.\n *                      Specifies how long the `Deploy` is valid before it expires.\n *                      Defaults 1800000 (30 minutes)\n * @param params.timestamp - (Optional) The timestamp in ISO 8601 format\n *\n * @returns A promise that resolves to the created Deploy instance, ready to be sent to the Casper network.\n *\n * @example\n * ```ts\n * import { makeCsprTransferDeploy } from 'casper-js-sdk';\n *\n * const deploy = await makeCsprTransferDeploy({\n *   senderPublicKeyHex: '0123456789asdfbcdef...',\n *   recipientPublicKeyHex: '0123456789abcdef...',\n *   transferAmount: '2500000000', // 2.5 CSPR\n * });\n *\n * console.log('Created Deploy:', deploy);\n * ```\n */\nexport const makeCsprTransferDeploy = ({\n  senderPublicKeyHex,\n  recipientPublicKeyHex,\n  transferAmount,\n  chainName = CasperNetworkName.Mainnet,\n  memo,\n  ttl = DEFAULT_DEPLOY_TTL,\n  timestamp,\n  gasPrice = 1,\n  paymentAmount = '100000000'\n}: IMakeCsprTransferDeployParams) => {\n  const recipientKey = PublicKey.newPublicKey(recipientPublicKeyHex);\n  const senderKey = PublicKey.newPublicKey(senderPublicKeyHex);\n\n  const session = new ExecutableDeployItem();\n  session.transfer = TransferDeployItem.newTransfer(\n    transferAmount,\n    recipientKey,\n    undefined,\n    memo\n  );\n\n  const payment = ExecutableDeployItem.standardPayment(paymentAmount);\n\n  const deployHeader = DeployHeader.default();\n  deployHeader.account = senderKey;\n  deployHeader.chainName = chainName;\n  deployHeader.ttl = new Duration(ttl);\n  deployHeader.gasPrice = gasPrice;\n\n  if (timestamp) {\n    deployHeader.timestamp = Timestamp.fromJSON(timestamp);\n  }\n\n  return Deploy.makeDeploy(deployHeader, payment, session);\n};\n\ninterface IMakeCsprTransferTransactionParams\n  extends IMakeCsprTransferDeployParams {\n  casperNetworkApiVersion: string;\n}\n\nexport const makeCsprTransferTransaction = ({\n  senderPublicKeyHex,\n  recipientPublicKeyHex,\n  transferAmount,\n  chainName = CasperNetworkName.Mainnet,\n  memo,\n  ttl = DEFAULT_DEPLOY_TTL,\n  timestamp,\n  casperNetworkApiVersion,\n  gasPrice = 1,\n  paymentAmount = '100000000'\n}: IMakeCsprTransferTransactionParams): Transaction => {\n  if (casperNetworkApiVersion.startsWith('2')) {\n    let txBuilder = new NativeTransferBuilder()\n      .from(PublicKey.fromHex(senderPublicKeyHex))\n      .target(PublicKey.fromHex(recipientPublicKeyHex))\n      .amount(transferAmount)\n      .chainName(chainName)\n      .payment(Number(paymentAmount), gasPrice)\n      .ttl(ttl);\n\n    if (timestamp) {\n      txBuilder = txBuilder.timestamp(Timestamp.fromJSON(timestamp));\n    }\n\n    if (memo) {\n      txBuilder = txBuilder.id(Number(memo));\n    }\n\n    return txBuilder.build();\n  } else {\n    return Transaction.fromDeploy(\n      makeCsprTransferDeploy({\n        senderPublicKeyHex,\n        recipientPublicKeyHex,\n        transferAmount,\n        chainName,\n        memo,\n        ttl,\n        timestamp\n      })\n    );\n  }\n};\n","export * from './cspr-transfer';\nexport * from './casper-network';\nexport * from './auction-manager';\nexport * from './constants';\nexport * from './cep-18-transfer';\nexport * from './cep-nft-transfer';\nexport * from './common';\n","module.exports = require(\"@ethersproject/bignumber\");","module.exports = require(\"@ethersproject/bytes\");","module.exports = require(\"@ethersproject/constants\");","module.exports = require(\"@noble/ed25519\");","module.exports = require(\"@noble/hashes/blake2b\");","module.exports = require(\"@noble/hashes/hmac\");","module.exports = require(\"@noble/hashes/sha256\");","module.exports = require(\"@noble/hashes/sha512\");","module.exports = require(\"@noble/secp256k1\");","module.exports = require(\"asn1.js\");","module.exports = require(\"axios\");","module.exports = require(\"bn.js\");","module.exports = require(\"elliptic\");","module.exports = require(\"eventsource\");","module.exports = require(\"humanize-duration\");","module.exports = require(\"lodash/isNull\");","module.exports = require(\"ts-results\");","module.exports = require(\"typedjson\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(887);\n"],"names":["NFTTokenStandard","AuctionManagerEntryPoint","CasperNetworkName","ErrorCode","code","message","data","toString","this","JSON","stringify","jsonMember","constructor","Number","isRequired","AnyT","jsonObject","RpcError","Error","statusCode","sourceErr","unwrap","isNotFound","isHttpError","err","Boolean","HttpError","ErrParamsJsonStringifyHandler","ErrProcessHttpRequest","ErrReadHttpResponseBody","ErrRpcResponseUnmarshal","endpoint","client","customHeaders","httpClient","create","setCustomHeaders","headers","setReferrer","url","referrer","processCall","params","serializer","TypedJSON","RpcRequest","body","processAxiosRequest","processFetchRequest","config","method","request","response","status","statusText","isAxiosError","fetch","json","HttpHandler","value","intValue","strValue","isIntValue","IDValue","fromString","fromInt","toInt","val","parseInt","isNaN","toJSON","fromJSON","preserveNull","String","Method","ApiVersion","version","id","defaultRpcRequest","name","deserializer","stateRootHash","key","path","jsonArrayMember","ParamStateRootHash","hash","height","BlockIdentifier","blockHash","blockHeight","ParamQueryGlobalStateID","stateIdentifier","ParamQueryGlobalState","newQueryGlobalStateParam","transactionHash","finalizedApprovals","TransactionHash","ParamTransactionHash","deployHash","ParamDeployHash","blockIdentifier","ParamBlockIdentifier","byHeight","undefined","byHash","accountIdentifier","paramBlockIdentifier","Object","assign","account_identifier","toPlainJson","ParamGetAccountInfoBalance","accountHash","publicKey","entityAddr","EntityIdentifier","fromAccountHash","fromPublicKey","pubKey","fromEntityAddr","AccountHash","PublicKey","EntityAddr","entityIdentifier","ParamGetStateEntity","AccountIdentifier","deploy","Deploy","PutDeployRequest","transaction","TransactionWrapper","PutTransactionRequest","stateRoot","GlobalStateIdentifier","block","era","EraIdentifier","dictionaryItemKey","seedUref","ParamDictionaryIdentifierURef","dictionaryName","AccountNamedKey","ParamDictionaryIdentifierContractNamedKey","accountNamedKey","contractNamedKey","uRef","dictionary","ParamDictionaryIdentifier","SpeculativeExecParams","mainPurseUnderPublicKey","mainPurseUnderAccountHash","mainPurseUnderEntityAddr","purseUref","PurseIdentifier","fromUref","uref","URef","purseIdentifier","QueryBalanceRequest","QueryBalanceDetailsRequest","validator","delegator","eraIdentifier","InfoGetRewardRequest","purseURef","StateGetBalanceRequest","dictionaryIdentifier","StateGetDictionaryRequest","RpcResponse","AuctionState","StateGetAuctionInfoResult","AuctionStateV1","StateGetAuctionInfoV1Result","AuctionStateV2","StateGetAuctionInfoV2Result","toQueryBalanceResult","queryBalanceResult","QueryBalanceResult","apiVersion","balance","balanceValue","CLValueUInt512","StateGetBalanceResult","Account","StateGetAccountInfo","AddressableEntity","NamedKey","EntryPointValue","RpcAddressableEntity","EntityOrAccount","StateGetEntityResult","BlockWithSignatures","BlockV1","ChainGetBlockResultV1Compatible","ChainGetBlockResult","parsedResult","parse","rawJSON","newChainGetBlockResultFromV1Compatible","result","chainGetBlockResult","blockV1","Block","newBlockFromBlockV1","blockWithSignatures","newBlockFromBlockWrapper","proofs","Transfer","map","it","ChainGetBlockTransfersResult","EraSummary","ChainGetEraSummaryResult","toInfoGetTransactionResult","executionInfo","ExecutionInfo","executionResult","executionResultsV1","length","fromV1","InfoGetTransactionResult","newTransactionFromDeploy","DeployExecutionInfo","DeployExecutionResult","InfoGetDeployResult","temp","InfoGetTransactionResultV1Compatible","newInfoGetTransactionResultFromV1Compatible","Transaction","InfoGetDeployResultV1Compatible","Hash","executionResults","transactionV1","fromTransactionV1","info","initiator","InitiatorAddr","header","account","ChainGetEraInfoResult","StoredValue","StateGetItemResult","StateGetDictionaryResult","BlockHeader","QueryGlobalStateResult","NodePeer","InfoGetPeerResult","ValidatorState","ChainGetStateRootHashResult","StatusChanges","ValidatorChanges","InfoGetValidatorChangesResult","NodeNextUpgrade","BlockSyncStatus","BlockSynchronizerStatus","MinimalBlockInfo","Timestamp","low","high","InfoGetStatusResult","PutDeployResult","PutTransactionResult","SpeculativeExecResult","executionResultV1","execJson","execution_result","block_hash","fromHex","limit","consumed","SpeculativeExecutionResult","ExecutionResultV1","console","warn","BalanceHoldWithProof","QueryBalanceDetailsResult","InfoGetRewardResult","ChainspecBytes","InfoGetChainspecResult","BlockHeaderV1","QueryGlobalStateResultV1Compatible","handler","getDeploy","paramDeployHash","processRequest","GetDeploy","resp","parseResponse","getDeployFinalizedApproval","getTransactionByTransactionHash","transactionHashParam","fromTransactionHash","GetTransaction","txResult","getTransactionByDeployHash","fromDeployHash","getTransactionFinalizedApprovalByTransactionHash","getTransactionFinalizedApprovalByDeployHash","getStateItem","rootHash","getStateRootHashLatest","latestHashResult","toHex","stateRootHashParam","GetStateItem","queryLatestGlobalState","queryGlobalStateParam","QueryGlobalState","queryGlobalStateByBlockHash","queryGlobalStateByBlockHeight","queryGlobalStateByStateHash","queryGlobalStateParamWithoutRootHash","queryGlobalState","getLatestEntity","getStateEntityParam","GetStateEntity","getEntityByBlockHash","getEntityByBlockHeight","getAccountInfoByBlockHash","pub","accountInfoBalance","GetStateAccount","getAccountInfoByBlockHeight","getAccountInfo","identifier","accountParam","toPrefixedString","getDictionaryItem","getDictionaryItemByIdentifier","stateDictionaryParam","GetDictionaryItem","getLatestBalance","stateBalance","GetStateBalance","getBalanceByStateRootHash","getEraInfoLatest","GetEraInfo","getEraInfoByBlockHeight","blockIdentifierParam","getEraInfoByBlockHash","getLatestBlock","GetBlock","blockResult","getBlockByHash","getBlockByHeight","getLatestBlockTransfers","GetBlockTransfers","getBlockTransfersByHash","getBlockTransfersByHeight","getEraSummaryLatest","GetEraSummary","getEraSummaryByHash","getEraSummaryByHeight","getLatestAuctionInfo","getLatestAuctionInfoV2","auctionInfoV2","auctionInfoResult","auctionState","fromV2","includes","getLatestAuctionInfoV1","auctionInfoV1","GetAuctionInfo","GetAuctionInfoV2","getAuctionInfoByHash","getAuctionInfoV2ByHash","resV2","getAuctionInfoV1ByHash","resV1","getAuctionInfoByHeight","getAuctionInfoV2ByHeight","getAuctionInfoV1ByHeight","GetStateRootHash","getStateRootHashByHash","getStateRootHashByHeight","getValidatorChangesInfo","GetValidatorChanges","getStatus","GetStatus","getPeers","GetPeers","putDeploy","deployRequestParam","PutDeploy","putTransaction","transactionRequestParam","getTransactionWrapper","PutTransaction","queryLatestBalance","queryBalanceParam","QueryBalance","queryBalanceByBlockHeight","queryBalanceByBlockHash","queryBalanceByStateRootHash","queryLatestBalanceDetails","QueryBalanceDetails","queryBalanceDetailsByStateRootHash","queryBalanceDetailsByBlockHeight","queryBalanceDetailsByBlockHash","getChainspec","InfoGetChainspec","getValidatorRewardByEraID","eraID","rewardParam","GetReward","getValidatorRewardByBlockHash","getValidatorRewardByBlockHeight","getDelegatorRewardByEraID","getDelegatorRewardByBlockHash","getDelegatorRewardByBlockHeight","getLatestValidatorReward","getLatestDelegatorReward","waitForConfirmation","getInfo","timeout","maxRetries","retryDelay","timer","setTimeout","attempts","clearTimeout","sleep","waitForTransaction","bind","waitForDeploy","type","parsed","reqID","error","RpcClient","newSpeculativeClient","SpeculativeClient","speculativeExec","speculativeParams","SpeculativeExec","eventStreamUrl","subscribedTo","parser","EventParser","subscribe","eventName","eventHandlerFn","some","e","Err","push","Ok","unsubscribe","filter","runEventsLoop","event","forEach","sub","shouldHandleEvent","rawEvent","parseEvent","lastEventId","start","eventId","separator","requestUrl","eventSource","onmessage","onerror","stop","close","SseClient","EventName","eventType","parseAsAPIVersionEvent","APIVersionEvent","parseAsDeployProcessedEvent","DeployProcessedEvent","parseAsBlockAddedEvent","BlockAddedEvent","parseAsDeployAcceptedEvent","DeployAcceptedEvent","parseAsFinalitySignatureEvent","FinalitySignatureEvent","parseAsTransactionExpiredEvent","TransactionExpiredEvent","parseAsTransactionProcessedEvent","TransactionProcessedEvent","parseAsTransactionAcceptedEvent","TransactionAcceptedEvent","parseAsFaultEvent","FaultEvent","parseAsStepEvent","StepEvent","RawEvent","BlockAdded","blockAdded","parsedData","blockWrapper","BlockAddedWrapper","blockV2","parsedV1Event","BlockAddedV1","BlockAddedEventV1","BlockWrapper","BlockAddedEventWrapper","DeployProcessedPayload","DeployExpiredPayload","DeployExpiredEvent","TransactionAcceptedPayload","TransactionAccepted","transactionEvent","wrapper","transactionAcceptedPayload","deployEvent","deployAccepted","TransactionExpiredPayload","transactionExpiredPayload","TransactionExpired","payload","deployExpired","ExecutionResult","Message","TransactionProcessedPayload","TransactionProcessed","parsedTransactionPayload","transactionProcessedPayload","deployProcessed","initiatorAddr","timestamp","ttl","messages","HexBytes","FinalitySignatureV1","FinalitySignatureV2","FinalitySignatureWrapper","FinalitySignature","finalitySignature","wrapped","v1","signature","originFinalitySignatureV1","v2","chainNameHash","v1Event","FaultPayload","Effect","Transform","StepPayload","prototype","hasOwnProperty","call","AssociatedKey","ActionThresholds","TransactionRuntime","EntityKind","EntityActionThresholds","NamedEntryPoint","normalizedJSON","entry_point","EntryPointV1","toBytes","toBytesString","CLValueParser","toBytesWithType","concat","toBytesWithNamedArg","source","buffer","ArrayBuffer","view","DataView","offset","nameBytes","TextEncoder","encode","byteLength","expandBuffer","writeInteger","Uint8Array","set","valueBytes","fromBytes","bytes","nameLength","getUint32","slice","TextDecoder","decode","NamedArg","fromBytesWithType","desRA","_arr","Map","Array","from","size","args","Args","getByName","argName","get","fromMap","keys","k","fromNamedArgs","namedArgs","reduce","pre","cur","insert","vec","entries","a","valueByteList","splice","toBytesU32","numArgs","i","namedArgBytes","namedArg","jsonMapMember","CLValue","serRA","Bid","PublicKeyAndBid","ValidatorWeightAuction","EraValidators","bid","BidKind","BidKindWrapper","bids","pkAndBid","ValidatorBid","bondingPurse","delegationRate","inactive","stakedAmount","vestingSchedule","reservedSlots","validatorPublicKey","maximumDelegationAmount","DEFAULT_MAXIMUM_DELEGATION_AMOUNT","minimumDelegationAmount","DEFAULT_MINIMUM_DELEGATION_AMOUNT","bidKind","delegators","delegatorBid","Delegator","delegatorKind","state","eraValidators","bidWrapper","UnbondEra","UnbondKind","Unbond","DelegationKind","hasPublicKey","hasPurse","purse","Purse","urefBytes","bytesWithAccess","VestingSchedule","BigInt","newDelegatorFromDelegatorV1","delegationKind","delegatee","isArray","delegator_public_key","item","delegatorJson","delegatorV1","DelegatorV1","Credit","Bridge","Reservation","unified","bridge","credit","reservation","unbond","Proof","lastSwitchBlockHash","parentHash","accumulatedSeed","randomBit","currentGasPrice","proposer","protocolVersion","eraEnd","transactions","rewardedSignatures","originBlockV1","originBlockV2","getBlockV1","getBlockV2","EraEnd","blockTransactions","transferHashes","transferHash","BlockTransaction","TransactionCategory","Mint","TransactionVersion","deployHashes","Large","Proposer","dimensions","BlockV2","category","Auction","InstallUpgrade","Medium","Small","getBlockTransactionsFromTransactionHashes","getEnumKeyByValue","hashes","V1","EraEndV1","BlockBodyV1","EraEndV2","BlockHeaderV2","acc","tx","BlockBodyV2","BlockHeaderWrapper","getBlockHeaderV1","originBlockHeaderV1","getBlockHeaderV2","originBlockHeaderV2","newBlockHeaderFromV1","blockHeader","bodyHash","newBlockHeaderFromV2","isSystem","src","keypair","isSystemProposer","getPublicKey","getPublicKeyOptional","kind","isEmpty","isV1CasperWasm","SystemByteCode","toBytesNumber","bitSize","signed","BigNumber","maxUintValue","MaxUint256","mask","bounds","gt","lt","add","One","mul","NegativeOne","Zero","valTwos","toTwos","arrayify","gte","eq","reverse","toBytesU8","toBytesU16","toBytesI32","toBytesU64","toBytesI64","toBytesU128","toBytesU256","toBytesU512","str","arr","Buffer","fromBytesString","byte","x","blake2b","dkLen","fromBytesU64","setInt32","writeUShort","setUint16","writeBytes","setUint8","currentBuffer","requiredSize","newSize","newBuffer","index","serializedVecSize","Field","fields","currentOffset","addField","field","calltableBytes","payloadBytes","getField","find","f","instance","CalltableSerialization","fieldCount","parseU32","parseU16","fieldOffset","payloadSize","end","contractPackageHash","contractWasmHash","entryPoints","namedKeys","ContractPackageHash","ContractHash","Contract","ContractGroup","contractGroup","groupUsers","group","groupName","contractHash","contractVersion","protocolVersionMajor","ContractVersion","accessKey","disabledVersions","groups","versions","lockStatus","deserializeDisabledVersions","ContractPackage","ContractWasm","encodeBase64","decodeBase64","base64String","base64to16","base64","Conversions","encodeBase16","decodeBase16","base16String","csprToMotes","cspr","test","split","integerPart","decimalPart","motesToCSPR","motes","motesBigNumber","resultStr","toBigInt","padStart","replace","chainName","dependencies","gasPrice","Date","Duration","DEFAULT_DEPLOY_TTL","DeployHeader","dependenciesBytes","duration","default","payment","session","approvals","validate","paymentBytes","sessionBytes","concatenatedBytes","calculatedBodyHash","byteHash","headerBytes","calculatedHash","equals","approval","signer","verifySignature","sign","signatureBytes","signAndAddAlgorithmBytes","Approval","setSignature","hex","createNew","addArgToDeploy","setArg","makeDeploy","deployHeader","serializedBody","transactionEntryPoint","paymentAmount","transfer","TransactionEntryPoint","TransactionEntryPointEnum","moduleBytes","Call","entryPoint","storedContractByHash","storedContractByName","storedVersionedContractByHash","storedVersionedContractByName","Custom","amountArgument","getArgs","standardPayment","pricingMode","PricingMode","paymentLimitedMode","PaymentLimitedMode","gasPriceTolerance","paymentLimited","TransactionTarget","newTransactionTargetFromSession","TransactionScheduling","deployJson","isTransfer","isStandardPayment","isModuleBytes","asModuleBytes","getDeploySizeInBytes","hashSize","bodySize","b","ExecutableDeployItem","TransferHash","DeployInfo","EntryPointPayment","EntryPointType","clType","CLTypeRaw","parseCLType","EntryPointArg","access","entryPointType","entryPointPayment","ret","flags","functionIndex","EntryPointV2","v1CasperVm","v2CasperVm","amount","EraReward","equivocators","inactiveValidators","rewards","EraReport","nextEraValidatorWeights","nextEraGasPrice","ValidatorWeightEraEnd","serializeRewards","deserializeRewards","eraReport","rewardsMap","reward","validatorHex","has","DelegatorAllocation","ValidatorAllocation","DelegatorData","TempSeigniorageAllocation","SeigniorageAllocation","allocation","delegatorPublicKey","seigniorageAllocations","EraInfo","storedValue","merkleProof","ExecutableDeployItemType","lengthBytes","newCLUInt32","bytesArrayBytes","newCLByteArray","argBytes","byteArrayJsonSerializer","byteArrayJsonDeserializer","deserializeArgs","serializeArgs","ModuleBytes","hashBytes","entryPointBytes","newCLString","StoredContractByHash","StoredContractByName","optionBytes","CLValueOption","StoredVersionedContractByHash","StoredVersionedContractByName","TransferDeployItem","newTransfer","target","sourcePurse","runtimeArgs","newCLUInt512","newCLUref","newCLPublicKey","optionType","CLTypeOption","CLTypeUInt64","defaultClValue","option","newCLOption","newCLUint64","getArgByName","of","executableDeployItem","isStoredVersionContractByHash","isStoredVersionContractByName","isStoredContractByName","isStoredContractByHash","newModuleBytes","Key","newKey","Operation","operations","transforms","TransformKey","transfers","toNumber","ExecutionResultStatusData","effects","ExecutionResultV2","Version2","executionResultV2","errorMessage","cost","sizeEstimate","currentPrice","refund","originExecutionResultV2","Version1","success","effect","transform","isWriteTransfer","writeTransfer","parseAsWriteTransfer","gas","to","originExecutionResultV1","failure","results","deployExecutionInfo","join","hexString","match","calltableSerialization","jsonPubKey","jsonAccountHash","MessageTopicSummary","MessageTopic","MessagePayload","namedKey","NamedKeyValue","entityVersion","EntityVersionKey","addressableEntity","entityVersionKey","EntityVersionAndHash","Package","NamedUserGroup","PrepaymentKind","calltableSerializer","newCLUint8","newCLValueBool","additionalComputationFactor","FixedMode","receipt","PrepaidMode","fixed","prepaid","undefinedSafeByteArrayJsonSerializer","undefinedSafeByteArrayJsonDeserializer","shortEnglishHumanizer","humanizer","spacer","serialComma","conjunction","delimiter","language","languages","shortEn","d","h","m","s","ms","humanizerTTL","dehumanizerTTL","raSerializer","Named","ra","asNamed","argsArray","values","protocol_version_major","UnbondingPurse","date","toMilliseconds","getTime","toISOString","toDate","toDurationString","substring","parseDurationString","durationStr","parts","totalMs","part","TransactionError","ErrInvalidTransactionHash","ErrInvalidApprovalSignature","ErrTransactionV1FromJson","getHash","other","thisBytes","otherBytes","every","len","TransactionV1","HASH_FIELD_INDEX","PAYLOAD_FIELD_INDEX","APPROVALS_FIELD_INDEX","newTransactionV1","makeTransactionV1","txData","initiator_addr","TransactionV1Payload","scheduling","originTransactionV1","originDeployV1","getTransactionV1","fromDeploy","txV1","_timestamp","_ttl","_scheduling","_initiatorAddr","accountHashKey","_chainName","_contractHash","_pricingMode","_getDefaultDeployHeader","_getStandardPayment","build","transactionPayload","_runtimeArgs","transactionTarget","_invocationTarget","_entryPoint","_amount","_amountRow","_publicKey","_target","targetAccountHash","_idTransfer","buildFor1_5","TransactionBuilder","NativeTransferBuilder","AddBid","_validator","_delegationRate","_minimumDelegationAmount","_maximumDelegationAmount","_reservedSlots","AuctionManagerContractHashMap","casper","newContract","addBid","NativeAddBidBuilder","WithdrawBid","public_key","withdrawBid","NativeWithdrawBidBuilder","Delegate","delegate","NativeDelegateBuilder","Undelegate","undelegate","NativeUndelegateBuilder","Redelegate","newValidator","_newValidator","new_validator","redelegate","NativeRedelegateBuilder","ActivateBid","activateBid","NativeActivateBidBuilder","ChangeBidPublicKey","previousPublicKey","_public_key","newPublicKey","_new_public_key","new_public_key","NativeChangeBidPublicKeyBuilder","invocationTarget","TransactionInvocationTarget","_transactionInvocationTarget","storedTarget","StoredTarget","runtime","vmCasperV1","byName","byPackageHash","packageHashInvocationTarget","ByPackageHashInvocationTarget","addr","transactionInvocationTarget","byPackageName","packageNameInvocationTarget","ByPackageNameInvocationTarget","customEntryPoint","ContractCallBuilder","_isInstallOrUpgrade","wasm","wasmBytes","sessionTarget","SessionTarget","isInstallUpgrade","installOrUpgrade","SessionBuilder","TransactionEntryPointTag","tag","AddReservations","CancelReservations","tagBytes","customBytes","customSerialization","customFlag","customEntryPointBytes","CLValueString","TransactionSchedulingTag","FutureEraScheduling","FutureTimestampScheduling","standard","futureEra","futureTimestamp","Native","FutureEra","FutureTimestamp","calltable","eraIDBytes","timestampBytes","timestampMs","_tag","VM_CASPER_V1_TAG","vmCasperV2","VM_CASPER_V2_TAG","TAG_FIELD_INDEX","versionBytes","CLTypeUInt32","packageHashBytes","protocolVersionMajorBytes","CLValueUInt32","packageHash","moduleBytesLength","Uint32Array","native","stored","Stored","Session","versionNum","PayloadFields","transactionScheduling","missingFields","payloadFields","getFieldValue","fieldIndex","fieldsBytes","runtimeArgsBuffer","runtimeArgsView","setUint32","runtimeArgsBytes","runtimeArgsWithLength","targetBytes","targetWithLength","entryPointWithLength","schedulingBytes","schedulingWithLength","TransferV1","TransferV2","TransferVersioned","getTransferV1","originTransferV1","getTransferV2","originTransferV2","versioned","fromTransferV1","v1Compatible","transferV1","TransformKind","isTransformation","isWriteAccount","isCLValueWrite","isWriteContract","jsonRes","RawWriteContract","Write","isWriteWithdraw","isWriteUnbonding","isWriteCLValue","isWritePackage","isWriteAddressableEntity","isWriteBidKind","isWriteNamedKey","isWriteMessage","isWriteMessageTopic","isWriteBid","isAddUint512","isWriteDeployInfo","isWriteContractPackage","RawWriteContractPackage","RawWriteTransferTransform","WriteTransfer","parseAsWriteWithdraws","RawWriteWithdrawals","UnbondingPurses","parseAsWriteAddressableEntity","TranformAddressableEntityRawData","parseAsWritePackage","PackageRawData","parseAsWriteBidKind","BidKindRawData","parseAsWriteNamedKey","RawDataNamedKey","parseAsWriteMessage","RawDataMessage","parseAsWriteMessageTopic","RawDataMessageTopic","parseAsWriteUnbondings","RawWriteUnbonding","parseAsUInt512","RawUInt512","UInt512","parseAsWriteAccount","parsed2x","RawWriteAccount2XTransform","parsed1x","RawWriteAccount1XTransform","WriteAccount","parseAsWriteDeployInfo","RawWriteDeployInfo","WriteDeployInfo","parseAsWriteCLValue","RawWriteCLValue","WriteCLValue","jsonRes2","RawWriteCLValueV2","parseAsWriteContract","parseAsWriteContractPackage","containsKeyRecursive","obj","NamedKeyKind","TranformAddressableEntity","TranformPackageData","TranformBidKindData","WriteNamedKey","WriteMessage","WriteMessageTopic","WriteContract","WriteContractPackage","RawWriteAccount2XTransformAccount","RawWriteAccount2XTransformWrite","CLValueAny","getValue","CLValueBool","subarray","CLValueByteArray","getType","CLTypeDynamic","inner","getValueByType","getTypeID","TypeID","Bool","bool","I32","i32","I64","i64","U8","ui8","U32","ui32","U64","ui64","U128","ui128","U256","ui256","U512","ui512","Unit","unit","stringVal","Option","List","list","ByteArray","byteArray","Result","Tuple1","tuple1","Tuple2","tuple2","Tuple3","tuple3","Any","any","getKey","newCLKey","clValue","CLTypeKey","CLTypeUref","CLTypePublicKey","newCLAny","res","CLTypeAny","CLTypeBool","clValueByteArray","CLTypeByteArray","newCLList","elementType","elements","listType","CLTypeList","CLValueList","newCLMap","keyType","valType","mapType","CLTypeMap","CLValueMap","clTypeForOption","newCLResult","innerOk","innerErr","isSuccess","resultType","CLTypeResult","CLValueResult","CLTypeString","newCLTuple1","tupleType","CLTypeTuple1","CLValueTuple1","newCLTuple2","val1","val2","CLTypeTuple2","CLValueTuple2","newCLTuple3","val3","CLTypeTuple3","CLValueTuple3","newCLUnit","CLTypeUnit","CLValueUnit","newCLInt32","CLTypeInt32","CLValueInt32","newCLInt64","CLTypeInt64","CLValueInt64","CLTypeUInt8","CLValueUInt8","CLValueUInt64","newCLUInt128","CLTypeUInt128","CLValueUInt128","newCLUInt256","CLTypeUInt256","CLValueUInt256","CLTypeUInt512","elementsType","strData","one","append","remove","pop","u32","u32Bytes","remainder","fromBytesByType","innerBytes","indexedData","kvBytes","element","byteKey","inner1","byteVal","inner2","getMap","v","getData","findAny","keyString","tuple","mapResult","keyVal","valVal","originalBytes","CLValueNumeric","Int32ByteSize","i32Bytes","fromTwos","Int64ByteSize","resultBytes","arrayEquals","fromBytesUInt128","fromBytesUInt256","num","mod","isZero","isNegative","fromBytesUInt512","u64Bytes","u8","u8Bytes","ErrUnsupportedCLType","CLTypeParser","fromInterface","cl_type","clEntity","rawBytes","clTypeBytes","toBytesArrayU8","sourceType","matchBytesToCLType","boolValue","u64","u128","u256","u512","stringValue","anyType","byteArrayType","typeBytes","expectedTypeName","getName","actualTypeName","successByte","innerType","sizeBytes","sizeToBytes","uint32Value","innerVal","inner1Bytes","inner2Bytes","inner3","inner3Bytes","bigToBytes","toHexString","numberLen","bigFromBuffer","getUint8","fromBytesBigIntBase","byteSize","n","bigIntBytes","uintBytes","TypeName","getSize","typeID","typeName","SimpleType","rawMessage","fromRawJson","MapJsonParsingError","getSimpleTypeByName","simpleTypeByName","simpleTypeByID","optionInner","listInner","listBytes","byteArraySize","byteArrayBytes","errBytes","keyBytes","valBytes","innerTypeRes","tuple1Bytes","innerType1Res","innerType1Bytes","innerType2Res","innerType2Bytes","innerType1","innerType1Byte","innerType2","innerType2Byte","innerType3","innerType3Byte","BufferConstructorNotDetectedError","rawData","fromComplexStruct","ComplexTypeFormatInvalidError","ErrJsonConstructorNotFound","ErrComplexTypeFormatNotDetected","ErrInvalidResultJsonFormat","ok","okData","errData","originPrefix","startsWith","PrefixName","AddressableEntityHash","hexBytes","BalanceHoldAddrTag","getBalanceHoldAddrTag","Gas","Processing","BalanceHoldAddrTagError","purseAddr","blockTime","Hold","processing","BalanceHoldAddr","decoded","BalanceHold","hold","holdType","ByteHashLen","blockTimeMillis","blockTimeBuffer","alloc","writeBigUInt64LE","balanceHoldAddrTag","getBigUint64","BidAddrTag","ErrInvalidBidAddrTag","ErrUnexpectedBidAddrTagInBidAddr","ErrInvalidBidAddrFormat","BidAddr","bidAddrTag","addrTag","getTag","bidAddr","UnifiedTag","ValidatorTag","DelegatedAccountTag","ReservedDelegationAccountTag","UnbondAccountTag","delegatorAccount","DelegatedPurseTag","ReservedDelegationPurseTag","UnbondPurseTag","delegatorPurseAddress","CreditTag","eraId","readUInt32LE","rem","parseHashPair","input","nextBytes","parseHexBytesPair","unifiedHash","validatorHash","eraIdBytes","tagHex","eraIdHex","writeUInt32LE","typeByte","createBuffer","buffers","eraIdBuffer","BlockGlobalAddrTag","getBlockGlobalAddrTag","BlockTime","MessageCount","BlockGlobalAddrTagError","BlockTimePrefix","MessageCountPrefix","messageCount","BlockGlobalAddr","prefix","emptyHash","repeat","ByteCodeKind","EmptyPrefix","V1WasmPrefix","ErrInvalidByteCodeFormat","ByteCodeError","ErrInvalidByteCodeKind","V1CasperWasm","ByteCode","isEmptyCode","fill","newByteCodeKindFromByte","EmptyKind","V1CasperWasmKind","wasmHash","kindBytes","toPrefixedWasmString","EntityContract","newContractPackage","ContractPackageWasm","EntityKindType","ErrInvalidEntityAddrFormat","ErrInvalidEntityKind","system","smartContract","Entity","fromPrefixedString","SystemKind","AccountKind","SmartContractKind","entityKindTag","getEntityKindFromByte","EntryPointTag","getEntryPointTag","V1EntryPoint","V2EntryPoint","EntryPointError","V1Prefix","V2Prefix","VmCasperV1","selector","VmCasperV2","EntryPointAddr","lastIndex","lastIndexOf","selectorBuffer","entryPointTag","entityBytes","selectorBytes","array","Era","StringHashLen","fromBuffer","createHashArray","chunk","KeyTypeID","KeyTypeName","typeIDbyNames","EraId","Balance","Withdraw","Dictionary","SystemContractRegistry","ChainspecRegistry","ChecksumRegistry","keyIDbyPrefix","BlockGlobal","EntryPoint","KEY_DEFAULT_BYTE_LENGTH","withKeyTypeID","concatBytes","withdraw","systemContactRegistry","chainspecRegistry","checksumRegistry","eraSummary","package","byteCode","blockGlobal","balanceHold","fieldBytes","contentBytes","hashParsed","splitAt","eraBytes","eraRemainder","withdrawHash","systemContractRegistry","unbondHash","unbondBytes","chainBytes","chainspecRegistryBytes","bidAddrBytes","entityAddrBytes","byteCodeBytes","MessageAddr","messageAddr","messageAddrBytes","NamedKeyAddr","namedKeyBytes","blockGlobalBytes","balanceHoldBytes","findPrefixByMap","prefixes","_","createByType","parseTypeByString","openBracketIndex","indexOf","keyTypeStr","keyValue","defaultHash","clonedArray","TopicPrefix","PrefixNameMessage","topicNameHash","messageIndex","hashAddr","topicHash","messageIndexArray","topicBytes","indexBuffer","baseAddr","nameBytesData","baseAddrSource","PrefixNameTransfer","initializeFromSource","hashHex","UrefAccess","ErrIncorrectUrefFormat","PrefixNameURef","accessBytes","setAccess","toDriverValue","arrayBuffer","dataView","KeyAlgorithm","KeySettings","ED25519","SECP256K1","algorithm","toByte","KeyAlgorithmUtils","alg","priv","toPem","msg","algBytes","rawSign","generate","PrivateKeyFactory","createPrivateKey","pubBytes","publicKeyBytes","PrivateKey","fromPem","content","createPrivateKeyFromPem","createPrivateKeyFromHex","ErrEmptySignature","ErrInvalidPublicKeyAlgo","ErrInvalidSignature","ErrEmptyPublicKey","HEX_CHARS","cryptoAlg","cryptoAlgBytes","checksummed","rawHex","publicKeyHex","isChecksummed","keyData","algString","toLowerCase","separatorByte","bytesToHash","blakeHash","sig","sigWithoutAlgByte","expectedPublicKeySize","isSameCase","isValidPublicKey","inputNibbles","accum","hashBits","output","j","bytesToBitsCycle","nibble","c","next","toUpperCase","contains","PublicKeyList","ed25519","utils","sha512Sync","sha512","ED25519_PEM_SECRET_KEY_TAG","randomPrivateKey","sync","keyHex","derPrefix","encoded","privateKeyBytes","readBase64WithPEM","parseKey","PemFramePrivateKeyPrefixSize","ED25519_PEM_PUBLIC_KEY_TAG","verify","secp256k1","hmacSha256Sync","hmac","sha256","getPublicKeyBytes","signSync","der","hexToBytes","encodePrivate","rawKeyHex","encodePublic","compactSignature","Signature","fromDER","toCompactRawBytes","point","Point","compressedKey","toRawBytes","options","curveParameters","privatePEMOptions","label","publicPEMOptions","curve","ec","algorithmID","ECPrivateKeyASN","define","self","seq","int","octstr","explicit","objid","optional","bitstr","SubjectPublicKeyInfoASN","privateKey","originalFormat","destinationFormat","privateKeyObject","rawPrivateKey","rawPublicKey","parameters","unused","privateKeyObjectFn","keyFromPrivate","getPublic","publicKeyObject","trim","makeAuctionManagerDeploy","delegatorPublicKeyHex","validatorPublicKeyHex","contractEntryPoint","Mainnet","newValidatorPublicKeyHex","newValidatorValidatorPublicKey","auctionContractHash","makeAuctionManagerTransaction","casperNetworkApiVersion","txBuilder","rpcClient","CasperNetwork","createDelegateTransaction","networkName","amountMotes","deployCost","createUndelegateTransaction","createRedelegateTransaction","newValidatorPublicKey","createTransferTransaction","senderPublicKey","recipientPublicKey","transferBuilder","createContractCallTransaction","contractCall","createContractPackageCallTransaction","createSessionWasmTransaction","sessionWasm","Promise","reject","getTransaction","getTransactionOnCasper2x","getTransactionOnCasper1x","NoSuchTransaction","makeCep18TransferDeploy","senderPublicKeyHex","recipientPublicKeyHex","transferAmount","recipient","makeCep18TransferTransaction","getRuntimeArgsForCep47Transfer","tokenId","token_ids","getRuntimeArgsForCep95Transfer","token_id","makeNftTransferDeploy","nftStandard","tokenHash","getRuntimeArgsForNftTransfer","makeNftTransferTransaction","CEP95","CEP47","CEP78","getRuntimeArgsForCep78Transfer","target_key","source_key","enumObj","resolve","Testnet","Integration","DevNet","makeCsprTransferDeploy","memo","recipientKey","senderKey","makeCsprTransferTransaction","module","exports","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}